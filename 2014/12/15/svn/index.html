<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">

    

    

    <title>svn commit 守则 | Justbilt</title>
    <meta name="author" content="justbilt">
    <meta name="version" content="1.0.0">
    <meta name="keywords" content="">
    <meta name="description" content="晚上实在是睡不着, 起来把这个坑填了. 其实想写这篇文章好久了, 因为一些不好的习惯吃了一些亏, 加上团队中发现的一些问题, 记下来, 时刻提醒下自己.1. 提交日志必要性:这个我想应该不需要强调吧, 最基本的东西, 一般稍微严格些的团队都会有硬性的要求. 这是一个利人利己的工作, 想知道自己几周前干了什么, 看log是最佳的方式了. 准确性:提交信息应该是准确的描述你这次提交干了些什么, 其他的前戏和废话则不要有. 如果有需要强调的地方, 还应该备注出来. 而且一个团队应该有约定的...">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">

    
    <link rel="alternate" href="/atom.xml" title="Justbilt" type="application/atom+xml">
    
    
    <link rel="icon" href="/favicon/favicon.png">
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <main class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <div class="nav-mobile">
        <button id="open-panel" class="open-panel nav-mobile-item"><i class="icon-documents"></i></button>
        <h1 class="nav-mobile-title nav-mobile-item">Justbilt</h1>
        <button id="open-menus" class="open-panel nav-mobile-item"><i class="icon-library"></i></button>
    </div>

    <nav id="nav-inner" class="nav-inner">
        
            <a class="nav-item" href="/">
                <span class="nav-text">首页</span>
            </a>
        
            <a class="nav-item" href="/tags/Cocos2d-x/">
                <span class="nav-text">Cocos</span>
            </a>
        
            <a class="nav-item" href="/tags/年结/">
                <span class="nav-text">年结</span>
            </a>
        
            <a class="nav-item" href="/tags">
                <span class="nav-text">标签</span>
            </a>
        
            <a class="nav-item" href="/archives">
                <span class="nav-text">归档</span>
            </a>
        
            <a class="nav-item" href="/atom.xml">
                <span class="nav-text">订阅</span>
            </a>
        
            <a class="nav-item" href="/about">
                <span class="nav-text">关于</span>
            </a>
        
    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="http://blog.justbilt.com"></form>

        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-提交日志"><span class="toc-number">1.</span> <span class="toc-text">1. 提交日志</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-一次提交只做一件事"><span class="toc-number">2.</span> <span class="toc-text">2. 一次提交只做一件事</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-review-你的更改"><span class="toc-number">3.</span> <span class="toc-text">3. review 你的更改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-避免无意义的提交"><span class="toc-number">4.</span> <span class="toc-text">4. 避免无意义的提交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-确保你的程序能够运行"><span class="toc-number">5.</span> <span class="toc-text">5. 确保你的程序能够运行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-clear-你的工作区"><span class="toc-number">6.</span> <span class="toc-text">6. clear 你的工作区</span></a></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content"><article class="article" itemscope="" itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            svn commit 守则
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://blog.justbilt.com/2014/12/15/svn/index.html">
    
    <i class="icon-calendar"></i>
    
    <time datetime="2014-12-14T16:58:31.000Z" itemprop="datePublished">2014-12-15</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag"></i>
    <a class="article-tag-link" href="/tags/游戏心得/">游戏心得</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>晚上实在是睡不着, 起来把这个坑填了. 其实想写这篇文章好久了, 因为一些不好的习惯吃了一些亏, 加上团队中发现的一些问题, 记下来, 时刻提醒下自己.</p>
<a id="more"></a>
<h3 id="1-提交日志"><a href="#1-提交日志" class="headerlink" title="1. 提交日志"></a>1. 提交日志</h3><p><strong>必要性:</strong>这个我想应该不需要强调吧, 最基本的东西, 一般稍微严格些的团队都会有硬性的要求. 这是一个利人利己的工作, 想知道自己几周前干了什么, 看log是最佳的方式了. </p>
<p><strong>准确性:</strong>提交信息应该是准确的描述你这次提交干了些什么, 其他的前戏和废话则不要有. 如果有需要强调的地方, 还应该备注出来. 而且一个团队应该有约定的格式, 比如 <code>fix issue xxx</code>, <code>add xxx</code>,这样会在后期日志定位时非常的方便.</p>
<h3 id="2-一次提交只做一件事"><a href="#2-一次提交只做一件事" class="headerlink" title="2. 一次提交只做一件事"></a>2. 一次提交只做一件事</h3><p>这样子是为了方便以后<code>revert</code> 和 <code>merge</code> 操作, 举个栗子,比如你一次提交了两个功能, 但是其中的一个功能可能被砍掉或者会引发一个非常严重的bug, 改动的文件非常多, 必须使用<code>revert</code>操作, 然后就傻逼了, 另外一个功能也被回滚掉了.再比如, 你需要<code>merge</code>同事的代码, 但他的一个功能目前你不需要或者合并后会出现问题, 这时候肯定会在内心问候对方的. </p>
<p>因此, 需要我们掌握的一个技巧就是<strong>分多次提交工作区的更改</strong>, 是的, 我见过一个同事每次必须一次性吧所有更改都提交完, 然后在日志里写: <code>1.xxx 2.xxx 3.xxx</code>, 何必呢! 分多次提交可能会导致某一个版本无法正常运行, 因此一定要仔细检查.</p>
<h3 id="3-review-你的更改"><a href="#3-review-你的更改" class="headerlink" title="3. review 你的更改"></a>3. review 你的更改</h3><p>这点中的<strong>十分重要</strong>, 但也是最容易忽略的一些. <strong>一定要在提交前挨个对比文件的每一处更改</strong>, 这个可能会花费你的一些时间, 但相比与带来的好处这的不值一提. 在这一步你会发现一些隐藏的bug.</p>
<h3 id="4-避免无意义的提交"><a href="#4-避免无意义的提交" class="headerlink" title="4. 避免无意义的提交"></a>4. 避免无意义的提交</h3><p>这是什么意思呢, 就是某些更改可能是没有意义的, 包扩一些空格, 换行, 测试代码. 这些都应该在提交前的review中删除掉. 举个栗子,比如工程的config文件中DEBUG变量,默认值为1,你可能在这次提交时改成2, 那次提交时改成3, 最后又改回成1, 这样莫名的config文件在svn上就莫名多了3次版本,而且毫无意义, 这种情况下就不应该提交这个文件.</p>
<h3 id="5-确保你的程序能够运行"><a href="#5-确保你的程序能够运行" class="headerlink" title="5. 确保你的程序能够运行"></a>5. 确保你的程序能够运行</h3><p>你可能会说这当然了, 但是你在提交前有运行过你的程序吗? review之后呢? 我想没有什么比更新下来的代码不能运行更蛋疼的事情了. 而且真的有的人在没有做完一个功能运行报错的情况下就提交代码.</p>
<h3 id="6-clear-你的工作区"><a href="#6-clear-你的工作区" class="headerlink" title="6. clear 你的工作区"></a>6. clear 你的工作区</h3><p>对于提交完还存在于你的工作区更改列表的文件, 你的选择有<code>ignore/revert/delete</code>, 总有一个适合你. 我曾经见到一个同事提交完后svn中还充斥着数十个更改文件, 分散在各个目录中. 导致每次提交都得”精挑细选”下. 一个干净的工作区绝对是一天好心情的开始!!!</p>
<p>因此, 一个最佳的commit流程应该是:</p>
<blockquote>
<p>test –&gt;&gt; review –&gt;&gt; test again –&gt;&gt; commit –&gt;&gt; clear</p>
</blockquote>
<p>我希望被我提到的同事不要生气或愤怒, 因为我坚信一句话: 和聪明的人一起共事最大的好处是不用顾忌对方的自尊心!</p>

        
    </section>
</article>



</div>
        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>

    
        &ensp;
        <span id="cnzz_stat_icon_1271274815" class="vm"></span>
        <script src="//s13.cnzz.com/stat.php?id=1271274815&show=pic" type="text/javascript"></script>
    
</footer>

    </main>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var nodes = {
            nav: $('#nav'),
            aside: $('#aside'),
            asideInner: $('#aside-inner'),
            navInner: $('#nav-inner')
        };

        var doing = false;
        nodes.asideInner.on('webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend', function() {
            if (nodes.aside.hasClass('mobile-open')) {
                nodes.aside.removeClass('mobile-open');
            } else {
                nodes.aside.removeClass('mobile-close panel-show');
            }
            doing = false;
        });
        $('#open-panel, #aside-mask').on('click', function() {
            if (doing) {
                return;
            }
            
            if (nodes.aside.hasClass('panel-show')) {
                nodes.aside.addClass('mobile-close');
            } else {
                nodes.aside.addClass('mobile-open panel-show');
            }
        });
        $('#open-menus').on('click', function() {
            nodes.navInner.slideToggle();
        });

        if (window.innerWidth <= 960) {
            setTimeout(function() {
                nodes.navInner.slideUp();
            }, 3000);
        }
    });
    </script>
    
        <script type="text/javascript" src="/js/scrollspy.min.js"></script>
        <script type="text/javascript">
        $(document.body).scrollspy({target: '#aside-inner'});
        </script>
    

</body>
</html>
