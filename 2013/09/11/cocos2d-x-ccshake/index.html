<!DOCTYPE html>
<html>
  <!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  
  <title>cocos2d-x 抖动效果 CCShake - Justbilt</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  
  <meta name="keywords" content=cocos2d-x>
  
    <meta name="description" content="A game developer">
  
  
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.02">
  
  
    <link rel="alternate" href="/atom.xml " title="Justbilt" type="application/atom+xml">
  

  <link rel="stylesheet" href="/css/style.css">
</head>
  <body>
    <div class="container">
      <header class="header">
  <div class="blog-title">
    <a href="/" class="logo">Justbilt</a>
    <div class="subtitle">A game developer</div>
  </div>
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/archives" class="menu-item-link">主页</a>
        </li>
      
        <li class="menu-item">
          <a href="/about" class="menu-item-link">关于</a>
        </li>
      
    </ul>
  </nav>
</header>
<article class="post">
  <div class="post-title">
    <h1 class="article-title">cocos2d-x 抖动效果 CCShake</h1>
  </div>
   <div class="post-meta">
    <span class="post-time">2013-09-11</span>
  </div>
  <div class="post-content">
    <p>之前在网上找过一次,但是用起来有些问题,抖动完位置有偏移,就自己修改了下,原文应该是在这里:</p>
<a id="more"></a>
<p><a href="http://blog.csdn.net/qq634416025/article/details/8630189" target="_blank" rel="noopener">http://blog.csdn.net/qq634416025/article/details/8630189</a></p>
<p>感兴趣的同学可以去看一下,作者特意将抖动做成了CCAction,用起来十分方便,大谢!</p>
<p>效果图(GIF,画质压缩的有点狠,凑活着看吧!):</p>
<p><img src="/img/6527eb984895fca57fd5c7fad00e31b07b7966eb.gif" alt="667"></p>
<p>我把我修改过的版本放在了百度云盘上,下载地址:</p>
<p><a href="http://pan.baidu.com/share/link?shareid=2640816246&amp;uk=2685725110" target="_blank" rel="noopener">http://pan.baidu.com/share/link?shareid=2640816246&amp;uk=2685725110</a></p>
<p>使用时:</p>
<p><strong>1.先将CCShake.h中的</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"GameDefine.h"</span></span></span><br></pre></td></tr></table></figure></p>
<p> 注释掉,改为下面这段话:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cocos2d.h"</span></span></span><br><span class="line">USING_NS_CC;</span><br></pre></td></tr></table></figure></p>
<p><strong>2.用法:</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pSprite-&gt;runAction(CCShake::create(<span class="number">0.1f</span>,<span class="number">10</span>));</span><br></pre></td></tr></table></figure></p>
<p> pSprite:想抖动的物体</p>
<p>第一个参数是:抖动的时间</p>
<p>第一个参数是:抖动的幅度</p>
<p><strong>3.注意,这点曾经困扰了我好久!</strong></p>
<p>一个CCNode同时执行多个CCShake动作,或者一个CCShake没有完又执行一个CCShake的话就会出现问题,会出现偏移的现象!</p>
<p>解决方案:</p>
<ol>
<li>不要同时执行多个CCShake动作.</li>
<li>自己外部记录这个CCNode的位置,执行完成后手动setPosition();</li>
</ol>

  </div>
  <div class="post-footer">
    
      <ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/cocos2d-x/">cocos2d-x</a></li></ul>
    

    <a href="#top" class="top">返回顶部</a>
  </div>
</article>
<footer>
  &copy; 2018
  <span class="author">
    justbilt
  </span>
</footer>
    </div>
  </body>
</html>