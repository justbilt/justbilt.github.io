<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[ç”¨ python æ’¸ä¸€ä¸ª ccbwriter]]></title>
      <url>http://blog.justbilt.com/2017/12/17/python-ccbwriter/</url>
      <content type="html"><![CDATA[<p>ä¹‹å‰å¯èƒ½å’Œå¤§å®¶è¯´è¿‡æˆ‘ä»¬é¡¹ç›®çš„ UI ç¼–è¾‘å™¨æ˜¯ä¸Šå¤ç¥å™¨ <a href="https://github.com/cocos2d/CocosBuilder" target="_blank" rel="noopener">CocosBuilder</a>, è¿™ä¸ªç¼–è¾‘å™¨çš„è¯ç”Ÿåœ¨é‚£ä¸ª cocos2d-x è¿˜éœ€æ‰‹å†™ ui ä»£ç çš„å¹´ä»£, ç¡®å®æ˜¯ cocos å‘å±•å²ä¸Šé‡è¦çš„è½¬æŠ˜ç‚¹, å®ƒæ ‡å¿—ç€è§¦å±æ‰‹æœºæ¸¸æˆè¡Œä¸š ui ä¸å†åƒä¹‹å‰é‚£æ ·åªæ˜¯ç®€å•çš„ä¸²è”çš„ä½œç”¨, è€Œæ˜¯åƒç«¯æ¸¸é‚£æ ·é‡äº¤äº’, å¯è§†åŒ–ç¼–è¾‘çš„è·¯çº¿.</p>
<p>å°½ç®¡åœ¨ä»Šå¤©, CocosBuilder æƒ³æ¯”äºå·²ç»æ­»æ‰çš„ CocosStudio, ç”šè‡³äº Cocos ç°åœ¨å¤§åŠ›æ¨å¹¿çš„ CocosCreator éƒ½æœ‰ä¸€äº›éš¾ä»¥æ›¿ä»£çš„ç†ç”±, å°¤å…¶æ˜¯åœ¨å¼€æºå’Œç¨³å®šæ€§æ–¹é¢. æˆ‘ä»¬ä¹Ÿä¸ä¾‹å¤–, ç°åœ¨ä»æœ‰å¤šæ¬¾é¡¹ç›®åœ¨ä½¿ç”¨è¿™ä¸ªç¼–è¾‘å™¨, å•ä¸ªé¡¹ç›® CocosBuilder çš„ç•Œé¢ ccb æ–‡ä»¶æ•°é‡æœ€é«˜åœ¨ 500+, è¿™å¯¹äºç»´æŠ¤è¿™äº›ç•Œé¢çš„ç¾æœ¯åŒå­¦æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æŒ‘æˆ˜. ä¸ºäº†ä¸è®©å¯çˆ±çš„ç¾æœ¯å¦¹å­ç–²äºå¥”å‘½, æˆ‘ä»¬ç¨‹åºç»„è‡ªç„¶è¦è´¡çŒ®æˆ‘ä»¬çš„ä¸€ä»½åŠ›é‡, å†™ä¸€äº›æ‰¹å¤„ç†çš„è„šæœ¬, è§£å†³é‚£äº›æ— è„‘ä½†æ˜¯ä¼šå¤§é‡é‡å¤çš„å·¥ä½œ, æ‹¯æ•‘å¦¹å­ä»¬ä¸æ°´ç«ä¹‹ä¸­.</p>
<p>åœ¨å†™è„šæœ¬çš„è¿‡ç¨‹ä¸­, ä¸å…è¦å’Œ ccb æ–‡ä»¶æ‰“äº¤é“, è¿™ç§æ–‡ä»¶çš„å…¸å‹æ ¼å¼æ˜¯è¿™æ ·çš„:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>CocosBuilder<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>fileVersion<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">integer</span>&gt;</span>4<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>guides<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">key</span>&gt;</span>position<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">real</span>&gt;</span>-2346<span class="tag">&lt;/<span class="name">real</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>jsControlled<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">false</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>nodeGraph<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>baseClass<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>CCNode<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>children<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>customClass<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span><span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>displayName<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>CCNode<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨æ ccb2lua é¡¹ç›®æ—¶æˆ‘æ›¾å†™è¿‡ä¸€ä¸ª ccbreader ç»„ä»¶, æŠŠ ccb æ–‡ä»¶å½“åš xml æ¥è§£æ, ä¸€è¡Œæ˜¯ <code>key</code>, ä¸‹ä¸€è¡Œæ˜¯ <code>value</code>. ç›´åˆ°åœ¨ Mac ä¸Šå·¥ä½œçš„ä¹…äº†, æ‰çŸ¥é“è¿™ç§ç‰¹æ®Šçš„ xml æ˜¯ä¸€ç§åä¸º <a href="https://zh.wikipedia.org/wiki/%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8" target="_blank" rel="noopener">Property List</a> çš„æ–‡ä»¶.</p>
<h1 id="ä¸€-ä½¿ç”¨-python-plistlib-åº“è§£æ"><a href="#ä¸€-ä½¿ç”¨-python-plistlib-åº“è§£æ" class="headerlink" title="ä¸€. ä½¿ç”¨ python plistlib åº“è§£æ"></a>ä¸€. ä½¿ç”¨ python plistlib åº“è§£æ</h1><p>è€Œä½œä¸ºæˆ‘å¸ç¬¬ä¸€è¯­è¨€çš„ Python è‡ªç„¶ä¹Ÿæœ‰å¯¹åº”çš„è§£æåº“ <a href="https://docs.python.org/2/library/plistlib.html" target="_blank" rel="noopener">plistlib</a>, è¿™æ˜¯ä¸€ä¸ªå†…ç½®çš„åº“, ä¸éœ€è¦å®‰è£…ç›´æ¥å°±èƒ½ä½¿ç”¨, ç”¨æ³•ä¹Ÿå¾ˆç®€å•.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> plistlib</span><br><span class="line">plist = plistlib.readPlist(<span class="string">"/path/of/you/plistfile"</span>)</span><br><span class="line"><span class="keyword">print</span> plist</span><br><span class="line">plist[<span class="string">"somekey"</span>] = <span class="string">"some value"</span></span><br><span class="line">plistlib.writePlist(plist, <span class="string">"/path/of/you/another/plistfile"</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„è¯»å–ä¿®æ”¹å†™å…¥ plist æ–‡ä»¶çš„ä¾‹å­, ä½†æ˜¯ä»¤äººæ²®ä¸§çš„æ˜¯å³ä¾¿æˆ‘ä»€ä¹ˆéƒ½ä¸åš, ä½†æ˜¯è¯»å–å†å†™å…¥æ•´ä¸ªæ–‡ä»¶ä¹Ÿä¼šå‘ç”Ÿå¾ˆå¤šçš„å˜åŠ¨:</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@@ -18,7 +18,7 @@</span></span><br><span class="line">                        &lt;key&gt;position&lt;/key&gt;</span><br><span class="line"><span class="deletion">-                       &lt;real&gt;-2346&lt;/real&gt;</span></span><br><span class="line"><span class="addition">+                       &lt;real&gt;-2346.0&lt;/real&gt;</span></span><br><span class="line"><span class="meta">@@ -33,7 +33,8 @@</span></span><br><span class="line">                                &lt;key&gt;children&lt;/key&gt;</span><br><span class="line"><span class="deletion">-                               &lt;array/&gt;</span></span><br><span class="line"><span class="addition">+                               &lt;array&gt;</span></span><br><span class="line"><span class="addition">+                               &lt;/array&gt;</span></span><br><span class="line"><span class="meta">@@ -62,8 +63,8 @@</span></span><br><span class="line">                                                &lt;string&gt;ScaleLock&lt;/string&gt;</span><br><span class="line">                                                &lt;key&gt;value&lt;/key&gt;</span><br><span class="line">                                                &lt;array&gt;</span><br><span class="line"><span class="deletion">-                                                       &lt;real&gt;1&lt;/real&gt;</span></span><br><span class="line"><span class="deletion">-                                                       &lt;real&gt;1&lt;/real&gt;</span></span><br><span class="line"><span class="addition">+                                                       &lt;real&gt;1.0&lt;/real&gt;</span></span><br><span class="line"><span class="addition">+                                                       &lt;real&gt;1.0&lt;/real&gt;</span></span><br><span class="line">                                                &lt;/array&gt;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦å‘ç”Ÿåœ¨è¿™ä¹ˆå‡ ä¸ªåœ°æ–¹:</p>
<h2 id="1-æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜"><a href="#1-æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜" class="headerlink" title="1. æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜"></a>1. æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åŸå§‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">real</span>&gt;</span>-2346<span class="tag">&lt;/<span class="name">real</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å˜ä¸º --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">real</span>&gt;</span>-2346.0<span class="tag">&lt;/<span class="name">real</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åŸå§‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">real</span>&gt;</span>941.91412353515625<span class="tag">&lt;/<span class="name">real</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å˜ä¸º --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">real</span>&gt;</span>941.9141235351562<span class="tag">&lt;/<span class="name">real</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="2-ç©ºçš„-array-å’Œ-dict"><a href="#2-ç©ºçš„-array-å’Œ-dict" class="headerlink" title="2. ç©ºçš„ array å’Œ dict"></a>2. ç©ºçš„ array å’Œ dict</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åŸå§‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å˜ä¸º --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åŸå§‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å˜ä¸º --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è™½ç„¶è¿™äº›å˜åŠ¨ä¸ä¼šå½±å“è¯¥æ–‡ä»¶çš„å†æ¬¡è¯»å–, å¹¶ä¸”å½“åœ¨ CocosBuilder å†æ¬¡ä¿å­˜æ—¶åˆä¼šè¿˜åŸå›å», ä½†æ˜¯è¿™ä¼šé€ æˆä¸¤ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜:</p>
<ol>
<li>å½±å“å…¶ä»–æˆå‘˜ review æ›´æ”¹, æ— æ³•è¯†åˆ«å‡ºçœŸæ­£çš„å˜åŠ¨</li>
<li>å¢åŠ åˆå¹¶æ—¶äº§ç”Ÿå†²çªçš„å¯èƒ½</li>
</ol>
<p>å°¤å…¶æ˜¯ç¬¬äºŒç‚¹, ccb æ–‡ä»¶ä¸€æ—¦å†²çª, åŸºæœ¬å¾ˆéš¾è§£å†³, åªèƒ½é€‰æ‹©æ”¾å¼ƒä¸€æ–¹çš„ä¿®æ”¹, è¿™ä¸ªæŸå¤±æ˜¯æ— æ³•å®¹å¿çš„. è¦è§£å†³è¿™ä¸ªé—®é¢˜, æˆ‘ä»¬å¯ä»¥æœ‰å¤šç§è§£å†³æ–¹æ¡ˆ:</p>
<ol>
<li>åƒå½“æ—¶å†™ ccbreader ä¸€æ ·å®Œå…¨æ‰‹æ’¸ä¸€ä¸ª ccbwriter</li>
<li>çœ‹ä¸‹ plistlib æ˜¯å¦å¯ä»¥å®šåˆ¶ä¸‹è§£æå™¨å’Œå†™å…¥ä»£ç </li>
</ol>
<h1 id="äºŒ-æ”¹é€ -plistlib"><a href="#äºŒ-æ”¹é€ -plistlib" class="headerlink" title="äºŒ. æ”¹é€  plistlib"></a>äºŒ. æ”¹é€  plistlib</h1><p>ç»è¿‡ä¸€ç•ªè€ƒè™‘, æˆ‘é€‰æ‹©äº†ç¬¬äºŒç§æ–¹æ¡ˆ, å®˜æ–¹æ–‡æ¡£ä¸Šå¯¹ plistlib è¯´æ˜å¾ˆå°‘, æˆ‘ä»¬åªèƒ½ä»å®ƒçš„æºç å…¥æ‰‹. æˆ‘ç”µè„‘ä¸Šå®ƒä½äºè¿™ä¸ªä½ç½®:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plistlib.py</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é‡ç‚¹çœ‹ <code>readPlist</code> å’Œ <code>writePlist</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">readPlist</span><span class="params">(pathOrFile)</span>:</span></span><br><span class="line">    didOpen = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> isinstance(pathOrFile, (str, unicode)):</span><br><span class="line">        pathOrFile = open(pathOrFile)</span><br><span class="line">        didOpen = <span class="number">1</span></span><br><span class="line">    p = PlistParser()</span><br><span class="line">    rootObject = p.parse(pathOrFile)</span><br><span class="line">    <span class="keyword">if</span> didOpen:</span><br><span class="line">        pathOrFile.close()</span><br><span class="line">    <span class="keyword">return</span> rootObject</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">writePlist</span><span class="params">(rootObject, pathOrFile)</span>:</span></span><br><span class="line">    didOpen = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> isinstance(pathOrFile, (str, unicode)):</span><br><span class="line">        pathOrFile = open(pathOrFile, <span class="string">"w"</span>)</span><br><span class="line">        didOpen = <span class="number">1</span></span><br><span class="line">    writer = PlistWriter(pathOrFile)</span><br><span class="line">    writer.writeln(<span class="string">"&lt;plist version=\"1.0\"&gt;"</span>)</span><br><span class="line">    writer.writeValue(rootObject)</span><br><span class="line">    writer.writeln(<span class="string">"&lt;/plist&gt;"</span>)</span><br><span class="line">    <span class="keyword">if</span> didOpen:</span><br><span class="line">        pathOrFile.close()</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé¢åˆ†åˆ«ç”¨åˆ°äº† <code>PlistParser</code> å’Œ <code>PlistWriter</code> ä½œä¸ºè§£æå’Œå†™å…¥å·¥å…·ç±», æˆ‘ä»¬å®Œå…¨ç»§æ‰¿è‡ªè¿™ä¸¤ä¸ªç±»å†™ä¸€ä¸ªè‡ªå®šä¹‰ <code>Parser</code> å’Œ <code>Writer</code>, å¤„ç†æ‰ä¹‹å‰çš„ç‰¹æ®Šæƒ…å†µ.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CCBReal</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.value_raw = value</span><br><span class="line">        self.value = float(value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">float</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">raw</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.value_raw</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CCBParser</span><span class="params">(plistlib.PlistParser)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">end_real</span><span class="params">(self)</span>:</span></span><br><span class="line">        value = self.getData()</span><br><span class="line">        self.addObject(CCBReal(value))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CCBWriter</span><span class="params">(plistlib.PlistWriter)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">writeValue</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(value, CCBReal):</span><br><span class="line">            self.simpleElement(<span class="string">"real"</span>, value.raw())</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            plistlib.PlistWriter.writeValue(self, value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">writeArray</span><span class="params">(self, array)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(array) &lt;= <span class="number">0</span>:</span><br><span class="line">            self.writeln(<span class="string">"&lt;array/&gt;"</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            plistlib.PlistWriter.writeArray(self, array)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">writeDict</span><span class="params">(self, d)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(d) &lt;= <span class="number">0</span>:</span><br><span class="line">            self.writeln(<span class="string">"&lt;dict/&gt;"</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            plistlib.PlistWriter.writeDict(self, d)</span><br></pre></td></tr></table></figure>
<p>å¯¹ç©ºçš„ <code>dict</code> å’Œ <code>array</code> å¤„ç†å¾ˆç®€å•, åˆ¤æ–­ä¸‹é•¿åº¦å°±å¯ä»¥å•¦. ä½†æ˜¯å¯¹ <code>real</code> çš„å¤„ç†å°±è´¹äº†ä¸€ç•ªå‘¨æŠ˜.</p>
<p>æˆ‘ä¸€å¼€å§‹æƒ³ç€ç”¨ python ä¸­çš„é«˜ç²¾åº¦ç±»å‹æ¥ä¿å­˜ real çš„å€¼, ä½†æ˜¯è¿‡ç¨‹ååˆ†æ›²æŠ˜, æ•°å€¼å®Œå…¨å¯¹ä¸ä¸Š, å„ç§ä¿®æ”¹æµ‹è¯•ä¾ç„¶ä¸è¡Œ. ç»æœ›ä¸´è¿‘æ”¾å¼ƒä¹‹é™…, çªç„¶çµå…‰ä¸€ç°, å¯ä»¥ç”¨ä¸€ä¸ªå¤æ‚çš„ç±»å‹åŒæ—¶è®°å½•ä¸‹åŸå§‹çš„å€¼ (string ç±»å‹) å’Œè½¬åŒ–ä¸º float ä¸­çš„å€¼, è¿™æ ·å¦‚æœåœ¨æ•´ä¸ªç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­æ²¡æœ‰æ”¹å˜è¿™ä¸ªå€¼çš„è¯å°±å¯ä»¥æŠŠåŸå§‹å€¼å†™å…¥è¿›å», è¿™æ ·å°±ä¸ä¼šæœ‰ä»»ä½•æ„æ–™ä¹‹å¤–çš„æ›´æ”¹äº†.</p>
<p>å…¨éƒ¨ä»£ç å·²ç»æ”¾åˆ°<a href="https://gist.github.com/justbilt/cc21b7c6573bac7668282faa56dfdd9b" target="_blank" rel="noopener">æˆ‘çš„ gist ä¸Š</a>äº†, æœ‰éœ€è¦å¯ä»¥è‡ªå–.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plist = readPlist(<span class="string">"/path/of/you/ccb"</span>)</span><br><span class="line"><span class="keyword">print</span> plist.guides[<span class="number">0</span>].position</span><br><span class="line"><span class="keyword">print</span> plist.guides[<span class="number">0</span>].position.float()</span><br><span class="line">plist.guides[<span class="number">0</span>].position = <span class="number">5.5</span></span><br><span class="line"><span class="keyword">print</span> plist.guides[<span class="number">0</span>].position</span><br><span class="line">writePlist(plist, ccb)</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ä»£ç å½“ç„¶å°‘ä¸äº†å•¦, æ„Ÿè§‰è‡ªå·±æ£’æ£’å“’, æ™šé¥­ç”³è¯·åŠ ä¸ªğŸ—. </p>
]]></content>
      
        
        <tags>
            
            <tag> Python </tag>
            
            <tag> CocosBuilder </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å¦‚ä½•ä¸º Creator æ·»åŠ  js/ts ç¬¬ä¸‰æ–¹åº“æ”¯æŒ]]></title>
      <url>http://blog.justbilt.com/2017/12/10/creator-add-package/</url>
      <content type="html"><![CDATA[<p>æ­£å¦‚çŸ¥ä¹<a href="https://www.zhihu.com/question/66819338/answer/259901965" target="_blank" rel="noopener">æˆ‘çš„è¿™ä¸ªå›ç­”</a>ä¸­æ‰€è¯´, æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ Cocos Creaor å¼€å‘æ–°çš„é¡¹ç›®, æ‰€ä»¥ä»¥åè¿™ä¸ªåšå®¢ä¼šé™†ç»­å¼€å§‹æ›´æ–°ä¸€äº› Creator ç›¸å…³çš„æ–‡ç« .</p>
<p>æˆ‘ä»¬åœ¨é¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­, è‚¯å®šä¼šé‡åˆ°ä¸€äº›é¡¹ç›®é—´é€šç”¨çš„éœ€æ±‚, æ¯”å¦‚ <code>å‹ç¼©/åŠ å¯†</code> ä¹‹ç±»çš„, æˆ‘ä»¬å½“ç„¶å¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ª, ä½†æ›´å¥½çš„åšæ³•æ˜¯æ‰¾æ‰¾ç½‘ä¸Šæœ‰æ²¡æœ‰åˆ«äººå®ç°å¥½çš„åº“ç›´æ¥æ‹¿æ¥ç”¨, ä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚ä½•ä¸º Creator æ·»åŠ æ·»åŠ  js/ts ç¬¬ä¸‰æ–¹åº“æ”¯æŒ.</p>
<a id="more"></a>
<h1 id="ä¸€-ä¸‹è½½æºæ–‡ä»¶"><a href="#ä¸€-ä¸‹è½½æºæ–‡ä»¶" class="headerlink" title="ä¸€. ä¸‹è½½æºæ–‡ä»¶"></a>ä¸€. ä¸‹è½½æºæ–‡ä»¶</h1><p>ä»¥ <a href="https://github.com/jakesgordon/javascript-state-machine" target="_blank" rel="noopener">javascript-state-machine</a> ä¸ºä¾‹, æˆ‘ä»¬å¯ä»¥åœ¨ <code>Clone or Download</code> ä¸­é€‰æ‹© <code>Download Zip</code> ä¸‹è½½æºæ–‡ä»¶å‹ç¼©åŒ…, è§£å‹ååœ¨å°† <code>dist/state-machine.js</code> å¤åˆ¶åˆ°æˆ‘ä»¬é¡¹ç›®ä¸­çš„ <code>assets/Script</code> ç›®å½•ä¸­.</p>
<p>ç„¶ååœ¨æˆ‘ä»¬çš„ä»£ç ä¸­:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> StateMachine <span class="keyword">from</span> <span class="string">"state-machine"</span>;</span><br><span class="line">cc.Class(&#123;</span><br><span class="line">    extends: cc.Component,</span><br><span class="line">    properties: &#123;</span><br><span class="line">        label: &#123;</span><br><span class="line">            <span class="keyword">default</span>: <span class="literal">null</span>,</span><br><span class="line">            type: cc.Label</span><br><span class="line">        &#125;,</span><br><span class="line">        text: <span class="string">'Hello, World!'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.label.string = <span class="keyword">this</span>.text;</span><br><span class="line">        <span class="keyword">var</span> fsm = <span class="keyword">new</span> StateMachine(&#123;</span><br><span class="line">            init: <span class="string">'solid'</span>,</span><br><span class="line">            transitions: [</span><br><span class="line">              &#123; <span class="attr">name</span>: <span class="string">'melt'</span>,     <span class="attr">from</span>: <span class="string">'solid'</span>,  <span class="attr">to</span>: <span class="string">'liquid'</span> &#125;,</span><br><span class="line">              &#123; <span class="attr">name</span>: <span class="string">'freeze'</span>,   <span class="attr">from</span>: <span class="string">'liquid'</span>, <span class="attr">to</span>: <span class="string">'solid'</span>  &#125;,</span><br><span class="line">              &#123; <span class="attr">name</span>: <span class="string">'vaporize'</span>, <span class="attr">from</span>: <span class="string">'liquid'</span>, <span class="attr">to</span>: <span class="string">'gas'</span>    &#125;,</span><br><span class="line">              &#123; <span class="attr">name</span>: <span class="string">'condense'</span>, <span class="attr">from</span>: <span class="string">'gas'</span>,    <span class="attr">to</span>: <span class="string">'liquid'</span> &#125;</span><br><span class="line">            ],</span><br><span class="line">            methods: &#123;</span><br><span class="line">              onMelt:     <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">'I melted'</span>)    &#125;,</span><br><span class="line">              onFreeze:   <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">'I froze'</span>)     &#125;,</span><br><span class="line">              onVaporize: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">'I vaporized'</span>) &#125;,</span><br><span class="line">              onCondense: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">'I condensed'</span>) &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        fsm.melt();       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>åœ¨æ§åˆ¶å°ä¸­å¯ä»¥çœ‹åˆ°è¾“å‡º:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">I melted</span><br></pre></td></tr></table></figure>
<h1 id="äºŒ-ä½¿ç”¨-npm"><a href="#äºŒ-ä½¿ç”¨-npm" class="headerlink" title="äºŒ. ä½¿ç”¨ npm"></a>äºŒ. ä½¿ç”¨ npm</h1><p>æ js çš„åŒå­¦éƒ½ä¼šçŸ¥é“ <a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm</a> è¿™ä¸ª js æœ€å¤§çš„è½®å­é›†ä¸­è¥, å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„å¸®ä½ å®‰è£…/ç®¡ç†æ‰€éœ€çš„ç¬¬ä¸‰æ–¹ä¾èµ–åº“. å¦‚æœä½ è§‰å¾—ä¸Šé¢ä¸‹è½½ä»£ç çš„å½¢å¼å¤ªè¿‡ç¹ççš„è¯, å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ npm æ¥å®‰è£…. </p>
<p>npm ä¼šåœ¨ä½ å®‰è£… <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">nodejs</a> æ—¶è‡ªåŠ¨æ‹¥æœ‰, å¯ä»¥ä½¿ç”¨ <code>npm -v</code> å‘½ä»¤æ£€æŸ¥ npm çŠ¶æ€. ä¸‹é¢æˆ‘ä»¬è¦è§‚å¯Ÿä¸‹ä½ çš„é¡¹ç›®æœ‰æ²¡æœ‰ <code>package.json</code> è¿™ä¸ªæ–‡ä»¶, å¦‚æœæ²¡æœ‰çš„è¯æˆ‘ä»¬è¦å…ˆä½¿ç”¨:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>
<p>åˆå§‹åŒ–é¡¹ç›®, éœ€è¦å¡«ä¸€å †ä¿¡æ¯, åŸºæœ¬ä¸Šä¸€è·¯å›è½¦å°±å¯ä»¥. å®Œæˆä¹‹åæˆ‘ä»¬å¯ä»¥å» npm çš„ç½‘ç«™ä¸Šæœç´¢ä¸‹æ˜¯å¦å­˜åœ¨æˆ‘ä»¬éœ€è¦çš„åº“, ç„¶åç”¨ <code>npm instal xxx --save</code> å‘½ä»¤å®‰è£….</p>
<p>æˆ‘ä»¬è¿˜æ˜¯ä»¥ <code>javascript-state-machine</code> è·ç¦», æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å®ƒåœ¨ npm ä¸Šçš„<a href="https://www.npmjs.com/package/javascript-state-machine" target="_blank" rel="noopener">è¿™ä¸ªé¡µé¢</a>, ç„¶åå®‰è£…:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install javascript-state-machine --save</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å®Œæˆå, æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæ–°çš„é—®é¢˜, å¦‚ä½•å» require è¿™ä¸ªæ–‡ä»¶å‘¢ ? ä¹‹å‰æºç ç›´æ¥ require çš„æ–¹å¼è‚¯å®šæ˜¯ä¸è¡Œçš„äº†, æœ€ç»ˆåœ¨è®ºå›ä¸­æ‰¾åˆ°äº†<a href="http://forum.cocos.com/t/npm/37930/2?u=justbilt" target="_blank" rel="noopener">è§£å†³æ–¹æ¡ˆ</a>, æˆ‘ä»¬éœ€è¦è¿™æ ·:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> StateMachine <span class="keyword">from</span> <span class="string">"javascript-state-machine"</span>;</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰-åœ¨-TypeScript-ä¸­ä½¿ç”¨-npm-å®‰è£…çš„ä¸‰æ–¹åº“"><a href="#ä¸‰-åœ¨-TypeScript-ä¸­ä½¿ç”¨-npm-å®‰è£…çš„ä¸‰æ–¹åº“" class="headerlink" title="ä¸‰. åœ¨ TypeScript ä¸­ä½¿ç”¨ npm å®‰è£…çš„ä¸‰æ–¹åº“"></a>ä¸‰. åœ¨ TypeScript ä¸­ä½¿ç”¨ npm å®‰è£…çš„ä¸‰æ–¹åº“</h1><p>ä¸Šé¢è®²çš„éƒ½æ˜¯ js çš„é¡¹ç›®, é‚£ä¹ˆ ts çš„é¡¹ç›®åˆè¯¥å¦‚ä½•æå‘¢ ? æˆ‘ä»¬é™¤äº† js ä¸­çš„é‚£äº›æ“ä½œå¤–è¿˜éœ€è¦å®‰è£…ä¸€ä¸ª ts çš„æ ‡æ³¨åº“. </p>
<p>æˆ‘ä»¬å…ˆå» <a href="https://microsoft.github.io/TypeSearch/" target="_blank" rel="noopener">TypeSearch</a> æœç´¢ä¸‹æ˜¯å¦æœ‰æˆ‘ä»¬éœ€è¦çš„åº“çš„æ ‡æ³¨åº“:</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fmc08dgaohj30gc07zq3j.jpg" alt=""></p>
<p>ç‚¹å‡»åä¼šè·³è½¬çš„ npm å¯¹åº”çš„é¡µé¢, æˆ‘ä»¬è¦æ ¹æ®æç¤ºå®‰è£…è¿™ä¸ªåº“:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @types/javascript-state-machine</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ TypeScript ä¸­ä½¿ç”¨ä¸‹é¢ä»£ç å» import :</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> StateMachine <span class="keyword">from</span> <span class="string">"javascript-state-machine"</span>;</span><br></pre></td></tr></table></figure>
<p>å€¼å¾—ä¸€æçš„æ˜¯, è¿™äº› @types çš„åº“å¾ˆå¤šéƒ½æ˜¯å¤§å®¶è‡ªå·±åˆ¶ä½œåè´¡çŒ®ç»™ç¤¾åŒºçš„, é›†åˆåœ¨ <a href="https://github.com/DefinitelyTyped/DefinitelyTyped" target="_blank" rel="noopener">DefinitelyTyped</a> è¿™ä¸ªä»“åº“ä¸­, çœå»äº†æˆ‘ä¹ˆè‡ªå·±æ ‡æ³¨çš„å·¥ä½œ, æ„Ÿè°¢è¿™äº›è´¡çŒ®è€…ä»¬. </p>
<p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜, è¿™äº›æ ‡æ³¨åº“æ›´æ–°å¯èƒ½è½åäºåŸå§‹é¡¹ç›®, å› æ­¤æˆ‘ä»¬è¦å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„åŸå§‹åº“æ‰èƒ½å¤Ÿæ­£ç¡®æç¤º, å¯¹åº”ç‰ˆæœ¬å¯ä»¥åœ¨ <code>node_modules/@types/javascript-state-machine/index.d.ts</code> æ‰¾åˆ°:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// Type definitions <span class="keyword">for</span> Finite State Machine 2.4</span><br></pre></td></tr></table></figure>
<p>å› æ­¤, æˆ‘ä»¬è¦å®‰è£… <code>javascript-state-machine</code> éœ€è¦æŒ‡å®šç‰ˆæœ¬:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install javascript-state-machine@2.4 --save</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬å®‰è£…ç¬¬ä¸‰æ–¹åº“çš„ç»éªŒ, å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°å¤§å®¶. æˆ‘ä»¬ä¹Ÿæ˜¯æ‰å¼€å§‹ä½¿ç”¨ Creator, å¦‚æœé‡åˆ°é—®é¢˜, å¸Œæœ›å¯ä»¥å’Œå¤§å®¶å¤šå¤šäº¤æµ.</p>
]]></content>
      
        
        <tags>
            
            <tag> CocosCreaor </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[iOS æ‰“åŒ…å·¥å…·åœ¨ XCode9 ä¸‹çš„æ”¹åŠ¨]]></title>
      <url>http://blog.justbilt.com/2017/12/02/xcode9-package-tools/</url>
      <content type="html"><![CDATA[<p>ç›¸ä¿¡å¤§å®¶éƒ½ä¼šç”¨åˆ° iOS çš„è‡ªåŠ¨æ‰“åŒ…å·¥å…·, è€Œä¸æ˜¯æ¯æ¬¡éƒ½æ˜¯é€šè¿‡ XCode çš„ Archive åæ‰‹åŠ¨å¯¼å‡ºçš„, é‚£æ ·æ•ˆç‡ä½ä¸‹ä¸è¯´è¿˜å¢åŠ å‡ºé”™çš„å¯èƒ½.</p>
<p>æˆ‘ä»¬å›¢é˜Ÿä¹Ÿæ˜¯å¦‚æ­¤, ç”¨ Python æäº†ä¸€å¥—æ‰“åŒ…å·¥å…·, è¿™å¥—å·¥å…·çš„æ ¸å¿ƒæ˜¯ XCode é™„å¸¦çš„å‘½ä»¤è¡Œå·¥å…· <code>xcodebuild</code>, ç½‘ä¸Šå…¶ä»–å¼€æºçš„æ‰“åŒ…å·¥å…·ä¹Ÿéƒ½å¤§åŒå°å¼‚. è¿™å¥—å·¥å…·è‡ªè¯ç”Ÿä»¥æ¥ä¸€ç›´è¿è¡Œçš„å¾ˆç¨³å®š, ç´¯è®¡ä¸ºæˆ‘ä»¬æ‰“äº†æ•°ç™¾ä¸ªåŒ…, ä¸ºå›¢é˜ŸèŠ‚çœçš„æ—¶é—´ä¼°è®¡ä¹Ÿåœ¨æ•°åƒåˆ†é’Ÿäº†.</p>
<a id="more"></a>
<h1 id="ä¸€-æ— æ³•å¯¼å‡º-ipa"><a href="#ä¸€-æ— æ³•å¯¼å‡º-ipa" class="headerlink" title="ä¸€. æ— æ³•å¯¼å‡º ipa"></a>ä¸€. æ— æ³•å¯¼å‡º ipa</h1><p>ä½†æ˜¯åœ¨æ›´æ–° XCode9 ä¹‹å, å·¥å…·æŒ‚æ‰äº†, åœ¨å¯¼å‡ºåŒ…çš„æ—¶å€™ä¼šæç¤º:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error: exportArchive: <span class="string">"wobwopr.app"</span> requires a provisioning profile with the Push Notifications feature.</span><br><span class="line">Error Domain=IDEProvisioningErrorDomain Code=9 <span class="string">""</span>wobwopr.app<span class="string">" requires a provisioning profile with the Push Notifications feature."</span> UserInfo=&#123;NSLocalizedDescription=<span class="string">"wobwopr.app"</span> requires a provisioning profile with the Push Notifications feature., NSLocalizedRecoverySuggestion=Add a profile to the <span class="string">"provisioningProfiles"</span> dictionary <span class="keyword">in</span> your Export Options property list.&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€å• Google äº†ä¸‹, ä¹Ÿæœ‰å…¶ä»–æ‰“åŒ…å·¥å…·ä¹Ÿé‡åˆ°äº†ç±»ä¼¼çš„é”™è¯¯:</p>
<p><a href="https://github.com/fastlane/fastlane/issues/9589" target="_blank" rel="noopener">fastlane: https://github.com/fastlane/fastlane/issues/9589</a></p>
<p>è¿˜æœ‰è¿™äº›æ–‡ç« :</p>
<p><a href="https://blog.bitrise.io/new-export-options-plist-in-xcode-9" target="_blank" rel="noopener">New export options Plist in Xcode 9</a><br><a href="https://htge.github.io/osx/ios/2017/09/21/xcode9-export-ipa/" target="_blank" rel="noopener">Xcode9å‘½ä»¤è¡Œæ–°æ‰“åŒ…æ–¹æ³•</a></p>
<p>æ€»ç»“äº†ä¸‹, é”™è¯¯çš„åŸå› æ˜¯è¿™ä¸ªæ ·å­çš„, é€šè¿‡ <code>xcodebuild</code> å¯¼å‡º ipa åŒ…æ—¶éœ€è¦ä¼ å…¥å‚æ•° <code>exportOptionsPlist</code> æŒ‡å®šå¯¼å‡ºé…ç½®, XCode9 ä¹‹å‰è¿™ä¸ªæœ€ç®€å•çš„é…ç½®æ˜¯è¿™ä¸ªæ ·å­çš„:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>method<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>&#123;method&#125;<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>method å¯é€‰çš„å€¼æœ‰: </p>
<ul>
<li>app-store</li>
<li>ad-hoc</li>
<li>package</li>
<li>enterprise</li>
<li>development</li>
<li>developer-id</li>
<li>mac-application</li>
</ul>
<p>è€Œ XCode9 ä¹‹åæœ€å°åŒ–çš„é…ç½®å˜æˆäº†:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>method<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>&#123;method&#125;<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>provisioningProfiles<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>&#123;bundleid&#125;<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>&#123;provision&#125;<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dict</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ–°å¢äº† <code>provisioningProfiles</code> å­—æ®µ, å®ƒæ˜¯ä¸€ä¸ªç”± <code>åŒ…å:é…ç½®æ–‡ä»¶åå­—æˆ–udid</code> ç»„æˆçš„å­—å…¸. é‚£ä¹ˆæˆ‘ä»¬æ”¹å¦‚ä½•è·å–è¿™äº›å‚æ•°å‘¢ ?</p>
<h2 id="1-ä½¿ç”¨-XCode-å¯¼å‡ºåä¿å­˜"><a href="#1-ä½¿ç”¨-XCode-å¯¼å‡ºåä¿å­˜" class="headerlink" title="1. ä½¿ç”¨ XCode å¯¼å‡ºåä¿å­˜"></a>1. ä½¿ç”¨ XCode å¯¼å‡ºåä¿å­˜</h2><p>è¿™ä¸ªæ˜¯ç›®å‰ç½‘ä¸Šæä¾›çš„æœ€å¤šçš„è§£å†³æ–¹æ¡ˆ, å…·ä½“æ­¥éª¤å¦‚ä¸‹:</p>
<ol>
<li>ä½¿ç”¨ XCode æ‰“å¼€ä½ çš„é¡¹ç›®, <code>Projuct/Archive</code> å½’æ¡£å·¥ç¨‹. æˆ–è€…ç›´æ¥ç”¨ XCode æ‰“å¼€ä½ çš„ <code>xcarchive</code> æ–‡ä»¶.</li>
<li>ç‚¹å‡» <code>Export</code> é€‰æ‹© <code>App Store/Development</code> åä¸‹ä¸€æ­¥, é€‰æ‹©è¯ä¹¦å’Œé…ç½®æ–‡ä»¶åå¯¼å‡º.</li>
<li>åœ¨å¯¼å‡ºæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° <code>ExportOptions.plist</code>, è¿™ä¸ªé‡Œé¢çš„æœ‰ä½ æƒ³è¦çš„å‚æ•°.</li>
</ol>
<p>è¿™ä¸ªæ–¹æ³•ç›¸å¯¹ç®€å•, å´ä¸æ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆ, å®ƒå­˜åœ¨è¿™ä¹ˆä¸¤ä¸ªç¼ºç‚¹:</p>
<ol>
<li>æ²¡æ³•è‡ªåŠ¨æ¥åšè¿™ä»¶äº‹æƒ…, æµ‹è¯•/å‘å¸ƒå¾—æä¸¤æ¬¡, æ¯ä¸ªæ–°çš„é¡¹ç›®éƒ½è¦åšä¸€é.</li>
<li>é¡¹ç›®è¯ä¹¦å‘ç”Ÿå˜åŒ–ååˆå¾—é‡æ–°æ¥ä¸€é.</li>
</ol>
<p>æƒ³åˆ°ä»¥åæ¯ä¸ªé¡¹ç›®éƒ½è¦æ‰‹åŠ¨æ¥æ, é‚£æ‰“åŒ…å·¥å…·çš„æ„ä¹‰æœ‰ä½•åœ¨å‘¢ ?</p>
<h2 id="2-ä»-xcodeproj-ä¸­è¯»å–"><a href="#2-ä»-xcodeproj-ä¸­è¯»å–" class="headerlink" title="2. ä» xcodeproj ä¸­è¯»å–"></a>2. ä» xcodeproj ä¸­è¯»å–</h2><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fm3foq44n2j30jh0a2my7.jpg" alt=""></p>
<p>æ—¢ç„¶æˆ‘ä»¬å·²ç»åœ¨ XCode ä¸­é…ç½®è¿‡äº†è¿™äº›å‚æ•°, é‚£æˆ‘ä»¬èƒ½å¦ä» XCode å·¥ç¨‹æ–‡ä»¶ä¸­è¯»å–åˆ°è¿™å†™å‚æ•°å‘¢ ? è®©æˆ‘ä»¬å…ˆæ‰“å¼€ä¸€ä¸ªå·¥ç¨‹å¯»æ‰¾ä¸€ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PRODUCT_BUNDLE_IDENTIFIER = com.xxx.xxx;</span><br><span class="line">PROVISIONING_PROFILE = &quot;74c78746-9aa9-4a37-9533-a991f42b7f58&quot;;</span><br><span class="line">PROVISIONING_PROFILE_SPECIFIER = &quot;xxx-dev&quot;;</span><br></pre></td></tr></table></figure>
<p>å“ˆå“ˆ, ä¸è´¹å¹ç°ä¹‹åŠ›ä¾¿æ‰¾åˆ°äº†. ä¸‹ä¸€æ­¥å°±æ˜¯å¦‚ä½•åœ¨ä»£ç ä¸­è¯»å–è¿™äº›å‚æ•°äº†? æˆ‘ä»¬çš„æ‰“åŒ…è„šæœ¬æ˜¯ä½¿ç”¨ python å†™çš„, å› æ­¤æˆ‘é€‰æ‹© <a href="https://github.com/kronenthaler/mod-pbxproj" target="_blank" rel="noopener">pbxproj</a> è¿™ä¸ªåº“æ¥è§£æ pbxproj æ–‡ä»¶:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pbxproj <span class="keyword">import</span> XcodeProject</span><br><span class="line">project = XcodeProject.load(<span class="string">"path/of/your/pbxproj"</span>)</span><br><span class="line"><span class="keyword">for</span> configuration <span class="keyword">in</span> project.objects.get_configurations_on_targets(<span class="string">"&#123;target&#125;"</span>, <span class="string">"&#123;configuration&#125;"</span>):</span><br><span class="line">    bundleid = configuration.buildSettings.PRODUCT_BUNDLE_IDENTIFIER</span><br><span class="line">    specifier = configuration.buildSettings.PROVISIONING_PROFILE_SPECIFIER</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p><code>target</code> æ˜¯ XCode ä¸­ target åˆ—è¡¨ä¸­çš„åå­—, <code>configuration</code> å€¼å¯é€‰ <code>Debug/Release</code> . æˆ‘ä»¬å¾ˆè½»æ˜“çš„ä¾¿è·å–åˆ°äº†åŒ…åå’Œé…ç½®æ–‡ä»¶çš„åå­—, å¯¹æ‰“åŒ…è„šæœ¬ç¨ä½œä¿®æ”¹ä¾¿å¯¼å‡ºæˆåŠŸäº†.</p>
<p>åœ¨ä½¿ç”¨ <code>pbxproj</code> åº“çš„è¿‡ç¨‹ä¸­æˆ‘è¿˜é‡åˆ°äº†ä¸€ä¸ªå°é—®é¢˜, åœ¨ç»™ä½œè€…<a href="https://github.com/kronenthaler/mod-pbxproj/issues/185" target="_blank" rel="noopener">æå‡º Issue </a>åå¾ˆå¿«ä¾¿æ”¶åˆ°äº†è§£å†³æ–¹æ¡ˆ, åŸæ¥æ˜¯æˆ‘çš„æµ‹è¯•æ–‡ä»¶ <code>test.py</code> è§¦å‘äº†ä¸€ä¸ª py3 å…¼å®¹åº“çš„ bug. </p>
<h1 id="äºŒ-XCode9-ä¸å†ç”Ÿæˆ-xcscheme-æ–‡ä»¶"><a href="#äºŒ-XCode9-ä¸å†ç”Ÿæˆ-xcscheme-æ–‡ä»¶" class="headerlink" title="äºŒ. XCode9 ä¸å†ç”Ÿæˆ .xcscheme æ–‡ä»¶"></a>äºŒ. XCode9 ä¸å†ç”Ÿæˆ .xcscheme æ–‡ä»¶</h1><p>ä½¿ç”¨ <code>xcodebuild</code> ç”Ÿæˆ xcarchive æ–‡ä»¶æ—¶éœ€è¦æŒ‡å®š <code>-scheme</code> å‚æ•°, è€Œä¸æ˜¯ <code>-target</code>, ä¸ç„¶ä¼šæç¤º:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcodebuild: error: The flag -scheme is required when specifying -archivePath but not -exportArchive.</span><br></pre></td></tr></table></figure>
<p><code>scheme</code> å’Œ <code>target</code> ä»åå­—ä¸Šæœ‰ä¸€å®šçš„è”ç³», ç¬¬ä¸€æ¬¡æ‰“å¼€ä¸€ä¸ª XCode å·¥ç¨‹æ—¶, ä¼šåœ¨ <code>.xcodeproj</code> æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆå¤šä¸ªå’Œ target ä¸€ä¸€å¯¹åº”çš„ <code>xcscheme</code> æ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcuserdata/*.xcuserdatad/xcschemes/xxx.xcscheme</span><br></pre></td></tr></table></figure>
<p>åœ¨ XCode9 å‰å¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶æ˜¯æ— æ³•ç”Ÿæˆ <code>xcarchive</code> æ–‡ä»¶çš„, ä¸ºäº†èƒ½å¤Ÿåšåˆ°æŒç»­é›†æˆ, æˆ‘ä»¬çš„åšæ³•æ˜¯: </p>
<blockquote>
<p>å¦‚æœæ£€æµ‹åˆ°è¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨çš„è¯, å°±ç”¨ <code>open xxx.xcodeproj</code> å‘½ä»¤æ‰“å¼€è¿™ä¸ªå·¥ç¨‹, è¿™æ ·å°±ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶äº†</p>
</blockquote>
<p>è€Œåœ¨ XCode9 ä¸­, å·²ç»ä¸å†ç”Ÿæˆ <code>xcscheme</code> æ–‡ä»¶äº†, å–è€Œä»£ä¹‹çš„æ˜¯ä¸€ä¸ª <code>xcschememanagement.plist</code> æ–‡ä»¶äº†. <strong>è€Œä¸”é‡è¦çš„æ˜¯å³æ—¶è¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨, ä¹Ÿæ˜¯èƒ½å¤Ÿæ­£å¸¸ç”Ÿæˆ xcarchive æ–‡ä»¶çš„</strong>.</p>
<p>é‚£ä¹ˆåœ¨ XCode9 ä¸­æˆ‘ä»¬ä¹‹å‰æ£€æµ‹ xcscheme æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶ç”Ÿæˆçš„é€»è¾‘å°±ä¸éœ€è¦äº†, æˆ‘ä»¬åˆ¤æ–­ä¸€ä¸‹ XCode ç‰ˆæœ¬å°±è¡Œå•¦.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> distutils.version <span class="keyword">import</span> LooseVersion</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_xcode9</span><span class="params">()</span>:</span></span><br><span class="line">    out, err = subprocess.Popen(<span class="string">"xcodebuild -version"</span>, shell=<span class="keyword">True</span>, stdout=subprocess.PIPE).communicate()</span><br><span class="line">    verison = out.strip().replace(<span class="string">"\n"</span>, <span class="string">" "</span>).split(<span class="string">" "</span>)[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> LooseVersion(verison) &gt;= LooseVersion(<span class="string">"9.0.0"</span>)</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰-allowProvisioningUpdates-è‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶"><a href="#ä¸‰-allowProvisioningUpdates-è‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸‰. allowProvisioningUpdates è‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶"></a>ä¸‰. allowProvisioningUpdates è‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶</h1><p>è®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®ƒçš„æè¿°:</p>
<blockquote>
<p>Allow xcodebuild to communicate with the Apple Developer website. For automatically signed targets, xcodebuild will create and update profiles, app IDs, and certificates. For manually signed targets, xcodebuild will download missing or updated provisioning profiles. Requires a developer account to have been added in Xcodeâ€™s Accounts preference pane.</p>
</blockquote>
<p>XCode ç®¡ç†è¯ä¹¦å’Œé…ç½®æ–‡ä»¶æœ‰ä¸¤ä¸­æ–¹å¼: <code>automatically</code> å’Œ <code>manually</code>, å¦‚è¿‡åœ¨ XCode ä¸­å‹¾é€‰äº† <code>Automatically manager signing</code> çš„è¯, å½’æ¡£å‡ºæ¥çš„åŒ…å°±æ˜¯ automatically çš„, åä¹‹åˆ™æ˜¯ manually çš„.</p>
<p>åªæœ‰ automatically ç±»å‹çš„é…ç½®æŒ‡å®š <code>allowProvisioningUpdates</code> æ‰æœ‰ç”¨. è¿™ä¸ªå‚æ•°åœ¨å½’æ¡£å’Œå¯¼å‡ºé˜¶æ®µéƒ½å¯ä»¥ç”¨åˆ°, å‰ææ˜¯ä½ å¾—åœ¨ XCode çš„è´¦å·è®¾ç½®ä¸­ç™»å½•å¼€å‘è€…è´¦å·.</p>
<p>åœ¨å½’æ¡£é˜¶æ®µ, æ¯”è¾ƒå¯èƒ½æ˜¯ç¼ºå°‘ <code>Development</code> è¯ä¹¦, å¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°, ä½ ä¼šæ”¶åˆ°è¿™ä¸ªé”™è¯¯:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Code Signing Error: No signing certificate &quot;iOS Development&quot; found:  No &quot;iOS Development&quot; signing certificate matching team ID &quot;G76Y748JJ2&quot; with a private key was found.</span><br><span class="line">Code Signing Error: Code signing is required for product type &apos;Application&apos; in SDK &apos;iOS 11.1&apos;</span><br><span class="line">** ARCHIVE FAILED **</span><br></pre></td></tr></table></figure>
<p>è€ŒæŒ‡å®šå, ç†æƒ³æƒ…å†µä¸‹æ˜¯ä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºæˆ–ä¸‹è½½è¯ä¹¦, <strong>ä½†ç°åœ¨å¯èƒ½ä¸å¤Ÿå®Œå–„, æ²¡èƒ½åšåˆ°è¿™ç‚¹</strong>, ç°åœ¨ä¼šé‡åˆ°å¦‚ä¸‹é”™è¯¯:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">2017-12-03 16:08:22.837 xcodebuild[20785:1078389]  DVTAssertions: Warning <span class="keyword">in</span> /Library/Caches/com.apple.xbs/Sources/IDEFrameworks/IDEFrameworks-13532/IDEFoundation/Provisioning/Logging/IDEProvisioningLedger.m:167</span><br><span class="line">Details:  Unable to close provisioning ledger entry because not all of its subentries are closed</span><br><span class="line">Object:   &lt;IDEProvisioningLedgerEntry: 0x7fa9540a4a90&gt;</span><br><span class="line">Method:   -closeWithError:</span><br><span class="line">Thread:   &lt;NSThread: 0x7fa9540b8740&gt;&#123;number = 15, name = (null)&#125;</span><br><span class="line">Please file a bug at http://bugreport.apple.com with this warning message and any useful information you can provide.</span><br><span class="line">=== BUILD TARGET wobwopr OF PROJECT newship_wobwopr WITH CONFIGURATION Release ===</span><br><span class="line">Code Signing Error: Revoke certificate:  Your account already has a signing certificate <span class="keyword">for</span> this machine but it is not present <span class="keyword">in</span> your keychain. To create a new one, you must first revoke the existing certificate.</span><br><span class="line">Code Signing Error: No signing certificate <span class="string">"iOS Development"</span> found:  No <span class="string">"iOS Development"</span> signing certificate matching team ID <span class="string">"G76Y748JJ2"</span> with a private key was found.</span><br><span class="line">Code Signing Error: Code signing is required <span class="keyword">for</span> product <span class="built_in">type</span> <span class="string">'Application'</span> <span class="keyword">in</span> SDK <span class="string">'iOS 11.1'</span></span><br><span class="line">** ARCHIVE FAILED **</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯åœ¨å¯¼å‡ºé˜¶æ®µ, ç­¾åé˜¶æ®µçš„, æœ€æœ‰å¯èƒ½çš„æ˜¯ç¼ºå°‘ <code>Distribution</code> é…ç½®æ–‡ä»¶, ä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªæ–‡ä»¶æ˜¯éœ€è¦æ‰‹åŠ¨åœ¨å¼€å‘è€…åå°åˆ›å»ºå¹¶ä¸‹è½½çš„. ä½†æ˜¯å¦‚æœæŒ‡å®šäº†è¿™ä¸ªå‚æ•°çš„è¯ xcodebuild ä¼šå¸®ä½ è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª, å¾ˆç¥å¥‡çš„æ˜¯è¿™ä¸ª Profile åœ¨å¼€å‘è€…åå°æ˜¯çœ‹ä¸åˆ°çš„, ä¹Ÿä¸ä¼šå½±å“åˆ°ä½ ä¹‹å‰æ‰‹åŠ¨åˆ›å»ºçš„é…ç½®æ–‡ä»¶.</p>
<p>æ€»ä¹‹, è¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„ç‰¹æ€§, æœŸå¾…è‹¹æœç»§ç»­å®Œå–„å®ƒ.</p>
<hr>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬ç›®å‰ä¸ºæ­¢é‡åˆ°çš„ XCode9 çš„ xcodebuild é—®é¢˜, å¦‚æœå¤§å®¶ä¹Ÿé‡åˆ°äº†å…¶ä»–çš„é—®é¢˜, æ¬¢è¿ä¸€èµ·è®¨è®º.</p>
]]></content>
      
        
    </entry>
    
    <entry>
      <title><![CDATA[æ›´æ–° spine çš„ cocos2d-x runtimes (äºŒ)]]></title>
      <url>http://blog.justbilt.com/2017/11/19/upgrad-spine-runtime-2/</url>
      <content type="html"><![CDATA[<p>å‰æ®µæ—¶é—´ä¸€ä¸ªæœ‹å‹å‘æˆ‘å’¨è¯¢æ’­æ”¾ spine åŠ¨ç”»æ—¶é‡åˆ°çš„é—®é¢˜:</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1flngumf7luj30ht04mq41.jpg" alt=""></p>
<p>è¿™ä¸ªé—®é¢˜æˆ‘ä»¬åœ¨å¾ˆä¹…ä¹‹å‰ä¹Ÿé‡åˆ°è¿‡, å½“æ—¶æ˜¯å¦ä¸ªä¸€å°ä¼™ä¼´è´Ÿè´£çš„. å½“æ—¶çŒœæµ‹å¯èƒ½æ˜¯ <code>spine runtimes</code> éœ€è¦å‡çº§, ä½†æ˜¯å‡çº§æ—¶é‡åˆ°äº†æŠ€æœ¯é—®é¢˜, æ°å¥½é¡¹ç›®æ¯”è¾ƒç´§, ä¾¿è®©ç¾æœ¯åŒå­¦é‡æ–°ç”¨è€ç‰ˆçš„ Spine ç¼–è¾‘å™¨é‡æ–°åšäº†ä¸€é.</p>
<a id="more"></a>
<p>æ— ç‹¬æœ‰å¶, ä¸Šå‘¨å¦ä¸€ä¸ªå°ä¼™ä¼´åœ¨æ’­æ”¾ spine åŠ¨ç”»æ—¶é‡åˆ°äº† <code>å´©æºƒ</code> çš„é—®é¢˜, è€Œæ”¾åˆ° creator ä¸­æµ‹è¯•æ˜¯æ²¡æœ‰é—®é¢˜çš„, çœ‹æ¥åˆæ˜¯è¿è¡Œåº“å¤ªè¿‡é™ˆæ—§çš„åŸå› .</p>
<p>è¶ç€å‘¨æœ«æœ‰ç‚¹æ—¶é—´, æˆ‘ä¹Ÿæ¥å°è¯•æ›´æ–°ä¸‹ <code>spine runtimes</code>. 15 å¹´çš„æ—¶å€™å°±æ›´æ–°è¿‡ä¸€æ¬¡, å½“æ—¶è¿˜å†™äº†ä¸€ç¯‡å¾ˆæ°´çš„æ–‡ç«  <a href="/2015/08/16/upgrad-spine-runtime/">&lt;&lt;æ›´æ–° spine çš„ cocos2d-x runtimes&gt;&gt;</a>, æ—¶éš”ä¸¤å¹´, è¿™æ¬¡æ˜¯å¦ä¹Ÿä¼šä¾ç„¶é¡ºåˆ©å‘¢ ?</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1flnh9m7zekj307w04x746.jpg" alt=""></p>
<p>æˆ‘è¿™æ¬¡å¹¶æ²¡æœ‰é€‰æ‹©ä» spine çš„<a href="https://github.com/EsotericSoftware/spine-runtimes" target="_blank" rel="noopener">å®˜æ–¹ä»“åº“</a> æ›´æ–° runtimes, æ—¢ç„¶ creator ä¸­æ˜¯æ²¡æœ‰é—®é¢˜çš„, ä¸ºä»€ä¹ˆä¸é€‰æ‹©ç›´æ¥ä» creator é™„å¸¦çš„ <a href="https://github.com/cocos-creator/cocos2d-x-lite/subscription" target="_blank" rel="noopener">cocos2d-lite</a> ä¸­å¤åˆ¶è¿‡æ¥å‘¢ ?</p>
<h2 id="1-æ›¿æ¢æœ€æ–°çš„-spine-runtimes"><a href="#1-æ›¿æ¢æœ€æ–°çš„-spine-runtimes" class="headerlink" title="1. æ›¿æ¢æœ€æ–°çš„ spine runtimes"></a>1. æ›¿æ¢æœ€æ–°çš„ spine runtimes</h2><p>ç®€å•æµè§ˆäº†ä¸‹, ç›®å½•ç»“æ„æ²¡æœ‰å‘ç”Ÿå˜åŒ–, çœ‹æ¥æ˜¯ä¸€ä¸ªå¥½çš„å¼€ç«¯. æˆ‘ä»¬å…ˆä»ç”¨ cocos2d-lite ä¸­çš„ <code>cocos/editor-support/spine</code> æ›¿æ¢æ‰ quick-cocos2d-x ä¸­çš„åŒåç›®å½•.</p>
<p>ç”¨ XCode æ‰“å¼€ <code>quick/player/proj.mac/player3.xcodeproj</code> æ¨¡æ‹Ÿå™¨å·¥ç¨‹, æˆ‘ä»¬ç”¨ quick-cocos2d-x çš„ Mac ç‰ˆæ¥å®Œæˆåç»­çš„å·¥ä½œ. åœ¨ <code>Project Navigator</code> æ‰¾åˆ° <code>spine</code> æ–‡ä»¶å¤¹, åˆ é™¤æ‰çº¢è‰²çš„ç¼ºå¤±æ–‡ä»¶, å³é”® <code>Add files to &#39;cocos2d_libs.xcodepro&#39;</code> æ·»åŠ ä¸Šæ–°å¢çš„æ–‡ä»¶, ç¼–è¯‘ä¸€ä¸‹.</p>
<h2 id="2-ä¿®å¤-lua-binding-é”™è¯¯"><a href="#2-ä¿®å¤-lua-binding-é”™è¯¯" class="headerlink" title="2. ä¿®å¤ lua binding é”™è¯¯"></a>2. ä¿®å¤ lua binding é”™è¯¯</h2><p>å‘ç°æœ‰ <code>lua_cocos2dx_spine_auto.cpp</code> æœ‰æŠ¥é”™, é”™è¯¯å†…å®¹:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...lua_cocos2dx_spine_auto.cpp:701:32: No viable conversion from 'function&lt;void (int)&gt;' to 'const function&lt;void (spTrackEntry *)&gt;'</span><br><span class="line">...lua_cocos2dx_spine_auto.cpp:758:43: No viable conversion from 'function&lt;void (int, spEvent *)&gt;' to 'const function&lt;void (spTrackEntry *, spEvent *)&gt;'</span><br><span class="line">...lua_cocos2dx_spine_auto.cpp:815:46: No viable conversion from 'function&lt;void (int, int)&gt;' to 'const function&lt;void (spTrackEntry *)&gt;'</span><br><span class="line">...lua_cocos2dx_spine_auto.cpp:872:43: No viable conversion from 'function&lt;void (int)&gt;' to 'const function&lt;void (spTrackEntry *)&gt;'</span><br><span class="line">...lua_cocos2dx_spine_auto.cpp:925:35: No viable conversion from 'function&lt;void (int, int)&gt;' to 'const function&lt;void (spTrackEntry *)&gt;'</span><br><span class="line">...lua_cocos2dx_spine_auto.cpp:982:41: No viable conversion from 'function&lt;void (int)&gt;' to 'const function&lt;void (spTrackEntry *)&gt;'</span><br><span class="line">...lua_cocos2dx_spine_auto.cpp:1035:32: No viable conversion from 'function&lt;void (int, spEvent *)&gt;' to 'const function&lt;void (spTrackEntry *, spEvent *)&gt;'</span><br><span class="line">...lua_cocos2dx_spine_auto.cpp:1143:30: No viable conversion from 'function&lt;void (int)&gt;' to 'const function&lt;void (spTrackEntry *)&gt;'</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶åå°±åº”è¯¥è”æƒ³åˆ°æ²¡æœ‰é‡æ–°ç”Ÿæˆ lua ç»‘å®šçš„ä»£ç . æ‰“å¼€ç»ˆç«¯è¿›å…¥ <code>tools/tolua</code>, è¿è¡Œ:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python genbindings.py</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¹‹å‰æ²¡æœ‰è¿è¡Œè¿‡è¿™ä¸ªè„šæœ¬çš„è¯, å¯ä»¥<a href="https://github.com/dualface/v3quick/blob/v3/tools/tolua/README.mdown" target="_blank" rel="noopener">å‚ç…§è¿™ä»½å®˜æ–¹æ–‡æ¡£</a>éœ€è¦æ­å»ºç¯å¢ƒ. ç­‰å¾…è¿è¡Œç»“æŸå, å†æ¬¡ç¼–è¯‘.</p>
<h2 id="3-ä¿®å¤-API-å˜åŠ¨å¯¼è‡´çš„ç¼–è¯‘é”™è¯¯"><a href="#3-ä¿®å¤-API-å˜åŠ¨å¯¼è‡´çš„ç¼–è¯‘é”™è¯¯" class="headerlink" title="3. ä¿®å¤ API å˜åŠ¨å¯¼è‡´çš„ç¼–è¯‘é”™è¯¯"></a>3. ä¿®å¤ API å˜åŠ¨å¯¼è‡´çš„ç¼–è¯‘é”™è¯¯</h2><h3 id="1-Listener-å›è°ƒå‡½æ•°å‚æ•°å˜åŒ–"><a href="#1-Listener-å›è°ƒå‡½æ•°å‚æ•°å˜åŒ–" class="headerlink" title="1. *Listener å›è°ƒå‡½æ•°å‚æ•°å˜åŒ–"></a>1. *Listener å›è°ƒå‡½æ•°å‚æ•°å˜åŒ–</h3><p>è¿™æ¬¡æ”¹ä¸º <code>lua_cocos2dx_spine_manual.cpp</code> å‡ºé”™äº†:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...lua_cocos2dx_spine_manual.cpp:233:48: No viable conversion from '(lambda at ...lua_cocos2dx_spine_manual.cpp:233:48)' to 'const StartListener' (aka 'const function&lt;void (spTrackEntry *)&gt;')</span><br><span class="line">...lua_cocos2dx_spine_manual.cpp:241:46: No viable conversion from '(lambda at ...lua_cocos2dx_spine_manual.cpp:241:46)' to 'const EndListener' (aka 'const function&lt;void (spTrackEntry *)&gt;')</span><br><span class="line">...lua_cocos2dx_spine_manual.cpp:249:51: No viable conversion from '(lambda at ...lua_cocos2dx_spine_manual.cpp:249:51)' to 'const CompleteListener' (aka 'const function&lt;void (spTrackEntry *)&gt;')</span><br><span class="line">...lua_cocos2dx_spine_manual.cpp:257:48: No viable conversion from '(lambda at ...lua_cocos2dx_spine_manual.cpp:257:48)' to 'const EventListener' (aka 'const function&lt;void (spTrackEntry *, spEvent *)&gt;')</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–‡ä»¶ä¸­æ”¾çš„æ˜¯æ‰‹åŠ¨å¯¼å‡º lua æ¥å£çš„ä»£ç , æˆ‘ä»¬éœ€è¦æ¨æµ‹ä¸€ä¸‹è¿™äº›é”™è¯¯å‘ç”Ÿçš„åŸå› . è®©æˆ‘ä»¬çœ‹ä¸‹å‡ºé”™çš„å…·ä½“ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">self-&gt;setStartListener([=](<span class="keyword">int</span> trackIndex)&#123;</span><br><span class="line">    executeSpineEvent(self, handler, eventType, trackIndex);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>StartListener</code> æ˜¯å£°æ˜åœ¨ <code>SkeletonAnimation.h</code> ä¸­çš„, ç›¸å…³ä»£ç çš„ git diff å¦‚ä¸‹:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(<span class="keyword">int</span> trackIndex)&gt; StartListener;</span><br><span class="line">-<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(<span class="keyword">int</span> trackIndex)&gt; EndListener;</span><br><span class="line">-<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(<span class="keyword">int</span> trackIndex, <span class="keyword">int</span> loopCount)&gt; CompleteListener;</span><br><span class="line">-<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(<span class="keyword">int</span> trackIndex, spEvent* event)&gt; EventListener;</span><br><span class="line">+<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(spTrackEntry* entry)&gt; StartListener;</span><br><span class="line">+<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(spTrackEntry* entry)&gt; InterruptListener;</span><br><span class="line">+<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(spTrackEntry* entry)&gt; EndListener;</span><br><span class="line">+<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(spTrackEntry* entry)&gt; DisposeListener;</span><br><span class="line">+<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(spTrackEntry* entry)&gt; CompleteListener;</span><br><span class="line">+<span class="keyword">typedef</span> <span class="built_in">std</span>::function&lt;<span class="keyword">void</span>(spTrackEntry* entry, spEvent* event)&gt; EventListener;</span><br></pre></td></tr></table></figure>
<p>æ˜¾è€Œæ˜“è§, å‡½æ•°çš„å‚æ•°å‘ç”Ÿäº†å˜åŒ–, æˆ‘ä»¬ä¿®æ”¹ä¸‹ lambda å‡½æ•°å‚æ•°å³å¯, åŒæ—¶è¿˜éœ€è¦è€ƒè™‘ <code>executeSpineEvent</code> å‡½æ•°çš„å˜åŒ–. æˆ‘çš„ä¿®æ”¹å¦‚ä¸‹:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">executeSpineEvent</span><span class="params">(LuaSkeletonAnimation* skeletonAnimation, <span class="keyword">int</span> handler, spEventType eventType,  spTrackEntry * entry, <span class="keyword">int</span> loopCount = <span class="number">0</span>, spEvent* event = <span class="literal">nullptr</span> )</span></span></span><br></pre></td></tr></table></figure>
<p>æ”¹å˜äº†è¿™ä¸ªå‡½æ•°çš„å‚æ•°, è°ƒç”¨çš„åœ°æ–¹ä¹Ÿè¦æ”¹å˜, è¿™ä¸ªå°±ä¸è´´ä»£ç äº†.</p>
<h3 id="spEventType-å˜åŒ–"><a href="#spEventType-å˜åŒ–" class="headerlink" title="spEventType å˜åŒ–"></a>spEventType å˜åŒ–</h3><p>è¿˜éœ€è¦æ³¨æ„åˆ°çš„ä¸€ä¸ªå˜åŒ–æ˜¯:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">    SP_ANIMATION_START, SP_ANIMATION_INTERRUPT, SP_ANIMATION_END, SP_ANIMATION_COMPLETE, SP_ANIMATION_DISPOSE, SP_ANIMATION_EVENT</span><br><span class="line">&#125; spEventType;</span><br></pre></td></tr></table></figure></p>
<p>æƒ³å¿…ä¹‹å‰å¤šäº† <code>SP_ANIMATION_INTERRUPT</code> å’Œ <code>SP_ANIMATION_DISPOSE</code> äº‹ä»¶, æˆ‘ä»¬è¦æ›´æ–°æ‰€æœ‰ç”¨åˆ° <code>spEventType</code> çš„åœ°æ–¹.</p>
<p>SpineConstants.lua :</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sp.EventType =</span><br><span class="line">&#123;</span><br><span class="line">    ANIMATION_START = <span class="number">0</span>, </span><br><span class="line">    ANIMATION_INTERRUPT = <span class="number">1</span>, </span><br><span class="line">    ANIMATION_END = <span class="number">2</span>, </span><br><span class="line">    ANIMATION_COMPLETE = <span class="number">3</span>, </span><br><span class="line">    ANIMATION_DISPOSE = <span class="number">4</span>, </span><br><span class="line">    ANIMATION_EVENT = <span class="number">5</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥åŠ <code>LuaScriptHandlerMgr.h</code> å’Œ <code>lua_cocos2dx_spine_manual.cpp</code> ä¸­å…±è®¡äº”å¤„å˜åŒ–.</p>
<h3 id="TrianglesCommand-å‚æ•°é”™è¯¯"><a href="#TrianglesCommand-å‚æ•°é”™è¯¯" class="headerlink" title="TrianglesCommand å‚æ•°é”™è¯¯"></a>TrianglesCommand å‚æ•°é”™è¯¯</h3><p>è§£å†³äº†è¿™ä¸ªé—®é¢˜, ç¼–è¯‘åå‘ç°è¿˜æœ‰ä¸€ä¸ªé”™è¯¯:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SkeletonBatch.cpp:95:37: No matching member function for call to 'init'</span><br></pre></td></tr></table></figure>
<p>æ˜¯è°ƒç”¨ <code>TrianglesCommand:init</code> æ—¶å¤šä¼ å…¥äº†ä¸€ä¸ªå‚æ•°, å¯èƒ½æ˜¯æ–°ç‰ˆ cocos çš„ api æ”¹åŠ¨å§, æˆ‘ä»¬ç›´æ¥åˆ æ‰æœ€åä¸€ä¸ªå‚æ•°:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-        _command-&gt;trianglesCommand-&gt;init(globalZOrder, textureID, glProgramState, blendFunc, *_command-&gt;triangles, transform, transformFlags);</span><br><span class="line">+        _command-&gt;trianglesCommand-&gt;init(globalZOrder, textureID, glProgramState, blendFunc, *_command-&gt;triangles, transform);</span><br></pre></td></tr></table></figure>
<hr>
<p>åˆ°æ­¤æå®šäº†æ‰€æœ‰çš„ç¼–è¯‘é—®é¢˜, å°è¯•äº†ä¸‹ Android å’Œ iOS çš„ç¼–è¯‘, ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé—®é¢˜. è®©æˆ‘ä»¬è¿è¡Œä¸‹çœ‹ä¸‹æ•ˆæœ:</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1flnr7bq9vtg306v08skah.gif" alt=""></p>
<p>åè®°:</p>
<h1 id="1-Spine-Error-Unknown-attachment-type-skinnedmesh"><a href="#1-Spine-Error-Unknown-attachment-type-skinnedmesh" class="headerlink" title="1. Spine Error:Unknown attachment type: skinnedmesh"></a>1. Spine Error:Unknown attachment type: skinnedmesh</h1><p>è·Ÿæ–°å®Œåæœ‰çš„ Spine æ–‡ä»¶ä¼šæŠ¥è¿™ä¸ªé”™è¯¯, <a href="http://forum.cocos.com/t/1-3-1-spine-c-spine-skinnedmesh/41180/2" target="_blank" rel="noopener">è®ºå›é‡Œæœ‰è§£å†³æ–¹æ¡ˆ</a>, è™½ç„¶ä¸æŠ¥é”™äº†, ä½†æ˜¯ä¹Ÿä¸åŠ¨äº†, å¯èƒ½éœ€è¦ç¾æœ¯é‡æ–°åšä¸€é.</p>
<h1 id="2-çœŸçš„æœ‰å¿…è¦ä»-cocos2d-x-lite-ä¸­æ›´æ–°å—"><a href="#2-çœŸçš„æœ‰å¿…è¦ä»-cocos2d-x-lite-ä¸­æ›´æ–°å—" class="headerlink" title="2. çœŸçš„æœ‰å¿…è¦ä» cocos2d-x-lite ä¸­æ›´æ–°å—?"></a>2. çœŸçš„æœ‰å¿…è¦ä» cocos2d-x-lite ä¸­æ›´æ–°å—?</h1><p>ç»è¿‡å¥½å‹ @éƒ­å½¬ çš„æé†’, ç¡®å®æ²¡æœ‰å¿…è¦, ä»–å°±æ˜¯ä»å®˜æ–¹ä»“åº“æ›´æ–°çš„, æ˜¯æˆ‘ç”»è›‡æ·»è¶³äº†.</p>
]]></content>
      
        
        <tags>
            
            <tag> cocos2d-x </tag>
            
            <tag> spine </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x å°ç±³ Mix å…¨é¢å±é€‚é…]]></title>
      <url>http://blog.justbilt.com/2017/11/17/quick-x-mi-mix-support/</url>
      <content type="html"><![CDATA[<p>æœ‰ç©å®¶åé¦ˆæˆ‘ä»¬çš„æ¸¸æˆåœ¨ Mix ä¸Šé¢æ— æ³•å…¨å±æ˜¾ç¤º, ä¸Šä¸‹ä¼šæœ‰é»‘è¾¹. æœç´¢äº†ä¸‹, ç½‘ä¸Šè¿˜æ²¡æœ‰ç»å¦‚ä½•é€‚é…çš„ç›¸å…³æ–‡ç« , è¿™é‡Œä»‹ç»ä¸‹æˆ‘ä»¬æ˜¯å¦‚ä½•åšçš„.</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨çœ‹çœ‹å°ç±³å®˜æ–¹<a href="https://dev.mi.com/doc/p=10083/index.html" target="_blank" rel="noopener">å¯¹å…¨é¢å±é€‚é…å·¥ä½œçš„ä»‹ç»</a>:</p>
<blockquote>
<p>è¿™äº›å˜åŒ–ä¹Ÿå½±å“äº†æ‰‹æœºè½¯ä»¶çš„è®¾è®¡ï¼Œæœ€å€¼å¾—å¼€å‘è€…å…³æ³¨çš„ï¼Œæ˜¯ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ol>
<li>æ›´å¤§çš„å±å¹•é«˜å®½æ¯”</li>
<li>è™šæ‹Ÿå¯¼èˆªé”®</li>
</ol>
</blockquote>
<a id="more"></a>
<p>å¥½çš„, æˆ‘ä»¬å…ˆæŒ‰ç…§å®˜æ–¹çš„æ–¹æ³•ä¿®æ”¹ä¸‹ <code>max_aspect</code> çš„å€¼ä¸º <code>2</code> ä»¥ä¸Š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta-data</span> <span class="attr">android:name</span>=<span class="string">"android.max_aspect"</span> <span class="attr">android:value</span>=<span class="string">"2.1"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿è¡Œä¸‹, å‘ç°é¡¶éƒ¨çš„é»‘æ¡ä¸è§äº†, ä½†æ˜¯åº•éƒ¨çš„è™šæ‹Ÿå¯¼èˆªé”®è¿˜åœ¨. æˆ‘ä»¬æ¥ç€çœ‹å®˜æ–¹çš„æ–‡æ¡£:</p>
<p><img src="https://dev.mi.com/doc/wp-content/uploads/2017/06/%E8%99%9A%E6%8B%9F%E9%94%AE%E7%9A%84%E6%A0%B7%E5%BC%8F.png" alt=""></p>
<p>ç„¶è€Œè¿™å‡ ç§æ•ˆæœéƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„, æˆ‘ä»¬æƒ³è¦æ˜¯éšè—<code>è™šæ‹Ÿå¯¼èˆªé”®</code>. Google ä¸€ä¸‹, å¾ˆå®¹æ˜“æœç´¢åˆ°è¿™æ®µä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * éšè—è™šæ‹ŸæŒ‰é”®ï¼Œå¹¶ä¸”å…¨å±</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">hideBottomUIMenu</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="comment">//éšè—è™šæ‹ŸæŒ‰é”®ï¼Œå¹¶ä¸”å…¨å±</span></span><br><span class="line">       <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt; <span class="number">11</span> &amp;&amp; Build.VERSION.SDK_INT &lt; <span class="number">19</span>) &#123; <span class="comment">// lower api</span></span><br><span class="line">           View v = <span class="keyword">this</span>.getWindow().getDecorView();</span><br><span class="line">           v.setSystemUiVisibility(View.GONE);</span><br><span class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= <span class="number">19</span>) &#123;</span><br><span class="line">           <span class="comment">//for new api versions.</span></span><br><span class="line">           View decorView = getWindow().getDecorView();</span><br><span class="line">           <span class="keyword">int</span> uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION</span><br><span class="line">                           | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY | View.SYSTEM_UI_FLAG_FULLSCREEN;</span><br><span class="line">           decorView.setSystemUiVisibility(uiOptions);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>åŠ ä¸Šä¹‹åå‘ç°å¯¼èˆªé”®çœŸçš„æ²¡æœ‰äº†, ä½†æ˜¯å½“ä½ ç‚¹å‡»å±å¹•æ—¶, å®ƒåˆå‡ºç°äº†. ç»§ç»­æœç´¢å‘ç°äº†<a href="https://segmentfault.com/a/1190000002936799" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>, æŒ‰ç…§æ–‡ç« ä¸­çš„æç¤ºè¿›è¡Œä¿®æ”¹ä½ çš„ AppActivity :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> Cocos2dxGLSurfaceView glSurfaceView;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState, SplashEnum splash, <span class="keyword">long</span> duration, <span class="keyword">boolean</span> debug)</span> </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">        View decorView = getWindow().getDecorView();</span><br><span class="line"><span class="comment">// Hide both the navigation bar and the status bar.</span></span><br><span class="line"><span class="comment">// SYSTEM_UI_FLAG_FULLSCREEN is only available on Android 4.1 and higher, but as</span></span><br><span class="line"><span class="comment">// a general rule, you should design your app to hide the status bar whenever you</span></span><br><span class="line"><span class="comment">// hide the navigation bar.</span></span><br><span class="line">        <span class="keyword">int</span> uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION</span><br><span class="line">                | View.SYSTEM_UI_FLAG_FULLSCREEN;</span><br><span class="line">        decorView.setSystemUiVisibility(uiOptions);</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Cocos2dxGLSurfaceView <span class="title">onCreateView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        glSurfaceView = <span class="keyword">super</span>.onCreateView();</span><br><span class="line">        <span class="keyword">this</span>.hideSystemUI();</span><br><span class="line">        <span class="keyword">return</span> glSurfaceView;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onWindowFocusChanged</span><span class="params">(<span class="keyword">boolean</span> hasFocus)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onWindowFocusChanged(hasFocus);</span><br><span class="line">        <span class="keyword">if</span> (hasFocus)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.hideSystemUI();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">hideSystemUI</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// Set the IMMERSIVE flag.</span></span><br><span class="line">        <span class="comment">// Set the content to appear under the system bars so that the content</span></span><br><span class="line">        <span class="comment">// doesn't resize when the system bars hide and show.</span></span><br><span class="line">        glSurfaceView.setSystemUiVisibility(</span><br><span class="line">                Cocos2dxGLSurfaceView.SYSTEM_UI_FLAG_LAYOUT_STABLE</span><br><span class="line">                        | Cocos2dxGLSurfaceView.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION</span><br><span class="line">                        | Cocos2dxGLSurfaceView.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN</span><br><span class="line">                        | Cocos2dxGLSurfaceView.SYSTEM_UI_FLAG_HIDE_NAVIGATION <span class="comment">// hide nav bar</span></span><br><span class="line">                        | Cocos2dxGLSurfaceView.SYSTEM_UI_FLAG_FULLSCREEN <span class="comment">// hide status bar</span></span><br><span class="line">                        | Cocos2dxGLSurfaceView.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>æå®š. çœ‹ä¸‹æœ€ç»ˆçš„æ•ˆæœ:</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1flncnl0u3tj30ku11278w.jpg" alt=""></p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> Android </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[è®¢é˜… Hexo çš„ä¸»é¢˜é¡µ]]></title>
      <url>http://blog.justbilt.com/2017/10/09/feed-hexo-themes-page/</url>
      <content type="html"><![CDATA[<p>ä½œä¸ºä¸€ä¸ªç»å¸¸æ¢åšå®¢ä¸»é¢˜çš„äºº, æ—¶ä¸æ—¶çš„å°±ä¼šå» <a href="https://hexo.io/themes/" target="_blank" rel="noopener">Hexo çš„ä¸»é¢˜é¡µ</a> é€›é€›, çœ‹çœ‹æœ‰ä»€ä¹ˆæ–°çš„ä¸»é¢˜, è†œæ‹œä¸‹å¤§è§¦ä»¬çš„ä½œå“.</p>
<p>æ¯”è¾ƒéº»çƒ¦çš„æ˜¯è¿™ä¸ªé¡µé¢å¹¶ä¸æ˜¯æŒ‰ç…§æ›´æ–°æ—¶é—´æ’åºçš„, ä¹Ÿæ²¡æœ‰æä¾›æŒ‰æ—¶é—´æ’åºçš„åŠŸèƒ½, æ‰€ä»¥åªèƒ½é è®°å¿†åŠ›äº†. è¿™æ ·å¾ˆå®¹æ˜“é”™è¿‡æ–°çš„ä¸»é¢˜, è€Œä¸”æ¯æ¬¡éƒ½æ˜¯ä»å¤´æ‰¾èµ·, æ•ˆç‡æä½.</p>
<p>æˆ‘è‡ªå·±æ˜¯ä¸€ä¸ª Feed çš„é‡åº¦ç”¨æˆ·, å‡ ä¹æ˜¯æˆ‘æ‰©å±•å­¦ä¹ çš„å”¯ä¸€é€”å¾„. é‚£ä¹ˆèƒ½ä¸èƒ½å°†è¿™ä¸ªç•Œé¢åšæˆä¸€ä¸ªè®¢é˜…æºå‘¢? </p>
<a id="more"></a>
<h1 id="1-Feed43"><a href="#1-Feed43" class="headerlink" title="1. Feed43"></a>1. Feed43</h1><p>åˆšå¥½çœ‹åˆ°æˆ‘è®¢é˜…çš„ <a href="https://aoxuis.me/" target="_blank" rel="noopener">@XAæŠ€æœ¯ä¸å®…</a> å…„æ›´æ–°äº†ä¸€ç¯‡æ–‡ç«  <a href="https://aoxuis.me/post/bo-ke/li-yong-feed43-zhi-zuo-shi-yao-zhi-de-mai-zhong-ce-chan-pin-de-rssding-yue-lian-jie" target="_blank" rel="noopener">åˆ©ç”¨ Feed43 åˆ¶ä½œä»€ä¹ˆå€¼å¾—ä¹°ä¼—æµ‹äº§å“çš„RSSè®¢é˜…é“¾æ¥</a>, æ„Ÿè§‰æŒºä¸é”™çš„, æˆ‘ä¹Ÿè¯•è¯•å§.</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fkcbou91p9j30j70izq89.jpg" alt=""></p>
<p>ç½‘ç«™çœ‹èµ·æ¥ååˆ†ç®€æ´, æˆ‘ä»¬ç‚¹å‡» <code>Create your own feed</code> å¼€å§‹åˆ¶ä½œè®¢é˜…æº, åŒæ„ä¸€å¤§å †çœ‹ä¸æ‡‚çš„æ¡æ¬¾å, æˆ‘ä»¬ä¼šæ¥åˆ°è¿™æ ·çš„ä¸€ä¸ªç•Œé¢:</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fkcbu7z8lbj30ix0ah75z.jpg" alt=""></p>
<p>æˆ‘ä»¬åœ¨ <code>Address</code> å¡«å…¥ Hexo ä¸»é¢˜é¡µçš„ç½‘å€, ç‚¹å‡» <code>Reload</code> å°±å¯ä»¥åŠ è½½ç½‘é¡µäº†, æˆåŠŸåæˆ‘ä»¬åœ¨ä¸‹é¢å¡«å…¥æå–è§„åˆ™, ä¸»è¦å°±æ˜¯ <code>Item (repeatable) Search Pattern</code> è¿™ä¸€æ , å…¶ä»–éƒ½å¯ä»¥ç©ºç€.</p>
<p>ç»è¿‡è§‚å¯ŸåŠä¸€ç•ªæ€è€ƒå, æˆ‘å¡«å†™çš„è§„åˆ™å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;li class=&quot;plugin on&quot;&gt;</span><br><span class="line">&#123;*&#125;&lt;div class=&quot;plugin-screenshot&quot;&gt;</span><br><span class="line">&#123;*&#125;&lt;noscript&gt;</span><br><span class="line">&#123;*&#125;&lt;img data-src=&quot;&#123;%&#125;&quot; &#123;*&#125;&gt;</span><br><span class="line">&#123;*&#125;&lt;a href=&quot;&#123;%&#125;&quot; class=&quot;plugin-preview-link&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-eye&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span><br><span class="line">&#123;*&#125;&lt;a href=&quot;&#123;%&#125;&quot;&#123;*&#125; class=&quot;plugin-name&quot; target=&quot;_blank&quot;&gt;&#123;%&#125;&lt;/a&gt;</span><br><span class="line">&#123;*&#125;&lt;p class=&quot;plugin-desc&quot;&gt;&#123;%&#125;&lt;/p&gt;</span><br><span class="line">&#123;*&#125;</span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;%1&#125; = https://hexo.io/build/screenshots/Ada-139a3754c7.jpg</span><br><span class="line">&#123;%2&#125; = https://shuirong.github.io/</span><br><span class="line">&#123;%3&#125; = https://github.com/shuiRong/hexo-theme-Ada</span><br><span class="line">&#123;%4&#125; = Ada</span><br><span class="line">&#123;%5&#125; = Ada is an concise theme for Hexo.</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé¢æå–äº†æ¯ä¸€ä¸ªä¸»é¢˜çš„ <code>é¢„è§ˆå›¾ç‰‡</code>, <code>é¢„è§ˆåœ°å€</code>, <code>Github é¡¹ç›®åœ°å€</code>, <code>ä¸»é¢˜åç§°</code>, <code>ä¸»é¢˜ç®€ä»‹</code>. ä¸‹é¢å°±æ˜¯å¡«å†™æ¸²æŸ“è§„åˆ™äº†, ä¹Ÿå¾ˆç®€å•, è–›å¾®æœ‰ä¸€ç‚¹ html åŸºç¡€å°±å¯ä»¥æå®š. æœ€åçš„æˆæœå¦‚ä¸‹:</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fkcc1se8wrj30iw0rlq5q.jpg" alt=""></p>
<p>è¿˜ä¸é”™å“ˆ, æœ‰æ¨¡æœ‰æ ·çš„, å¤§å®¶æ„Ÿå…´è¶£çš„è¯ <a href="https://feed43.com/8308348441438115.xml" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a> å¯ä»¥è·³è½¬æŸ¥çœ‹. ä»”ç»†æŸ¥çœ‹çš„è¯ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜:</p>
<blockquote>
<p>æ•°é‡æ¯”å®˜ç½‘å°‘äº†å¾ˆå¤š, è¿™é‡Œå¤§æ¦‚åªæœ‰ä¸åˆ° 20 ä¸ªä¸»é¢˜, è€Œå®˜ç½‘ä¸Šåˆ™æœ‰æ•° 154 ä¸ªä¸»é¢˜.</p>
</blockquote>
<p>åœ¨å­—ä½“åœ¨åå°çœ‹äº†ä¸‹, å‘ç°äº†è¿™å¥è¯:</p>
<blockquote>
<p>Page too big. First 102400 bytes loaded.</p>
</blockquote>
<p>Feed43 ä¸ºäº†åŠ å¿«é€Ÿåº¦, åªèŠ‚é€‰äº†åŸå§‹ç½‘é¡µçš„ä¸€éƒ¨åˆ†å†…å®¹, è¿™ä¸‹å®Œè›‹äº†, è¿™ä¸ªè®¢é˜…æºæ²¡æœ‰ä»»ä½•ä½œç”¨, æƒå½“ç»ƒæ‰‹äº†, åæ­£ä¹Ÿæ²¡æœ‰èŠ±è´¹å¤ªå¤šçš„æ—¶é—´.</p>
<h1 id="2-hexojs-site"><a href="#2-hexojs-site" class="headerlink" title="2. hexojs/site"></a>2. hexojs/site</h1><p><a href="https://github.com/hexojs/site" target="_blank" rel="noopener">hexojs/site</a> è¿™ä¸ª Github ä»“åº“æ˜¯ hexo.io è¿™ä¸ªç½‘ç«™çš„åŸå§‹ä»£ç , å…¶ä¸­ <a href="https://github.com/hexojs/site/blob/master/source/_data/themes.yml" target="_blank" rel="noopener">source/_data/themes.yml</a> è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸»é¢˜é¡µçš„åŸå§‹æ•°æ®æ–‡ä»¶.</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è§‚å¯Ÿè¿™ä¸ªæ–‡ä»¶çš„<a href="https://github.com/hexojs/site/commits/master/source/_data/themes.yml" target="_blank" rel="noopener">å†å²è®°å½•</a>æ¥å¾—çŸ¥ä¸»é¢˜çš„å˜åŒ–æƒ…å†µ:</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fkdgeh5qyrj30sw0w3n1j.jpg" alt=""></p>
<p>é‚£ä¹ˆå¦‚ä½•è®¢é˜…è¿™ä¸ªæ–‡ä»¶çš„å˜åŒ–å‘¢? stackoverflow ä¸Šçš„<a href="https://stackoverflow.com/a/7353586/3003184" target="_blank" rel="noopener">è¿™ä¸ªç­”æ¡ˆ</a>å¯ä»¥è§£å¾è¾ˆç–‘æƒ‘. </p>
<blockquote>
<p>åœ¨æ–‡ä»¶ url åé¢åŠ ä¸Š <code>.atom</code> å°±å¯ä»¥ç”Ÿæˆè¿™ä¸ª url çš„ feed æº</p>
</blockquote>
<p>å¤§å®¶å¯ä»¥ç‚¹<a href="https://github.com/hexojs/site/commits/master/source/_data/themes.yml.atom" target="_blank" rel="noopener">è¿™é‡ŒæŸ¥çœ‹</a>, å¤åˆ¶ url è®¢é˜…, æ•ˆæœå¾ˆç»™åŠ›:</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fkdgm3o20zj30v90rc431.jpg" alt=""></p>
<hr>
<p>ç»è¿‡è¿™æ¬¡æŠ˜è…¾, æ”¶è·é¢‡ä¸°å‘€:</p>
<ol>
<li>ä¼šä½¿ç”¨ Feed43 ç”Ÿæˆè‡ªå·±å–œæ¬¢ç½‘é¡µçš„è®¢é˜…æº</li>
<li>çŸ¥é“äº† Github åœ¨ä»»æ„ url åé¢åŠ  .atom å¯ä»¥ç”Ÿæˆè®¢é˜…æº</li>
</ol>
<p>ç”Ÿå‘½ä¸æ¯, æŠ˜è…¾ä¸æ­¢.</p>
]]></content>
      
        
        <tags>
            
            <tag> blog </tag>
            
            <tag> hexo </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[è§£å†³ electron-builder æ‰“åŒ…ä¾èµ–é—®é¢˜]]></title>
      <url>http://blog.justbilt.com/2017/10/02/electron-builder-dependencies/</url>
      <content type="html"><![CDATA[<p>å¤§æ¦‚æ˜¯ä¸‰ä¸ªæœˆå‰, å†™äº† <a href="/2017/07/09/convert2fnt-electron-rewrite">ä½¿ç”¨ Electron é‡å†™ convert2fnt</a> è¿™ç¯‡æ–‡ç« , æ–‡ç« å¤§æ¦‚è®²äº†æˆ‘ç”¨ Electron é‡å†™ä¹‹å‰çš„ä¸€ä¸ª BMFont å­—ä½“ç”Ÿæˆå·¥å…·çš„äº‹æƒ….</p>
<p>å¼€å‘çš„è¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒé¡ºåˆ©çš„, Node.js çš„ç”Ÿæ€éå¸¸ç»™åŠ›, åŠ ä¸Š Chrome, VSCode åŠ æŒ, å¼€å‘å’Œè°ƒè¯•éƒ½å¾ˆçˆ½. ä½†ç”±äºæˆ‘æ²¡æœ‰ WEB å¼€å‘çš„åŸºç¡€, æ•´è¿‡è¿‡ç¨‹åªèƒ½æ‘¸ç´¢åŠ ç½‘ä¸ŠæŸ¥èµ„æ–™, ä¸­é—´ä¹‹æ›²æŠ˜, è‡ªä¸è¶³ä¸ºå¤–äººé“ä¹Ÿ, ä½†æœ€ç»ˆç£•ç£•ç»Šç»Šçš„ä¹Ÿç®—æå‡ºæ¥äº†.</p>
<p>å‘ƒ, å…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå®Œç¾. </p>
<blockquote>
<p>Windows ç‰ˆæ‰“åŒ…åå‘ç°è¿è¡Œä¸å¤ªæ­£å¸¸, ä½† Win å¼€å‘ç‰ˆä»¥åŠ Mac å¼€å‘/å‘å¸ƒç‰ˆéƒ½è¿è¡Œæ­£å¸¸.</p>
</blockquote>
<p>æœ‰äº›è¯¡å¼‚, ä¸è¿‡æˆ‘è‡ªå·±åªåœ¨ Mac ä¸Šä½¿ç”¨, åŠ ä¸Šå·¥ä½œæ¯”è¾ƒå¿™, ä¾¿æç½®äº†èµ·æ¥. ä½†è°æ„¿æ„åœ¨è‡ªå·±å¤´ä¸Šæ‚¬åœ¨ä¸€æŠŠåˆ©å‰‘å‘¢, ä¸‡ä¸€å“ªå¤©ç€æ€¥ç”¨ Win ç‰ˆçš„æ€ä¹ˆåŠ.</p>
<p>è¶ç€å›½åº†æ”¾å‡è¿˜æ²¡æœ‰ä»€ä¹ˆå®‰æ’çš„æ—¶å€™, èµ¶ç´§æä¸€ä¸‹.</p>
<a id="more"></a>
<hr>
<p>é¦–å…ˆè¦ææ˜ç™½æ— æ³•æ­£å¸¸è¿è¡Œçš„åŸå› æ˜¯ä»€ä¹ˆ, æ‰“å¼€ Chrom å¼€å‘è€…å·¥å…·åå‘ç°äº†é”™è¯¯å†…å®¹. é¡¹ç›®çš„ä¸€ä¸ªä¾èµ–é¡¹ <code>jimp</code> æ²¡æœ‰åŠ è½½æˆåŠŸ, åœ¨è°ƒç”¨è¿™ä¸ªæ¨¡å—çš„ä¸€ä¸ªå‡½æ•°åæŠ›å‡ºé”™è¯¯:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const Jimp = require(&quot;jimp&quot;);</span><br><span class="line">Jimp.read(imagePath, function (err, lenna) &#123;&#125;</span><br><span class="line">---</span><br><span class="line">Uncaught TypeError: Jimp.read is not a function</span><br></pre></td></tr></table></figure>
<p>è¯•ç€æ–­ç‚¹è·Ÿè¸ªäº†ä¸‹ <code>require(&quot;jimp&quot;)</code> çš„è¿‡ç¨‹, ç”±äºè‡ªå·±å¯¹ js çš„ç»†èŠ‚çŸ¥ä¹‹ç”šå°‘, ä¹Ÿæ²¡æœ‰å‘ç°ä»€ä¹ˆå¼‚å¸¸. å„ç§å…³é”®å­—ç»„åˆ Google ä¹Ÿæ²¡æœ‰ç»“æœ, ä¸€åº¦é™·å…¥äº†æ¯«æ— å¤´ç»ªçš„å›°å¢ƒ.</p>
<p>åœ¨æœç´¢çš„è¿‡ç¨‹ä¸­å‘ç° <code>electron</code> å’Œ <code>electron-builder</code> éƒ½æœ‰äº†æ–°çš„ç‰ˆæœ¬, äºæ˜¯æŠ±ç€ä¾¥å¹¸çš„å¿ƒæ€è¯•ç€å‡çº§äº†ä¸‹è¿™ä¸¤ä¸ªåº“.</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- "electron-builder": "^19.11.1",</span></span><br><span class="line"><span class="deletion">- "electron": "^1.6.11"</span></span><br><span class="line"><span class="addition">+ "electron-builder": "^19.33.0",</span></span><br><span class="line"><span class="addition">+ "electron": "^1.7.8",</span></span><br></pre></td></tr></table></figure>
<p>æ²¡æƒ³åˆ°, ç«Ÿç„¶ â€¦ â€¦ è¿˜æ˜¯æ²¡æœ‰è§£å†³è¿™ä¸ªé—®é¢˜. å¥½å§, å…¶å®ä¹Ÿè¿˜åœ¨é¢„æ–™ä¹‹ä¸­. ä½†æ˜¯ä¹Ÿæœ‰ â€œå¥½æ¶ˆæ¯â€, å‡ºé”™çš„åœ°æ–¹å’Œä¹‹å‰ä¸ä¸€æ ·äº†.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module.js:472 Uncaught Error: Cannot find module &apos;bmp-js&apos;</span><br></pre></td></tr></table></figure>
<p>åˆæ˜¯ä¸€ç•ªæŠ˜è…¾, å°è¯•å„ç§è§£å†³æ–¹æ¡ˆ, å„ç§çŒœæƒ³, å„ç§ç»„åˆ. è¿™äº›å°è¯•å¤šæ²¡æœ‰ä»€ä¹ˆå˜åŒ–, æœ‰çš„å°è¯•åè€Œå°†æˆ‘å¸¦åˆ°æ²Ÿé‡Œ, ç¦»çœŸç›¸è¶Šæ¥è¶Šè¿œ. </p>
<p>æœ€åæˆ‘åšå®šäº†ä¸€ä¸ªæƒ³æ³•:</p>
<blockquote>
<p>æˆ‘çš„ä»£ç æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„, ä¸€å®šæ˜¯æ‰“åŒ…çš„é…ç½®æœ‰é—®é¢˜.</p>
</blockquote>
<p>æœç„¶, åœ¨ä»”ç»†é˜…è¯»å®˜æ–¹æ–‡æ¡£çš„æ—¶å€™å‘ç°äº†è¿™ä¸ª <a href="https://www.electron.build/tutorials/two-package-structure" target="_blank" rel="noopener">Two package.json Structure</a> , åŸæ¥å®˜æ–¹å·²ç»æ¨èä½¿ç”¨ä¸¤ä¸ªé…ç½®æ–‡ä»¶æ¥é…ç½®å„ç§å‚æ•°, ä¸€ä¸ªé…ç½®å¼€å‘æ—¶çš„å‚æ•°, ä¸€ä¸ªé…ç½®æ‰“åŒ…æ—¶çš„å‚æ•°. äºæ˜¯ä¾¿æœ‰äº†è¿™æ ·çš„ç›®å½•ç»“æ„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ app</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ index.html</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ index.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ package-lock.json</span><br><span class="line">â”‚Â Â  â””â”€â”€ package.json</span><br><span class="line">â””â”€â”€ package.json</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶, å®˜æ–¹è¿˜å»ºè®®åœ¨å¼€å‘çš„ <code>config.json</code> ä¸­å¢åŠ ä¸€ä¸ª <code>&quot;postinstall&quot;: &quot;electron-builder install-app-deps&quot;</code> æ¥è‡ªåŠ¨è§¦å‘å®‰è£… <code>app</code> ç›®å½•ä¸­çš„ä¾èµ–.</p>
<hr>
<p>å“ˆå“ˆ, é—®é¢˜å·²ç»è§£å†³, éƒ½æ˜¯æ²¡æœ‰ä»”ç»†çœ‹å®˜æ–¹æ–‡æ¡£æƒ¹çš„ç¥¸, ä½†ä»æ­¤ Win ä¸‹åŒå­¦ä¹Ÿå¯ä»¥ç”¨ä¸Šæ–°ç‰ˆçš„å·¥å…·å•¦.</p>
]]></content>
      
        
        <tags>
            
            <tag> convert2fnt </tag>
            
            <tag> Electron </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x ç¼–è¯‘ Lua ä»£ç åŠ é€Ÿ]]></title>
      <url>http://blog.justbilt.com/2017/09/10/quick-x-make-package-speedup/</url>
      <content type="html"><![CDATA[<p>quick-x åœ¨æ‰‹æœºä¸Šè¿è¡Œçš„æ—¶å€™å¹¶ä¸æ˜¯åŠ è½½é¡¹ç›®çš„ Lua çš„æºç , è€Œæ˜¯ä¸€ä¸ªåä¸º <code>game.zip</code> çš„å‹ç¼©åŒ…. å½“é¡¹ç›®ä¸­çš„ Lua æ–‡ä»¶è¶Šæ¥è¶Šå¤šçš„æ—¶å€™, ç”Ÿæˆè¿™ä¸ª game.zip çš„æ—¶é—´ä¼šè¶Šæ¥è¶Šä¹….</p>
<p>æˆ‘ä»¬ç›®å‰çš„é¡¹ç›®æœ‰ <code>1256</code> ä¸ª Lua æ–‡ä»¶, æ¯æ¬¡æ‰§è¡Œç¼–è¯‘æ“ä½œéœ€è¦è€—æ—¶å°†è¿‘ 40 ç§’çš„æ—¶é—´:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">time <span class="variable">$QUICK_V3_ROOT</span>/quick/bin/compile_scripts.sh -q -i ../src -o ../res/game.zip -e xxtea_zip -ek xxxx -es xxx</span><br><span class="line">---</span><br><span class="line">real    0m38.603s</span><br><span class="line">user    0m25.792s</span><br><span class="line">sys     0m3.369s</span><br></pre></td></tr></table></figure>
<p>å°¤å…¶æ˜¯å½“éœ€è¦åœ¨æ‰‹æœºä¸Šè°ƒè¯• Lua ä»£ç çš„æ—¶å€™, æ¯æ”¹ä¸€æ¬¡ä»£ç å°±éœ€è¦è¿è¡Œä¸€æ¬¡è¿™ä¸ªå‘½ä»¤, ç„¶å 40 ç§’å°±è¿‡å»äº†, ä½ ææ€•éƒ½å¿˜è®°è‡ªå·±è¯¥å…³æ³¨ä»€ä¹ˆæ”¹åŠ¨äº†å§!</p>
<a id="more"></a>
<h1 id="åˆ†æ-compile-scripts"><a href="#åˆ†æ-compile-scripts" class="headerlink" title="åˆ†æ compile_scripts"></a>åˆ†æ compile_scripts</h1><p>åœ¨ <code>$QUICK_V3_ROOT/quick/bin</code> ç›®å½•æˆ‘ä»¬å¯ä»¥æ‰¾åˆ° <code>compile_scripts.sh</code> :</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">export</span> LUA_PATH=<span class="string">"<span class="variable">$QUICK_V3_ROOT</span>/quick/bin/mac/?.lua;;"</span></span><br><span class="line">DIR=<span class="string">"<span class="variable">$( cd "$( dirname "$&#123;BASH_SOURCE[0]&#125;" )</span>"</span> &amp;&amp; <span class="built_in">pwd</span> )<span class="string">"</span></span><br><span class="line"><span class="string">php "</span><span class="variable">$DIR</span>/lib/compile_scripts.php<span class="string">" $*</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªè„šæœ¬å¾ˆç®€å•, åªæ˜¯ä¸€ä¸ªå…¥å£, çœŸæ­£çš„é€»è¾‘æ˜¯åœ¨ <code>compile_scripts.php</code> æ–‡ä»¶ä¸­, æ‰“å¼€è¿™ä¸ªæ–‡ä»¶åå‘ç°å®ƒä¸»è¦åŠŸèƒ½æ˜¯å¤„ç†è¾“å…¥çš„å‚æ•°, å‰©ä½™çš„å·¥ä½œæ˜¯é€šè¿‡ <code>ScriptsCompiler</code> è¿™ä¸ªç±»å®Œæˆçš„, å®ƒä½äº ScriptsCompiler.lua ä¸­.</p>
<p>å¿…é¡»æ‰¿è®¤, å»–å¤§ä»–ä»¬å†™çš„ä»£ç è¿˜æ˜¯å¾ˆæ£’çš„, æˆ‘ä»¬åªçœ‹ ScriptsCompiler çš„ <code>run</code> å‡½æ•°ä¾¿å¯ä»¥çŒœåˆ°è¿™ä¸ªç±»éƒ½å¹²äº†é‚£äº›äº‹æƒ…:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $files = <span class="keyword">$this</span>-&gt;searchSourceFiles();</span><br><span class="line">    $modules = <span class="keyword">$this</span>-&gt;prepareForCompile($files);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;config[<span class="string">'encrypt'</span>] == <span class="keyword">self</span>::ENCRYPT_XXTEA_CHUNK)</span><br><span class="line">    &#123;</span><br><span class="line">        $bytes = <span class="keyword">$this</span>-&gt;compileModules($modules, <span class="keyword">$this</span>-&gt;config[<span class="string">'key'</span>], <span class="keyword">$this</span>-&gt;config[<span class="string">'sign'</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        $bytes = <span class="keyword">$this</span>-&gt;compileModules($modules);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!is_array($bytes))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;cleanupTempFiles($modules);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">$this</span>-&gt;createOutput($modules, $bytes))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;cleanupTempFiles($modules);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;cleanupTempFiles($modules);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é…åˆç€å…¶ä¸­è°ƒç”¨çš„å‡½æ•°çš„ç»†èŠ‚, æˆ‘ä»¬å¯ä»¥å¾—çŸ¥è¯¥ç±»çš„ä¸»è¦å·¥ä½œæµç¨‹:</p>
<ol>
<li>æ‰¾åˆ°æ‰€æœ‰çš„ Lua æ–‡ä»¶.</li>
<li>è°ƒç”¨ <code>getScriptFileBytecodes</code> å‡½æ•°è·å–ä¸Šä¸€æ­¥é‚£äº› Lua æ–‡ä»¶çš„å­—èŠ‚ç .</li>
<li>åˆ›å»ºè¾“å‡ºæ–‡ä»¶ <code>game.zip</code>.</li>
<li>åŠ å¯†è¾“å‡ºæ–‡ä»¶ <code>game.zip</code>.</li>
</ol>
<p>å½“ç„¶è¿˜æœ‰ä¸€äº›åˆ†æ”¯çš„æƒ…å†µ, ä¸è¿‡æˆ‘ä»¬å…³æ³¨çš„å·¥ä½œæµç¨‹å°±æ˜¯è¿™ä¸ªæ ·å­çš„.</p>
<h1 id="å¿«é€Ÿä¼˜åŒ–"><a href="#å¿«é€Ÿä¼˜åŒ–" class="headerlink" title="å¿«é€Ÿä¼˜åŒ–"></a>å¿«é€Ÿä¼˜åŒ–</h1><p>ä»ä¸Šä¸€æ­¥çš„æºç é˜…è¯»è¿‡ç¨‹ä¸­å¾—çŸ¥, å¦‚æœæˆ‘ä»¬åœ¨è°ƒç”¨ <code>compile_scripts.sh</code> æ—¶, ä¸ä¼ å…¥åŠ å¯†ä¿¡æ¯çš„è¯, å°±ä¸ä¼šç¬¬å››æ­¥æ“ä½œ. åœ¨æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­, åŠ å¯†è¿™ä¸€æ­¥å…¶å®æ˜¯å¯ä»¥çœç•¥, æœ€ç»ˆæ‰“åŒ…çš„æ—¶å€™åŠ å¯†ä¸€æ¬¡å°±å¯ä»¥äº†.</p>
<p>é‚£ä¹ˆå¹²æ‰ç¬¬ 4 æ­¥å¯¹äºæ‰“åŒ…èŠ±è´¹åˆ°åº•èƒ½å‡å°‘å¤šå°‘å‘¢ ? æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹, è¿˜æ˜¯æ–‡ç« æœ€å¼€å§‹çš„é‚£ç«¯è„šæœ¬, æˆ‘ä»¬è¿™æ¬¡åˆ é™¤æœ€åé¢çš„ä¸€äº›åŠ å¯†å‚æ•°è¯•ä¸€ä¸‹:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">time <span class="variable">$QUICK_V3_ROOT</span>/quick/bin/compile_scripts.sh -q -i ../src -o ../res/game.zip</span><br><span class="line">---</span><br><span class="line">real    0m16.362s</span><br><span class="line">user    0m8.333s</span><br><span class="line">sys     0m2.579s</span><br></pre></td></tr></table></figure>
<p>å¾ˆå¹¸è¿, åŠ å¯†ç¡®å®æ¶ˆè€—äº†å¾ˆå¤šçš„æ—¶é—´, å› æ­¤æˆ‘ä»¬æ²¡æœ‰èŠ±è´¹å¤šå°‘ç²¾åŠ›å°±æŠŠç¼–è¯‘æ—¶é—´å‡å°‘ä¸ºäº†å½“åˆçš„ <code>42%</code>. æˆ‘ä»¬å¯ä»¥åœ¨æ¸¸æˆå·¥ç¨‹ä¸­å»ºç«‹ä¸¤ä¸ªè„šæœ¬, <code>pack_lua.sh</code> å’Œ <code>pack_lua_dev.sh</code>, åˆ†åˆ«æ”¾å…¥ä¸Šè¿°çš„ä¸¤è¡Œå‘½ä»¤, è¿™æ ·æˆ‘ä»¬åœ¨å¼€å‘/è°ƒè¯•æœŸé—´åªç”¨è°ƒç”¨ <code>pack_lua_dev.sh</code> å°±å¯ä»¥äº†.</p>
<p>ç„¶è€Œè¿™ä¸€åˆ‡è¿˜ä¸å€¼å¾—æˆ‘ä»¬æ¬¢å‘¼, è¿™æ˜¯ä¸€ä¸ªå¾ˆå–å·§çš„æ–¹æ¡ˆ, æˆ–è®¸æ˜¯æˆ‘ä»¬å›¢é˜Ÿæœ¬èº«å°±å¯¹ <code>compile_scripts</code> è¿™ä¸ªæ“ä½œçš„ç†è§£ä¸å¤Ÿ, å¯¼è‡´æˆ‘ä»¬ä¸€ç›´ä»¥æ¥å°±æ¥ä½¿ç”¨çš„è¿™ä¸ªæ–¹æ¡ˆå°±æ˜¯é”™è¯¯çš„.</p>
<p>å†µä¸”, <code>16</code> ç§’è¿˜æ˜¯å¾ˆä¹….</p>
<h1 id="æ·±åº¦ä¼˜åŒ–"><a href="#æ·±åº¦ä¼˜åŒ–" class="headerlink" title="æ·±åº¦ä¼˜åŒ–"></a>æ·±åº¦ä¼˜åŒ–</h1><p>æ ¹æ®ä¸Šä¸€æ­¥å¾—å‡ºçš„ä¿¡æ¯, æœ‰ 16 ç§’çš„æ—¶é—´æ˜¯æ¶ˆè€—åœ¨äº†å‰ä¸‰æ­¥, (æ ¹æ®å¤šå¹´ç»éªŒ)è€Œå…¶ä¸­ç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥çš„æ¶ˆè€—ä¹Ÿéå¸¸å°, é‚£ä¹ˆä¸»è¦çš„æ¶ˆè€—æ˜¯åœ¨ç¬¬äºŒæ­¥ä¸Š.</p>
<p>ç»è¿‡è§‚å¯Ÿ, æ¯æ¬¡æˆ‘ä»¬è¿è¡Œ <code>compile_scripts</code> éƒ½ä¼šæŠŠæ‰€æœ‰çš„ Lua ä»£ç éƒ½ç¼–è¯‘ä¸€é, é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥æŠŠå†å²çš„ç»“æœç¼“å­˜ä¸‹æ¥, åªç¼–è¯‘æ–°å¢å’Œå˜åŒ–çš„æ–‡ä»¶å‘¢ ?</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å¼„æ‡‚, è¿™ä¸ªæ‰€è°“çš„ <code>ç¼–è¯‘</code> æ“ä½œ, åˆ°åº•åšäº†ä»€ä¹ˆ ? è®©æˆ‘ä»¬å†æ¬¡æŠŠç›®å…‰è½¬å‘ä¹‹å‰å¾—çŸ¥çš„ <code>getScriptFileBytecodes</code> å‡½æ•°.</p>
<p>è¯¥å‡½æ•°ä½äº <code>$QUICK_V3_ROOT/quick/bin/lib/quick/init.php</code> ä¸­, æˆ‘ä»¬åœ¨å‡½æ•°ä¸­æ‰§è¡Œå‘½ä»¤å‰åŠ ä¸Šè¾“å‡º:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">printf(<span class="string">"command: %s\n"</span>, $command);</span><br><span class="line">passthru($command);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>å†æ¬¡æ‰§è¡Œ <code>compile_scripts</code>, æ³¨æ„å»æ‰ <code>-q</code> å‚æ•°, æˆ‘ä»¬å¯ä»¥åœ¨è¾“å‡ºä¸­çœ‹åˆ°:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">command</span>: /xxx/quick-cocos2d-x/quick/bin/mac/luac -o <span class="string">"xxx.bytes"</span> <span class="string">"xxx.lua"</span></span><br></pre></td></tr></table></figure>
<p>çœ‹æ¥å°±æ˜¯è°ƒç”¨äº†ä¸‹ <code>luac</code> å‘½ä»¤å˜›, æŒºç®€å•çš„å‘€!</p>
<blockquote>
<p>(æ³¨: å®é™…æƒ…å†µä¼šå¤æ‚ä¸€äº›, å› ä¸ºå¯èƒ½ä¼šç”¨åˆ° luajit å·¥ä½œæµç¨‹, è¿™é‡Œåªè®¨è®ºæˆ‘ä»¬ç›®å‰çš„å·¥ä½œæµ)</p>
</blockquote>
<p>ææ‡‚äº†åŸç†çš„è¯, å°±å¯ä»¥å¼€æ’¸äº†, æˆ‘å¹¶ä¸æ‰“ç®—ä¿®æ”¹ quick çš„ php ä»£ç , æˆ‘ä¼šç”¨æˆ‘æ›´ç†Ÿæ‚‰çš„ Python æ¥å†™ä¸€ä¸ªä¼˜åŒ–ç‰ˆçš„ Lua ç¼–è¯‘è„šæœ¬. ä¸‹é¢æ˜¯æ ¸å¿ƒçš„ä»£ç , æˆ‘åŠ äº†ä¸€äº›å¿…è¦çš„æ³¨é‡Š:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">package</span><span class="params">(_src, _dst)</span>:</span></span><br><span class="line">    cache_path = CACHE_ROOT</span><br><span class="line">    shutils.mkdir(cache_path)</span><br><span class="line">    hash_file = os.path.join(cache_path, <span class="string">"hash.json"</span>)</span><br><span class="line">    hash_data = shutils.read_json(hash_file, &#123;&#125;)</span><br><span class="line">    hash_data_new = &#123;&#125;</span><br><span class="line">    shutils.remove(_dst)</span><br><span class="line">    dst_zip = zipfile.ZipFile(_dst, <span class="string">"w"</span>, zipfile.ZIP_DEFLATED)</span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> shutils.file_list(_src):</span><br><span class="line">        <span class="keyword">if</span> f.startswith(<span class="string">"."</span>) <span class="keyword">or</span> <span class="keyword">not</span> f.endswith(<span class="string">".lua"</span>):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        src_filepath = os.path.abspath(os.path.join(_src, f))</span><br><span class="line">        dst_filename = f.replace(<span class="string">".lua"</span>, <span class="string">""</span>).replace(<span class="string">"/"</span>, <span class="string">"."</span>)</span><br><span class="line">        dst_filepath = os.path.abspath(os.path.join(cache_path, dst_filename))</span><br><span class="line">        src_hash = shutils.file_hash(src_filepath)</span><br><span class="line">        dst_hash = shutils.file_hash(dst_filepath)</span><br><span class="line">        record_hash = hash_data.get(dst_filename, &#123;&#125;)</span><br><span class="line">        exists_error = <span class="keyword">False</span></span><br><span class="line">        <span class="comment"># æ£€æŸ¥ç¼“å­˜æ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (dst_hash <span class="keyword">and</span> record_hash.get(<span class="string">"src"</span>, <span class="string">""</span>) == src_hash <span class="keyword">and</span> record_hash.get(<span class="string">"dst"</span>, <span class="string">""</span>) == dst_hash):</span><br><span class="line">            <span class="comment"># è¿™é‡Œä¸ºç§»é™¤æ—¶ä¸ºäº†æ„ŸçŸ¥ luac ç¼–è¯‘å¤±è´¥</span></span><br><span class="line">            shutils.remove(dst_filepath)</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"ADD: "</span> + f</span><br><span class="line">            luac_compile(src_filepath, dst_filepath)</span><br><span class="line">            dst_hash = shutils.file_hash(dst_filepath)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> dst_hash:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">"\n---"</span></span><br><span class="line">                <span class="keyword">print</span> <span class="string">"ERROR: "</span> + src_filepath</span><br><span class="line">                exists_error = <span class="keyword">True</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        dst_zip.write(dst_filepath, dst_filename)</span><br><span class="line">        hash_data_new[dst_filename] = &#123;<span class="string">"src"</span>: src_hash, <span class="string">"dst"</span>: dst_hash&#125;</span><br><span class="line">    shutils.save_json(hash_data_new, hash_file)</span><br><span class="line">    <span class="keyword">if</span> exists_error:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    dst_zip.close()</span><br><span class="line">    <span class="comment"># åˆ é™¤åŸå§‹æ–‡ä»¶å·²ç»ä¸å­˜åœ¨çš„ç¼“å­˜</span></span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> shutils.file_list(cache_path):</span><br><span class="line">        <span class="keyword">if</span> f == <span class="string">"hash.json"</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> hash_data_new.get(f):</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"REMOVE: "</span> + f</span><br><span class="line">            os.remove(os.path.join(cache_path, f))</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç é‡Œå¤šæ˜¯é€»è¾‘çš„æ’åˆ—, æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„. å€¼å¾—ä¸€æçš„æ˜¯æ˜¯, luac ç¼–è¯‘å¤±è´¥çš„å¤„ç†, luac å¤±è´¥åä¼šè¾“å‡ºé”™è¯¯æ—¥å¿—, ä¸ä¼šç”Ÿæˆå¯¹åº”çš„å­—èŠ‚ç :</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python luapack.py src res/game.zip</span><br><span class="line">ADD: main.lua</span><br><span class="line">/xxx/quick-cocos2d-x/quick/bin/mac/luac: /xxx/src/main.lua:10: <span class="string">'='</span> expected near <span class="string">'package'</span></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">ERROR: /Users/bilt/Documents/wanghaitao/easy_slg_client/src/main.lua</span><br></pre></td></tr></table></figure>
<p>å› æ­¤æˆ‘ä»¬å…ˆå°è¯•ç§»é™¤æ‰ç›®æ ‡æ–‡ä»¶, å¦‚æœç”Ÿæˆæ–‡ä»¶ä¸å­˜åœ¨åˆ™è¡¨ç¤ºæœ¬æ¬¡ luac å¤±è´¥äº†. </p>
<p>å®Œæ•´ç‰ˆçš„ä»£ç ä½äº<a href="https://gist.github.com/justbilt/7c881cbdbff74f3fdd97278355d22fed" target="_blank" rel="noopener">æˆ‘çš„ gist ä¸Š</a>, è¿™ä»½ä»£ç åªæ˜¯æœ€åŸºæœ¬çš„å®ç°, è¿˜æœ‰å¾ˆå¤šä¼˜åŒ–çš„ç©ºé—´. å¥½çš„, æˆ‘è¿«ä¸åŠå¾…çš„æƒ³çœ‹çœ‹æˆ‘ä»¬ä¼˜åŒ–çš„æˆæœäº†.</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ç¬¬ä¸€æ¬¡è¿è¡Œçš„ç»“æœ:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ time python luapack.py src res/game.zip</span><br><span class="line">---</span><br><span class="line">real    0m15.590s</span><br><span class="line">user    0m6.664s</span><br><span class="line">sys     0m2.946s</span><br></pre></td></tr></table></figure>
<p><code>16</code> ç§’, æ¥è¿‘ä¹‹å‰æ— åŠ å¯†ç‰ˆçš„ <code>compile_scripts</code> æ¶ˆè€—, è®©æˆ‘ä»¬å˜æ›´ä¸€ä¸ªæ–‡ä»¶è¯•è¯•å‘¢?</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ time python luapack.py src res/game.zip</span><br><span class="line">ADD: main.lua</span><br><span class="line">---</span><br><span class="line">real    0m1.611s</span><br><span class="line">user    0m1.403s</span><br><span class="line">sys     0m0.175s</span><br></pre></td></tr></table></figure>
<p>åªæœ‰ä¸åˆ° 2 ç§’çš„è€—æ—¶, å¤ªç‰›é€¼äº†!</p>
<hr>
<p>åœ¨æœ¬æ¬¡çš„ä¼˜åŒ–è¿‡ç¨‹ä¸­, æˆ‘ä»¬æˆåŠŸçš„å°†è€—ç”±æœ€åˆçš„ <code>38.603s</code> é™ä½ä¸ºæœ€ç»ˆçš„ <code>1.611s</code>, æ¥è¿‘ <code>24</code> å€çš„æ•ˆç‡æå‡, è¿™æ˜¯ä¸€ä¸ªè´¨çš„é£è·ƒ! æ„Ÿè§‰è‡ªå·±æ£’æ£’å“’,æ™šé¥­ç”³è¯·åŠ ä¸€ä¸ªé¸¡è…¿.</p>
<p>å½“ç„¶æˆ‘ä»¬è¿˜åšäº†ä¸€äº›å…¶ä»–çš„ä¸œè¥¿, æ¯”å¦‚æˆ‘ä»¬ç»™æ—¥å¿—åŠ ä¸Šäº†å½©è‰²çš„è¾“å‡º:</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fjep3wv9cjj30vz03uq3p.jpg" alt=""></p>
<p>æ˜¯ä¸æ˜¯å˜çš„å¾ˆæ¼‚äº® ?</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> Lua </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å°† python æ•°æ®è½¬åŒ–ä¸º lua æ ¼å¼]]></title>
      <url>http://blog.justbilt.com/2017/09/03/serialize-lua-in-pyhton/</url>
      <content type="html"><![CDATA[<p>æˆ‘ä»¬å›¢é˜Ÿçš„æŠ€æœ¯æ ˆæ˜¯: <code>Lua + Python</code>, å‰ç«¯é‡‡ç”¨ Lua å†™é¡¹ç›®, Python åšå·¥å…·æ”¯æŒ, è€Œåç«¯åˆ™é‡‡ç”¨çº¯ Python å¼€å‘, æ‰€ä»¥ä¼šç»å¸¸é‡åˆ° Python å’Œ Lua æ•°æ®çš„è½¬åŒ–.</p>
<a id="more"></a>
<p>ç›®å‰ä¸šå†…é‡‡ç”¨çš„æ–¹æ³•å¤§è‡´æœ‰ä¸¤ç§:</p>
<ol>
<li>ç”¨ Python å†™ä¸€ä¸ª Lua çš„è¯­æ³•è§£æ, ç”¨ Lua å†™ä¸€ä¸ª Pyhton çš„è¯­æ³•è§£æ, è¿™æ ·å°±å¯ä»¥äº’ç›¸è½¬åŒ–äº†.</li>
<li>ä½¿ç”¨ä¸€ä¸ªå¤§å®¶éƒ½æ”¯æŒçš„æ•°æ®ç»“æ„åšä¸­è½¬, å¦‚: Json æˆ– Yaml.</li>
</ol>
<p>ç¬¬ä¸€ç§æ–¹æ¡ˆæ¯”è¾ƒå¤æ‚, Python è§£æ Lua å€’æ˜¯æœ‰ <a href="https://github.com/SirAnthony/slpp" target="_blank" rel="noopener">slpp</a> è¿™æ ·çš„é¡¹ç›®, Lua è§£æ Python çš„åˆ™æ˜¯æ²¡æœ‰, å› æ­¤å¤§å®¶æ›´å¤šçš„æ˜¯é‡‡ç”¨ç¬¬äºŒç§æ–¹æ¡ˆ.</p>
<p>ç¬¬äºŒç§æ–¹æ¡ˆä¸­ json å…¶å®æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„è§£å†³æ–¹æ¡ˆ, æ€§èƒ½ä¹Ÿæ¯” Lua å¿«ä¸€äº›, ä½†æ˜¯ json æ²¡æœ‰åŠæ³•å­˜å‚¨ number ç±»å‹çš„ key, è¿™ä¸€ç‚¹åœ¨æ•°æ®ç»“æ„çš„è®¾è®¡ä¸Šå¾ˆè›‹ç–¼, å¯èƒ½ä¼šè®©ä½ çš„ä»£ç å……æ–¥ç€ <code>tostring</code>, <code>tonumber</code> è¿™æ ·çš„ä»£ç .</p>
<p>ç»è¿‡è§‚å¯Ÿ, json å’Œ Lua è¿™ä¸¤ç§æ–‡ä»¶æ ¼å¼å…¶å®æ˜¯ååˆ†åƒçš„, é‚£ä¹ˆæˆ‘æ˜¯å¦åªè¦é­”æ”¹ä¸‹ python çš„ json åº“, ä½¿ä¹‹æ”¯æŒ number åš key, ç„¶åä¿å­˜ä¸º Lua æ–‡ä»¶ ?</p>
<h1 id="å¼€æ’¸"><a href="#å¼€æ’¸" class="headerlink" title="å¼€æ’¸"></a>å¼€æ’¸</h1><h2 id="1-å‡†å¤‡å·¥ä½œ"><a href="#1-å‡†å¤‡å·¥ä½œ" class="headerlink" title="1. å‡†å¤‡å·¥ä½œ"></a>1. å‡†å¤‡å·¥ä½œ</h2><p>é¦–å…ˆæˆ‘ä»¬æ‰¾åˆ° json åº“çš„æºç  <a href="https://github.com/python/cpython/blob/master/Lib/json" target="_blank" rel="noopener">https://github.com/python/cpython/blob/master/Lib/json</a>, è¿™ä¸ªç›®å½•ä¸­æœ‰ 4 ä¸ªæ–‡ä»¶, æˆ‘ä»¬æŠŠ <code>encoder.py</code> ä¸‹è½½ä¸‹æ¥, ä¿å­˜ä¸º <code>lua.py</code>.</p>
<p>ä½†æ˜¯åªæœ‰è¿™ä¸€ä¸ªæ–‡ä»¶æ˜¯æ²¡æœ‰åŠæ³•ç›´æ¥è¿è¡Œçš„, æˆ‘ä»¬å†ä» <code>encoder.py</code> åŒçº§çš„ <code>__init__.py</code> ä¸­å¤åˆ¶ <code>dumps</code> å‡½æ•°åˆ° <code>lua.py</code> çš„æœ«å°¾.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dumps</span><span class="params">(obj, skipkeys=False, ensure_ascii=True, check_circular=True,</span></span></span><br><span class="line"><span class="function"><span class="params">              allow_nan=True, cls=None, indent=None, separators=None,</span></span></span><br><span class="line"><span class="function"><span class="params">              encoding=<span class="string">'utf-8'</span>, default=None, sort_keys=False, **kw)</span>:</span></span><br><span class="line">       <span class="keyword">if</span> cls <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">              cls = JSONEncoder</span><br><span class="line">       <span class="keyword">return</span> cls(</span><br><span class="line">              skipkeys=skipkeys, ensure_ascii=ensure_ascii,</span><br><span class="line">              check_circular=check_circular, allow_nan=allow_nan, indent=indent,</span><br><span class="line">              separators=separators, encoding=encoding, default=default,</span><br><span class="line">              sort_keys=sort_keys, **kw).encode(obj)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨ <code>lua.py</code> åŒçº§ç›®å½•æ–°å»ºä¸€ä¸ª <code>test.py</code> åšæµ‹è¯•, è¿™é‡Œæˆ‘ä»¬æŠŠä¸€ä¸ªpythonçš„æ•°æ®ä¿å­˜ä¸º <code>test.lua</code> æ–‡ä»¶:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lua</span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">"a"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="number">2</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="string">"3a"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="string">"4"</span>:[</span><br><span class="line">        <span class="number">1</span>,<span class="number">2</span>,<span class="string">"a"</span>,<span class="keyword">False</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">"test.lua"</span>, <span class="string">"w"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(lua.dumps(data, ensure_ascii=<span class="keyword">False</span>, indent=<span class="number">2</span>, sort_keys=<span class="keyword">True</span>))</span><br></pre></td></tr></table></figure>
<p>å®Œæˆåç›´æ¥ç»ˆç«¯è¿è¡Œ <code>python test.py</code> å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ–°ç”Ÿæˆäº†ä¸€ä¸ª lua æ–‡ä»¶, å†…å®¹å¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"2"</span>: <span class="number">2</span>, </span><br><span class="line">  <span class="string">"3a"</span>: <span class="number">3</span>, </span><br><span class="line">  <span class="string">"4"</span>: [</span><br><span class="line">    <span class="number">1</span>, </span><br><span class="line">    <span class="number">2</span>, </span><br><span class="line">    <span class="string">"a"</span>, </span><br><span class="line">    <span class="literal">false</span></span><br><span class="line">  ], </span><br><span class="line">  <span class="string">"a"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ç¬¬ä¸€æ­¥çš„å·¥ä½œå°±æå®šäº†.</p>
<h2 id="2-é­”æ”¹-lua-py"><a href="#2-é­”æ”¹-lua-py" class="headerlink" title="2. é­”æ”¹ lua.py"></a>2. é­”æ”¹ lua.py</h2><p>å…¶å®ä¸Šä¸€æ­¥ç”Ÿæˆçš„æ–‡ä»¶å†…å®¹å¹¶ä¸æ˜¯ lua æ ¼å¼çš„, å…¶å®è¿˜æ˜¯ json æ ¼å¼, åªæ˜¯æˆ‘ä»¬å°†åç¼€æ”¹ä¸º lua äº†è€Œå·². è¿™ä¸ªæ ¼å¼å’ŒçœŸæ­£çš„ lua æƒ³æ¯”æœ‰ä¸¤å¤„ä¸å¯¹:</p>
<ol>
<li>Lua çš„æ•°ç»„ä½¿ç”¨ <code>{}</code> è¡¨ç¤º.</li>
<li>Lua ä½¿ç”¨ <code>=</code> åš key,value çš„åˆ†éš”.</li>
<li>Lua string ç±»å‹çš„ key, ä¸ç”¨åŠ å¼•å·, å¦‚æœè¦åŠ å¼•å·çš„è¯, éœ€è¦åŒæ—¶åŠ ä¸€å¯¹æ–¹æ‹¬å·.</li>
</ol>
<p>ç¬¬ä¸€ä¸ªé—®é¢˜å¾ˆå¥½è§£å†³, æˆ‘ä»¬æœç´¢ <code>&#39;[</code>, å¯ä»¥æ‰¾åˆ° <code>_iterencode_list</code> è¿™ä¸ªå‡½æ•°, å¤§æ¦‚çœ‹ä¸€çœ¼å°±çŸ¥é“æ€ä¹ˆæ”¹äº†:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_iterencode_list</span><span class="params">(lst, _current_indent_level)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> lst:</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">'&#123;&#125;'</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    ...</span><br><span class="line">    buf = <span class="string">'&#123;'</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'&#125;'</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¿®æ”¹å®Œ, è¿è¡Œ <code>python test.py</code> çœ‹ä¸‹æ•ˆæœ:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"2"</span>: <span class="number">2</span>, </span><br><span class="line">  <span class="string">"3a"</span>: <span class="number">3</span>, </span><br><span class="line">  <span class="string">"4"</span>: &#123;</span><br><span class="line">    <span class="number">1</span>, </span><br><span class="line">    <span class="number">2</span>, </span><br><span class="line">    <span class="string">"a"</span>, </span><br><span class="line">    <span class="literal">false</span></span><br><span class="line">  &#125;, </span><br><span class="line">  <span class="string">"a"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ˜¯ä¸æ˜¯å·²ç»æœ‰ç‚¹æ„æ€äº†? æˆ‘ä»¬å†æ¥å†å‰, æ‰¾æ‰¾ç¬¬äºŒä¸ªé—®é¢˜å¦‚ä½•è§£å†³. æˆ‘ä»¬æœç´¢ <code>&#39;:</code> å¯ä»¥æ‰¾åˆ°è¿™è¡Œä»£ç :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">key_separator = <span class="string">': '</span></span><br></pre></td></tr></table></figure>
<p>å°† <code>&#39;: &#39;</code> ä¿®æ”¹ä¸º <code>&#39; = &#39;</code> å°±å¯ä»¥å•¦, æˆ‘ä»¬çœ‹ä¸‹ç»“æœ:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"2"</span> = <span class="number">2</span>, </span><br><span class="line">  <span class="string">"3a"</span> = <span class="number">3</span>, </span><br><span class="line">  <span class="string">"4"</span> = &#123;</span><br><span class="line">    <span class="number">1</span>, </span><br><span class="line">    <span class="number">2</span>, </span><br><span class="line">    <span class="string">"a"</span>, </span><br><span class="line">    <span class="literal">false</span></span><br><span class="line">  &#125;, </span><br><span class="line">  <span class="string">"a"</span> = <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆç¬¬ä¸‰ä¸ªé—®é¢˜è¯¥å¦‚ä½•å…¥æ‰‹å‘¢? ç»™ç«¥é‹ä»¬ä¸‰ç§’é’Ÿçš„æ€è€ƒæ—¶é—´. </p>
<blockquote>
<p>3s</p>
<p>2s</p>
<p>1s</p>
</blockquote>
<p>æ­æ™“ç­”æ¡ˆ, æ—¢ç„¶ <code>key_separator</code> æ˜¯åˆ†éš” key, value çš„, æˆ‘ä»¬æ‰¾æ‰¾å“ªé‡Œç”¨åˆ° key_separator æ˜¯ä¸æ˜¯å‘ç°ç‚¹ä»€ä¹ˆå‘¢ ? å¾ˆå¿«æˆ‘ä»¬èƒ½å®šä½åˆ° <code>_iterencode_dict</code> å‡½æ•°çš„è¿™è¡Œä»£ç :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">yield</span> _encoder(key)</span><br><span class="line"><span class="keyword">yield</span> _key_separator</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ª <code>_encoder(key)</code> ä¼šä¸ä¼šå¯¹åº” key çš„ç”Ÿæˆå‘¢? æˆ‘ä»¬ä¿®æ”¹ä¸‹è¯•è¯•, å°†è¿™å¥è¯æ›¿æ¢ä¸º:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">yield</span> <span class="string">'['</span> + _encoder(key) + <span class="string">']'</span></span><br></pre></td></tr></table></figure>
<p>è¿è¡Œ, ç»“æœå¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  [<span class="string">"2"</span>] = <span class="number">2</span>, </span><br><span class="line">  [<span class="string">"3a"</span>] = <span class="number">3</span>, </span><br><span class="line">  [<span class="string">"4"</span>] = &#123;</span><br><span class="line">    <span class="number">1</span>, </span><br><span class="line">    <span class="number">2</span>, </span><br><span class="line">    <span class="string">"a"</span>, </span><br><span class="line">    <span class="literal">false</span></span><br><span class="line">  &#125;, </span><br><span class="line">  [<span class="string">"a"</span>] = <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å“å‘€, æˆ‘è¿™æ˜¯æå®šäº†å—? éªšå¹´, æ­å–œä½ , ä½ å·²ç»å®Œæˆäº† 99% çš„å·¥ä½œäº†, è¿™æ®µä»£ç çš„æœ€å‰æ–¹è¿˜å°‘ä¸€ä¸ª <code>return</code> , æˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“çš„åŠ ä¸Š. æˆ‘é€šè¿‡ä¿®æ”¹ <code>test.py</code> å®ç°äº†è¿™ä¸ªåŠŸèƒ½:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f.write(lua.dumps(data, ensure_ascii=False, indent=2, sort_keys=True))</span><br><span class="line"># ä¿®æ”¹ä¸º:</span><br><span class="line">f.write(&quot;return &quot; + lua.dumps(data, ensure_ascii=False, indent=2, sort_keys=True))</span><br></pre></td></tr></table></figure>
<p>ç»“æœ:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">  [<span class="string">"2"</span>] = <span class="number">2</span>, </span><br><span class="line">  [<span class="string">"3a"</span>] = <span class="number">3</span>, </span><br><span class="line">  [<span class="string">"4"</span>] = &#123;</span><br><span class="line">    <span class="number">1</span>, </span><br><span class="line">    <span class="number">2</span>, </span><br><span class="line">    <span class="string">"a"</span>, </span><br><span class="line">    <span class="literal">false</span></span><br><span class="line">  &#125;, </span><br><span class="line">  [<span class="string">"a"</span>] = <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-æ›´åŠ -lua-åŒ–"><a href="#3-æ›´åŠ -lua-åŒ–" class="headerlink" title="3. æ›´åŠ  lua åŒ–"></a>3. æ›´åŠ  lua åŒ–</h2><p>ä¸Šé¢ç”Ÿæˆçš„ <code>test.lua</code> å…¶å®å¾ˆä¸ Lua, å¤§å®¶ä¸ä¼šå†™å‡º <code>[&quot;a&quot;] = 1</code> è¿™ç§ç±»å‹çš„è¯­å¥, è€Œæ˜¯ç›´æ¥ <code>a = 1</code>. </p>
<p>è¿™ä¸ªé—®é¢˜å‘ç”Ÿåœ¨äº†ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ä¸Š, æˆ‘ä»¬å·æ‡’ç›´æ¥å†™å‡ºäº†è¿™æ ·çš„ä»£ç :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">yield</span> <span class="string">'['</span> + _encoder(key) + <span class="string">']'</span></span><br></pre></td></tr></table></figure>
<p>å¤§å®¶ä¸å¦¨çœ‹çœ‹ <code>_encoder</code> è¿™ä¸ªå‡½æ•°, å®ƒä¼šæŠŠä»»æ„ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸², ä¸¤ç«¯åŠ ä¸Š <code>&quot;</code>. é‚£ä¹ˆ Lua åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼š <code>[&quot;x&quot;]</code> è¿™ç§ç±»å‹çš„ key å‘¢?</p>
<ol>
<li>å…³é”®å­—, å¦‚: <code>require</code>, <code>false</code> ç­‰, æˆ‘ä»¬å¯ä»¥åœ¨<a href="https://www.lua.org/manual/5.1/manual.html#2.1" target="_blank" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°æ‰€æœ‰çš„å…³é”®å­—.</li>
<li>ä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸².</li>
<li>æ•°å­—, åŒ…æ‹¬ <code>int</code>, <code>lang</code>, <code>float</code>.</li>
<li>å«æœ‰å¥‡æ€ªå­—ç¬¦çš„å­—ç¬¦ä¸², å¦‚: <code>-</code>, <code>*</code> ç­‰, éå¥‡æ€ªå­—ç¬¦åªæœ‰: <code>[a-zA-Z_0-9]</code>.</li>
</ol>
<p>çŸ¥é“äº†è§„åˆ™, æˆ‘ä»¬å°±å¾ˆå¥½åŠäº†, å†™ä¸€ä¸ªè§£æå‡½æ•°å°±å¥½äº†å˜›:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">key_filter = re.compile(<span class="string">"[^a-zA-Z_0-9]"</span>)</span><br><span class="line">key_filter_equal = &#123;<span class="string">"require"</span>,<span class="string">"false"</span>,<span class="string">"for"</span>,<span class="string">"function"</span>,<span class="string">"if"</span>,<span class="string">"nil"</span>,<span class="string">"not"</span>,<span class="string">"or"</span>,<span class="string">"while"</span>,<span class="string">"then"</span>,<span class="string">"true"</span>,<span class="string">"until"</span>,<span class="string">"end"</span>,<span class="string">"in"</span>,<span class="string">"local"</span>,<span class="string">"repeat"</span>,<span class="string">"return"</span>,<span class="string">"break"</span>,<span class="string">"do"</span>,<span class="string">"else"</span>,<span class="string">"and"</span>,<span class="string">"elseif"</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">format_key</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> isinstance(s, (int, long, float)):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'['</span>+str(s)+<span class="string">']'</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        int(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'["'</span>+s+<span class="string">'"]'</span></span><br><span class="line">    <span class="keyword">except</span> Exception, e:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> key_filter_equal:</span><br><span class="line">        <span class="keyword">if</span> s == f:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'["'</span>+s+<span class="string">'"]'</span></span><br><span class="line">    <span class="keyword">if</span> (ord(s[<span class="number">0</span>]) &gt;= ord(<span class="string">"0"</span>) <span class="keyword">and</span> ord(s[<span class="number">0</span>]) &lt;= ord(<span class="string">"9"</span>)) <span class="keyword">or</span> key_filter.search(s):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'["'</span>+s+<span class="string">'"]'</span></span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure>
<p>ç„¶åæŠŠ <code>yield &#39;[&#39; + _encoder(key) + &#39;]&#39;</code> æ›¿æ¢ä¸º <code>yield format_key(key)</code> å°±æå®šäº†. æˆ‘ä»¬çœ‹ä¸‹ç”Ÿæˆçš„ç»“æœ:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">  [<span class="string">"2"</span>] = <span class="number">2</span>, </span><br><span class="line">  [<span class="string">"3a"</span>] = <span class="number">3</span>, </span><br><span class="line">  [<span class="string">"4"</span>] = &#123;</span><br><span class="line">    <span class="number">1</span>, </span><br><span class="line">    <span class="number">2</span>, </span><br><span class="line">    <span class="string">"a"</span>, </span><br><span class="line">    <span class="literal">false</span></span><br><span class="line">  &#125;, </span><br><span class="line">  a = <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¥½åƒä¸å¤ªå¯¹å˜›, éª—çº¸, æ•°å­—çš„ key è¿˜æ˜¯æœ‰é—®é¢˜çš„. ä¸è¦æ…Œ, æˆ‘ä»¬é¡ºç€ <code>format_key</code> è°ƒç”¨çš„åœ°æ–¹å‘ä¸Šæ‰¾æ‰¾, å‘ç°é—®é¢˜äº†å§:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elif</span> isinstance(key, float):</span><br><span class="line">    key = _floatstr(key)</span><br><span class="line"><span class="keyword">elif</span> key <span class="keyword">is</span> <span class="keyword">True</span>:</span><br><span class="line">    key = <span class="string">'true'</span></span><br><span class="line"><span class="keyword">elif</span> key <span class="keyword">is</span> <span class="keyword">False</span>:</span><br><span class="line">    key = <span class="string">'false'</span></span><br><span class="line"><span class="keyword">elif</span> key <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">    key = <span class="string">'null'</span></span><br><span class="line"><span class="keyword">elif</span> isinstance(key, (int, long)):</span><br><span class="line">    key = str(key)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°è¿™é‡Œå·²ç»å¯¹ <code>float</code>, <code>int</code>, <code>lang</code> ç±»å‹åšè¿‡è½¬åŒ–äº†, æˆ‘ä»¬æŠŠ elif ä¸­çš„å†…å®¹æ¢æˆ <code>pass</code> å†è¯•ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">  [<span class="number">2</span>] = <span class="number">2</span>, </span><br><span class="line">  [<span class="string">"3a"</span>] = <span class="number">3</span>, </span><br><span class="line">  [<span class="string">"4"</span>] = &#123;</span><br><span class="line">    <span class="number">1</span>, </span><br><span class="line">    <span class="number">2</span>, </span><br><span class="line">    <span class="string">"a"</span>, </span><br><span class="line">    <span class="literal">false</span></span><br><span class="line">  &#125;, </span><br><span class="line">  a = <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å“ˆå“ˆ, æå®šäº†! æˆ‘å¤ªæ£’äº†! å’¦, çº³å°¼, Are you kidding me ? ä¸ºä»€ä¹ˆåªæœ‰ <code>2</code> æ˜¯ ok çš„, <code>&quot;4&quot;</code> æ˜¯æ€ä¹ˆå›äº‹å˜› ? ä»”ç»†æ£€æŸ¥äº†ä¸€ç•ªä»£ç , æœ‰åšäº†ä¸€ä¸ªé¢å¤–çš„ä¿®æ”¹, è¿˜æ˜¯æ²¡æœ‰å‘ç°åŸå› .</p>
<p>å½“æˆ‘æŠŠç›®å…‰è½¬å‘æˆ‘ä»¬çš„æµ‹è¯•ä»£ç çš„æ—¶å€™, æˆ‘çœ‹åˆ°çš„ç­”æ¡ˆ:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">"a"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="number">2</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="string">"3a"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="string">"4"</span>:[</span><br><span class="line">        <span class="number">1</span>,<span class="number">2</span>,<span class="string">"a"</span>,<span class="keyword">False</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çš„ <code>&quot;4&quot;</code> æœ¬èº«å°±æ˜¯ string ç±»å‹çš„, è¿™æ ·æ›´åŠ è¯´æ˜äº†æˆ‘ä»¬ä»£ç çš„æ­£ç¡®æ€§.</p>
<hr>
<p>åˆ°æ­¤ä¸ºæ­¢, æˆ‘ä»¬çš„é­”æ”¹ä¹‹æ—…å°±ç»“æŸäº†, æˆ‘æŠŠæœ€ç»ˆç‰ˆçš„ä»£ç æ”¾åˆ°äº† <a href="https://gist.github.com/justbilt/a5cfafe761b8571e7b5a9e7c22cc7c57" target="_blank" rel="noopener">Gist ä¸Š</a>, å¤§å®¶å¦‚æœæœ‰å…´è¶£çš„è¯å¯ä»¥çœ‹ä¸€ä¸‹.</p>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•:"></a>é™„å½•:</h1><p>ä¸€ä¸ª 24W è¡Œçš„ json å’Œ Lua è¯»å–æ—¶é—´:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">time1 = <span class="built_in">os</span>.<span class="built_in">clock</span>()</span><br><span class="line">data = <span class="built_in">require</span>(<span class="string">"filters"</span>)</span><br><span class="line">time2 = <span class="built_in">os</span>.<span class="built_in">clock</span>()</span><br><span class="line">data2 = json.decode(<span class="built_in">io</span>.readfile(cc.FileUtils:getInstance():fullPathForFilename((<span class="string">"res/filters.json"</span>))))</span><br><span class="line">time3 = <span class="built_in">os</span>.<span class="built_in">clock</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"time lua:"</span>, time2 - time1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"time json:"</span>, time3 - time2)</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">time lua:   0.278526</span><br><span class="line">time json:  0.182085</span><br></pre></td></tr></table></figure>
]]></content>
      
        
        <tags>
            
            <tag> Lua </tag>
            
            <tag> Python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ‰‹æ’¸ä¸€ä¸ªåƒã€Šä¹±ä¸–ç‹è€…ã€‹é‚£æ ·çš„ WebView]]></title>
      <url>http://blog.justbilt.com/2017/08/25/webview-like-lswz/</url>
      <content type="html"><![CDATA[<p>å¤©ç¾æ–°æ¸¸æˆã€Šä¹±ä¸–ç‹è€…ã€‹å‡ºäº†ä¹‹å, æˆ‘ç©äº†ä¸€é˜µå­, è¿™ä¸ªæ¸¸æˆçš„ç²¾ç¾ç¨‹åº¦åˆ·æ–°äº†æˆ‘å¯¹ slg æ¸¸æˆçš„è®¤è¯†, æ¯”å®ƒçš„æ¨¡å‹äº§å“ã€Šåˆ—ç‹çš„çº·äº‰ã€‹ç»™æˆ‘å¸¦æ¥çš„éœ‡æ’¼è¿˜è¦å¤§. ä¸ä»…ä»…æ˜¯åœ¨ç¾æœ¯æ–¹é¢, æ›´å¤šçš„æ˜¯åœ¨äº§å“å’Œå¯¹ç»†èŠ‚çš„å¤„ç†ä¸Š. </p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fj3pcpg3k8j31kw0xw4qp.jpg" alt=""></p>
<a id="more"></a>
<p>åœ¨æ¸¸æˆä¸­æ›´å¤šç•Œé¢ä¸­æœ‰å‡ ä¸ªæŒ‰é’®, ç‚¹å‡»åä¼šè·³è½¬åˆ° WebView, å¦‚ä¸‹å›¾:</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fj3pou45vcj30af0ijn2s.jpg" alt=""></p>
<p>è¿™ä¸ª WebView åšå¾—å¾ˆä¸é”™å‘€, æ¯” Cocos è‡ªå¸¦çš„å…‰ç§ƒç§ƒçš„ WebView å¥½æ•°å€, æœ¬ç€ä»(hou)å–„(yan)å¦‚(wu)æµ(chi)çš„äººç”Ÿå“²ç†, ä¾¿å¼€å§‹æ€ç´¢ç€æ˜¯ä¸æ˜¯æåˆ°æˆ‘ä»¬çš„æ¸¸æˆä¸­å»? </p>
<p>é‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•å®ç°çš„å‘¢? æ ¹æ®å¤šå¹´ç»éªŒ, ä»èµ„æºå…¥æ‰‹æ˜¯æœ€ç®€å•çš„åŠæ³•äº†, æ‹†å¼€ä¹±ä¸–ç‹è€…çš„ Android åŒ…, åœ¨ res æ–‡ä»¶å¤¹ä¸­æœç´¢ png, æˆ‘ä»¬å¾ˆå®¹æ˜“çš„å‘ç°ä¸‹é¢è¿™äº›èµ„æº:</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fixluudqm1j30yo0jcn3g.jpg" alt=""></p>
<p>å‘½åéƒ½æ˜¯ç±»ä¼¼: <code>com_tencent_msdk_webview_left_unclickable.png</code>, çœ‹æ¥æ˜¯ <code>msdk</code> é‡Œé¢çš„ä¸€ä¸ªç»„ä»¶, æˆ‘ä»¬æ²¡æœ‰æ¥å…¥ msdk çš„è®¡åˆ’, æ‰€ä»¥æ²¡æœ‰åŠæ³•ç›´æ¥è°ƒç”¨äº†. è®©æˆ‘ä»¬æ¥åˆ†æä¸‹è¿™ä¸ªç•Œé¢:</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fiy0x704zhj309h0dzmxd.jpg" alt=""></p>
<p>Cocos é»˜è®¤æä¾›çš„ WebView åªæœ‰ä¸­é—´éƒ¨åˆ†, ä¸Šä¸‹æ˜¯æ²¡æœ‰çš„. è¿™ä¸¤éƒ¨åˆ†åº”è¯¥æ˜¯ç”¨ Android å†™çš„åŸç”Ÿç•Œé¢, ä½†æ˜¯æˆ‘å¯¹ Android ä¹Ÿæ˜¯ä¸€çŸ¥åŠè§£, å†™å‡ºæ¥ä¼°è®¡éƒ½æ˜¯ bug, è¿˜æ²¡æœ‰åŠæ³•çƒ­æ›´æ–°. </p>
<p>çœ‹ç€æ»¡åœ°çš„èµ„æº, æˆ‘ä¸ç¦é™·å…¥äº†æ·±æ€. æœ‰äº†, æ˜¯ä¸æ˜¯åªåˆ›å»ºå‡ºä¸­é—´å°ºå¯¸å¤§å°çš„ Webview, ç„¶åç”¨è¿™äº›å›¾ç‰‡åœ¨ Cocos ä¸­ç»˜åˆ¶å‡ºæ ‡é¢˜æ å’Œå·¥å…·æ , èœå•å’Œ WebView çš„äº¤äº’å¯ä»¥ç”¨ WebView æä¾›çš„ api æ¥æ. </p>
<p>ç²—ç•¥çœ‹äº†ä¸‹ WebView æä¾›çš„ api:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canGoBack</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goBack</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canGoForward</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goForward</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reload</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>åœ¨åŠ ä¸Š <code>removeFromParent</code>, ä¸‹æ–¹çš„å·¥å…·æ æ˜¯æ²¡æœ‰é—®é¢˜äº†. æˆ‘ä»¬ ui ç¼–è¾‘å™¨ä½¿ç”¨çš„æ˜¯ Cocos Builder, æˆ‘å¾ˆå¿«æ‹¼å‡ºäº†æ•ˆæœ:</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fj110v95r4j31kw1f9127.jpg" alt=""></p>
<p>ä¸‹é¢ä¾¿æ˜¯åœ¨ä»£ç ä¸­æ’¸è¿™å‡ ä¸ªèœå•çš„é€»è¾‘äº†, è¿™éƒ¨åˆ†è¿˜æ˜¯æŒºéº»çƒ¦çš„, åªè¦ç»†å¿ƒä¸€äº›, å¾ˆå¿«ä¹Ÿèƒ½æå®š:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- Author: wangbilt@gmail.com</span></span><br><span class="line"><span class="comment">-- Date: 2017-08-21 11:26:18</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">local</span> PageFullscreenWebview = class(<span class="string">"PageFullscreenWebview"</span>, <span class="built_in">require</span>(<span class="string">"app.layout.package.page_fullscreen_webview_layout"</span>))</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:ctor</span><span class="params">()</span></span></span><br><span class="line">    PageFullscreenWebview.super.ctor(self)</span><br><span class="line">    self:_disableToolBar()</span><br><span class="line">    self.webview = ccexp.WebView:<span class="built_in">create</span>()</span><br><span class="line">    self.webview:setAnchorPoint(cc.p(<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">    self.webview:setScalesPageToFit(<span class="literal">false</span>)</span><br><span class="line">    self.webview:setContentSize(cc.size(display.width, display.height - self._nodeToolBar:getContentSize().height))</span><br><span class="line">    self.webview:setPosition(<span class="number">0</span>, self._nodeToolBar:getContentSize().height)</span><br><span class="line">    self.webview:setOnDidFinishLoading(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        self:performWithDelay(handler(self,self._loadFinishCallBack), <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">end</span>)    </span><br><span class="line">    self:addChild(self.webview)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:loadURL</span><span class="params">(_url, _callback)</span></span></span><br><span class="line">    self.webview:loadURL(_url)</span><br><span class="line">    self.on_finish_callback = _callback</span><br><span class="line">    self._btnRefresh:setVisible(<span class="literal">false</span>)</span><br><span class="line">    self._btnLeft:setButtonEnabled(<span class="literal">false</span>)</span><br><span class="line">    self._btnRight:setButtonEnabled(<span class="literal">false</span>)    </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:_disableToolBar</span><span class="params">()</span></span></span><br><span class="line">    self._btnLeft:setButtonEnabled(<span class="literal">false</span>)</span><br><span class="line">    self._btnRight:setButtonEnabled(<span class="literal">false</span>)</span><br><span class="line">    self._btnRefresh:setVisible(<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:_loadFinishCallBack</span><span class="params">(...)</span></span></span><br><span class="line">    self._btnRefresh:setVisible(<span class="literal">true</span>)</span><br><span class="line">    self._btnLeft:setButtonEnabled(self.webview:canGoBack())</span><br><span class="line">    self._btnRight:setButtonEnabled(self.webview:canGoForward())</span><br><span class="line">    <span class="keyword">if</span> self.on_finish_callback <span class="keyword">then</span></span><br><span class="line">        self.on_finish_callback()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:onClose</span><span class="params">(_callback)</span></span></span><br><span class="line">    self.on_close_callback = _callback</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:onClickClose</span><span class="params">(_params)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"onClickClose"</span>,_params.tag, _params.target)</span><br><span class="line">    self.on_close_callback()</span><br><span class="line">    self:removeFromParent()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:onClickLeft</span><span class="params">(_params)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"onClickLeft:"</span>,_params.tag, _params.target)</span><br><span class="line">    self:_disableToolBar()</span><br><span class="line">    self.webview:goBack()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:onClickRefresh</span><span class="params">(_params)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"onClickRefresh:"</span>,_params.tag, _params.target)</span><br><span class="line">    self:_disableToolBar()</span><br><span class="line">    self.webview:reload()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:onClickRight</span><span class="params">(_params)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"onClickRight:"</span>,_params.tag, _params.target)</span><br><span class="line">    self:_disableToolBar()</span><br><span class="line">    self.webview:goForward()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PageFullscreenWebview:show</span><span class="params">()</span></span></span><br><span class="line">    display.getRunningScene():addChild(self, <span class="number">10000</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">return</span> PageFullscreenWebview</span><br></pre></td></tr></table></figure>
<p>çœ‹çœ‹å®é™…çš„æ•ˆæœ:</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fj11145fcrj30f00qoab6.jpg" alt=""></p>
<blockquote>
<p>Ps. åœ¨è¿™ä¹‹é—´è¿˜é‡åˆ°äº†ä¸€ä¸ªbug, å°±æ˜¯åœ¨ WebView å‡ºç°çš„æ—¶å€™æŒ‰ back é”®ä¼šå´©æºƒ, æœ€ç»ˆé‡å†™ Avtivity ä¸€ä¸ªç©ºçš„ <code>onBackPressed</code> å®ç°è§£å†³é—®é¢˜.</p>
</blockquote>
<p>æ˜¯ä¸æ˜¯è¶³ä»¥ä»¥å‡ä¹±çœŸäº†å‘¢ ? ä¸è¦é«˜å…´å¤ªæ—©, è¿˜æœ‰æ ‡é¢˜,è¿›åº¦æ¡åŠŸèƒ½æ²¡æœ‰å®ç°å‘¢. è®©æˆ‘ä»¬æ¥åˆ†æä¸‹è¿™å‡ ä¸ªåŠŸèƒ½:</p>
<h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><p>çœ‹äº†ä¸‹ Cocos æä¾›çš„ API, æ˜¯æ²¡æœ‰ä¸æ ‡é¢˜ç›¸å…³çš„, åªèƒ½æˆ‘ä»¬è‡ªå·±å»ç»‘å®š. é‚£ä¹ˆè¯¥å¦‚ä½•è·å–æ ‡é¢˜å‘¢?</p>
<h3 id="Android"><a href="#Android" class="headerlink" title="Android:"></a>Android:</h3><p>åœ¨ <a href="https://ws4.sinaimg.cn/large/006tNc79ly1fj11145fcrj30f00qoab6.jpg" target="_blank" rel="noopener">stackoverflow çš„è¿™ä¸ªç­”æ¡ˆ</a> ä¸­æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">WebView mWebView = (WebView) findViewById(R.id.mwebview);</span><br><span class="line">mWebView.setWebViewClient(<span class="keyword">new</span> WebViewClient() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPageFinished</span><span class="params">(WebView view, String url)</span> </span>&#123;</span><br><span class="line">        ExperimentingActivity.<span class="keyword">this</span>.setTitle(view.getTitle());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">webview.setWebChromeClient(<span class="keyword">new</span> WebChromeClient() &#123;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceivedTitle</span><span class="params">(WebView view, String title)</span> </span>&#123;  </span><br><span class="line">        <span class="keyword">super</span>.onReceivedTitle(view, title);  </span><br><span class="line">    &#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="iOS"><a href="#iOS" class="headerlink" title="iOS:"></a>iOS:</h3><p>åŒæ ·, æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„æ‰¾åˆ° iOS çš„<a href="https://stackoverflow.com/a/20059707" target="_blank" rel="noopener">è§£å†³æ–¹æ¡ˆ</a>:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)webViewDidFinishLoad:(<span class="built_in">UIWebView</span> *)webView&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *theTitle=[webView stringByEvaluatingJavaScriptFromString:<span class="string">@"document.title"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ‰äº†ä¸Šé¢ä»£ç å, æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„å®ç°è·å–æ ‡é¢˜çš„ä»£ç , æ¯”è¾ƒéº»çƒ¦çš„æ˜¯è¿˜éœ€è¦ä¿®æ”¹ WebView çš„ c++ éƒ¨åˆ†, å¦‚æœæœ€ç»ˆè¦åœ¨ Lua ä¸­ä½¿ç”¨çš„è¯è¿˜éœ€è¦å¯¼å‡ºæ¥å£.</p>
<h2 id="è¿›åº¦æ¡"><a href="#è¿›åº¦æ¡" class="headerlink" title="è¿›åº¦æ¡"></a>è¿›åº¦æ¡</h2><h3 id="Android-1"><a href="#Android-1" class="headerlink" title="Android:"></a>Android:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">webview.setWebChromeClient(<span class="keyword">new</span> WebChromeClient() &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(WebView view, <span class="keyword">int</span> progress)</span>   </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="iOS-1"><a href="#iOS-1" class="headerlink" title="iOS"></a>iOS</h3><p>iOS æˆ‘æ‰¾äº†å¾ˆä¹…, è²Œä¼¼æ˜¯æ²¡æœ‰åŠæ³•è·å–è¿›åº¦çš„, åªèƒ½åšä¸€ä¸ªå‡çš„æ•ˆæœ:</p>
<blockquote>
<p>åœ¨å¼€å§‹åŠ è½½ç½‘é¡µçš„æ—¶å€™å¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨, è®©è¿›åº¦æ¡ä»¥ä¸€ä¸ªç¼“æ…¢çš„é€Ÿåº¦å‰è¿›, æ”¶åˆ°åŠ è½½å®Œæˆçš„æ¶ˆæ¯æ—¶è®©è¿›åº¦æ¡ç¬é—´ç§»åŠ¨åˆ°ç»ˆç‚¹.</p>
</blockquote>
<p>æ‰€ä»¥, æˆ‘ä»¬å¯ä»¥åˆ†å¹³å°å®ç°, ä¹Ÿå¯ä»¥ç»Ÿä¸€ä»£ç , éƒ½ä½¿ç”¨å‡çš„è¿›åº¦æ¡.</p>
<hr>
<p>ç»è¿‡ä¸ PM çš„ä¸€ç•ªäº¤æµå, ä¸€è‡´åŒæ„æ”¾å¼ƒè¿™ä¸¤ä¸ªåŠŸèƒ½. å› ä¸ºè§‰å¾—ç›®å‰çš„æ•ˆæœè¿˜å¯ä»¥, åŠ ä¸Šä¸æ”¹åŠ¨ c++ å°±å¯ä»¥çƒ­æ›´æ–°ä¸Šå».</p>
<p>æ‰€ä»¥å¾ˆå¯æƒœ, è¿™æ¬¡æ²¡æœ‰åŠæ³•æå½»åº•äº†, ä¸‹æ¬¡æœ‰æœºä¼šæˆ‘ä»¬æ¥ç€æ.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> WebView </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[èŠèŠ Google æ”¯ä»˜çš„é‚£äº›äº‹]]></title>
      <url>http://blog.justbilt.com/2017/07/23/integrate-google-iab/</url>
      <content type="html"><![CDATA[<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­, æœ‰å¾ˆå¤šç¯‡éƒ½æ˜¯å¾ˆ Apple IAP ç›¸å…³çš„, è€Œ Google IAB çš„å´ä¸€ç¯‡éƒ½æ²¡æœ‰, è¿™å¯¹äºå äº†åŠå£æ±Ÿå±±çš„ Android å¾ˆä¸å…¬å¹³.</p>
<p>å°±ä½œä¸ºä¸€ä¸ªå¼€å‘è€…è€Œè¨€, IAB çš„ä½“éªŒæ˜¯æ¯” IAP è¦å¥½çš„. å®ƒä½“ç°åœ¨è¿™ä¹ˆå‡ ä¸ªæ–¹é¢:</p>
<ol>
<li>æµ‹è¯•è´¦å·å°±æ˜¯ Goolge è´¦å·, ä¸åƒè‹¹æœé‚£æ ·æ˜¯æ²™ç›’è´¦å·. è¿™æ ·ä¸åŒè´¦å·ä¸‹çš„åº”ç”¨å¯ä»¥è®¾ç½®åŒä¸€ä¸ªæµ‹è¯•è´¦å·, é¿å…æ¥å›åˆ‡æ¢è´¦å·.</li>
<li>æ”¯æŒé€€æ¬¾æŸ¥è¯¢. åœ¨è‹¹æœä¸Š, åªèƒ½åƒäº†è¿™ä¸ªå“‘å·´äº.</li>
</ol>
<p>ä½†æ˜¯ IAB ä¹Ÿæœ‰ä¸€äº›ä¸å¤ªä¾¿åˆ©çš„åœ°æ–¹, åé¢æˆ‘ä»¬ä¼šè®¨è®ºå®ƒ.</p>
<a id="more"></a>
<h1 id="ä¸€-é›†æˆ"><a href="#ä¸€-é›†æˆ" class="headerlink" title="ä¸€. é›†æˆ"></a>ä¸€. é›†æˆ</h1><p>IAB æœ¬èº«æä¾›äº†ä¸€äº›åˆ—çš„ <a href="https://developer.android.com/google/play/billing/billing_reference.html" target="_blank" rel="noopener">API</a> å»å®ç°è´­ä¹°, ä¸€æ¬¡å…¸å‹çš„è´­ä¹°æµç¨‹æ˜¯è¿™ä¸ªæ ·å­çš„:</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fhtste5cqlj30fn0fkta9.jpg" alt=""></p>
<p>è¿™é‡Œé¢æœ‰ä¸€äº›ç»†èŠ‚æˆ‘ä»¬å…¶å®æ˜¯å¯ä»¥ä¸ç”¨çŸ¥é“çš„, æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªäºŒæ¬¡å°è£…çš„åº“<a href="https://github.com/anjlab/android-inapp-billing-v3" target="_blank" rel="noopener">android-inapp-billing-v3</a>å»å®ç°. ä½¿ç”¨äº†è¿™ä¸ªåº“å, å®ç°å†…è´­å˜å¾—å¾ˆç®€å•:</p>
<h2 id="1-æ·»åŠ ç›‘å¬"><a href="#1-æ·»åŠ ç›‘å¬" class="headerlink" title="1. æ·»åŠ ç›‘å¬"></a>1. æ·»åŠ ç›‘å¬</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">    bp = <span class="keyword">new</span> BillingProcessor(context, <span class="string">"IAB_LICENSE_KEY"</span>, <span class="keyword">new</span> BillingProcessor.IBillingHandler() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProductPurchased</span><span class="params">(String productId, TransactionDetails details)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// è´­ä¹°æˆåŠŸ</span></span><br><span class="line">            Log.d(<span class="string">"message:"</span>, details.purchaseInfo.responseData);</span><br><span class="line">            Log.d(<span class="string">"signature:"</span>, details.purchaseInfo.signature);</span><br><span class="line">            Log.d(<span class="string">"productid:"</span>, productId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBillingError</span><span class="params">(<span class="keyword">int</span> errorCode, Throwable error)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (errorCode == Constants.BILLING_RESPONSE_RESULT_USER_CANCELED)&#123;</span><br><span class="line">                <span class="comment">// è´­ä¹°å–æ¶ˆ</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            String reason = <span class="string">"UNKNOWN_ERROR"</span>;</span><br><span class="line">            <span class="keyword">if</span> (mErrorCodeReason.containsKey(errorCode)) &#123;</span><br><span class="line">                reason = mErrorCodeReason.get(errorCode);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è´­ä¹°å¤±è´¥</span></span><br><span class="line">            Log.d(<span class="string">"buy failure: "</span>, reason);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBillingInitialized</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–æˆåŠŸ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPurchaseHistoryRestored</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="comment">// æ¢å¤å†…è´­</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-å¤„ç†è´­ä¹°ç»“æœ"><a href="#2-å¤„ç†è´­ä¹°ç»“æœ" class="headerlink" title="2. å¤„ç†è´­ä¹°ç»“æœ"></a>2. å¤„ç†è´­ä¹°ç»“æœ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">    <span class="keyword">return</span> bp.handleActivityResult(requestCode, resultCode, data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-è´­ä¹°å•†å“"><a href="#3-è´­ä¹°å•†å“" class="headerlink" title="3. è´­ä¹°å•†å“"></a>3. è´­ä¹°å•†å“</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bp.purchase(<span class="keyword">this</span>, <span class="string">"android.test.purchased"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="4-æ¶ˆè€—å•†å“"><a href="#4-æ¶ˆè€—å•†å“" class="headerlink" title="4. æ¶ˆè€—å•†å“"></a>4. æ¶ˆè€—å•†å“</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bp.consumePurchase(productId);</span><br></pre></td></tr></table></figure>
<h1 id="äºŒ-æµ‹è¯•"><a href="#äºŒ-æµ‹è¯•" class="headerlink" title="äºŒ. æµ‹è¯•"></a>äºŒ. æµ‹è¯•</h1><h2 id="1-ä½¿ç”¨é™æ€å“åº”è¿›è¡Œæµ‹è¯•"><a href="#1-ä½¿ç”¨é™æ€å“åº”è¿›è¡Œæµ‹è¯•" class="headerlink" title="1. ä½¿ç”¨é™æ€å“åº”è¿›è¡Œæµ‹è¯•"></a>1. ä½¿ç”¨é™æ€å“åº”è¿›è¡Œæµ‹è¯•</h2><p>IAB é»˜è®¤æä¾›äº†ä¸€ç³»åˆ—çš„å•†å“ä½œä¸ºæµ‹è¯•å•†å“, è¿™äº›å•†å“å’Œåº”ç”¨åŠå•†å“æ— å…³, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›å•†å“æ¥æµ‹è¯•å……å€¼åŠŸèƒ½æ˜¯å¦é›†æˆæˆåŠŸå’ŒæœåŠ¡å™¨ç­¾åéªŒè¯æ˜¯å¦æ­£ç¡®.</p>
<p>è¯¦æƒ…å¯ä»¥å‚è€ƒ <a href="https://developer.android.com/google/play/billing/billing_testing.html#billing-testing-static" target="_blank" rel="noopener">è¿™ç¯‡ Google å®˜æ–¹æ–‡æ¡£</a>.</p>
<h2 id="2-ä½¿ç”¨çœŸå®äº¤æ˜“è¿›è¡Œæµ‹è¯•"><a href="#2-ä½¿ç”¨çœŸå®äº¤æ˜“è¿›è¡Œæµ‹è¯•" class="headerlink" title="2. ä½¿ç”¨çœŸå®äº¤æ˜“è¿›è¡Œæµ‹è¯•"></a>2. ä½¿ç”¨çœŸå®äº¤æ˜“è¿›è¡Œæµ‹è¯•</h2><p>åœ¨é¡¹ç›®ä¸Šçº¿å‰, æˆ‘ä»¬éœ€è¦æµ‹è¯•ä¸‹åº”ç”¨å†…çš„å•†å“å¤„ç†æ˜¯å¦æ­£å¸¸, æ‰€ä»¥è¦ä½¿ç”¨çœŸå®çš„ç¯å¢ƒæ¥æµ‹è¯•. è¦è¾¾åˆ°è¿™ä¸ªç›®çš„, æˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€äº›åˆ—çš„æ“ä½œæ‰å¯ä»¥è¾¾åˆ°.</p>
<ul>
<li>æ­£ç¡®åˆ›å»ºå•†å“å¹¶ä¸é¡¹ç›®å…³è”.</li>
<li>Google Play åå°å·²ç»ä¸Šä¼ å¹¶å‘å¸ƒäº†ä¸€ä¸ª Bata/Alpha ç‰ˆæœ¬.</li>
<li>ä½¿ç”¨å’Œ Google Play åå°å·²ç»å‘å¸ƒçš„åº”ç”¨ç›¸åŒçš„ç­¾åå’Œç‰ˆæœ¬æ‰“åŒ…å‡ºæ¥çš„åº”ç”¨.</li>
<li>åœ¨ Google Play åå°æ·»åŠ <a href="https://developer.android.com/google/play/billing/billing_admin.html#billing-testing-setup" target="_blank" rel="noopener">æµ‹è¯•è´¦å·</a>.</li>
<li>ç¡®è®¤åº”ç”¨çš„å‘å¸ƒåœ°åŒºæœ‰è¿™ä¸ªæµ‹è¯•è´¦å·çš„æ‰€åœ¨åœ°åŒº.</li>
<li>ç¡®ä¿æµ‹è¯•ç”¨æ‰‹æœºå®‰è£…äº†è°·æ­ŒæœåŠ¡æ¡†æ¶, å¼€å¯ç¿»å¢™å¹¶ç™»é™†äº†ä¸Šé¢æ·»åŠ çš„æµ‹è¯•è´¦å·.</li>
</ul>
<p>è¿™åªæ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†éœ€æ±‚, è¿˜æœ‰ä¸€äº›åŸå› ä¼šå¯¼è‡´ä½ æ— æ³•æ­£ç¡®æµ‹è¯•å……å€¼.</p>
<h1 id="ä¸‰-å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ"><a href="#ä¸‰-å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¸‰. å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ"></a>ä¸‰. å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ</h1><h2 id="1-éœ€è¦éªŒè¯èº«ä»½-æ‚¨éœ€è¦ç™»å½•è‡ªå·±-Google-è´¦å·"><a href="#1-éœ€è¦éªŒè¯èº«ä»½-æ‚¨éœ€è¦ç™»å½•è‡ªå·±-Google-è´¦å·" class="headerlink" title="1. éœ€è¦éªŒè¯èº«ä»½. æ‚¨éœ€è¦ç™»å½•è‡ªå·± Google è´¦å·"></a>1. éœ€è¦éªŒè¯èº«ä»½. æ‚¨éœ€è¦ç™»å½•è‡ªå·± Google è´¦å·</h2><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fhzbhgvtu7j30dw079gmc.jpg" alt=""></p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<blockquote>
<p>å•†å“idä¸æ­£ç¡®, è¯·æ£€æŸ¥ä¸‹è´­ä¹°æ—¶ä¼ å…¥çš„å•†å“ id å’Œ Google Play åå°æ˜¯å¦ä¸€è‡´</p>
</blockquote>
<h2 id="2-æ­¤ç‰ˆæœ¬çš„åº”ç”¨æœªé…ç½®ä¸ºé€šè¿‡-Google-Play-ç»“ç®—"><a href="#2-æ­¤ç‰ˆæœ¬çš„åº”ç”¨æœªé…ç½®ä¸ºé€šè¿‡-Google-Play-ç»“ç®—" class="headerlink" title="2. æ­¤ç‰ˆæœ¬çš„åº”ç”¨æœªé…ç½®ä¸ºé€šè¿‡ Google Play ç»“ç®—."></a>2. æ­¤ç‰ˆæœ¬çš„åº”ç”¨æœªé…ç½®ä¸ºé€šè¿‡ Google Play ç»“ç®—.</h2><p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fhzbtvd43jj30dw079gmd.jpg" alt=""></p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<blockquote>
<p>å¯èƒ½åœ¨æµ‹è¯•è´¦å·æ‰€åœ¨çš„åŒºæ²¡æœ‰åŒ…å«åœ¨åº”ç”¨çš„å‘å”®åœ°åŒºä¸­, è¯·æ£€æŸ¥é…ç½®, ä¿®æ”¹åéœ€è¦è€å¿ƒç­‰å¾…ç”Ÿæ•ˆ.</p>
</blockquote>
<h2 id="3-æ— æ³•è´­ä¹°æ‚¨è¦ä¹°çš„å•†å“"><a href="#3-æ— æ³•è´­ä¹°æ‚¨è¦ä¹°çš„å•†å“" class="headerlink" title="3. æ— æ³•è´­ä¹°æ‚¨è¦ä¹°çš„å•†å“."></a>3. æ— æ³•è´­ä¹°æ‚¨è¦ä¹°çš„å•†å“.</h2><p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fhyskeq0czj30du08caae.jpg" alt=""></p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<blockquote>
<ol>
<li>æ£€æŸ¥ç‰ˆæœ¬å·æ˜¯å¦ä¸å‘å¸ƒåº”ç”¨çš„ç‰ˆæœ¬å·ä¸€è‡´</li>
</ol>
</blockquote>
<p>Updata: </p>
<blockquote>
<p>è¿™ä¸ªæ˜¯å¾ˆæ—©ä¹‹å‰çš„ä¸€ä¸ªé”™è¯¯, è²Œä¼¼ Google ç›®å‰å·²ç»ä¸å†æ£€æŸ¥ç‰ˆæœ¬å·è¿™ä¸ªå±æ€§äº†.</p>
<ol>
<li>ç¡®è®¤æœ‰æ²¡æœ‰å‘å¸ƒ Beta/Alpha</li>
<li>å¦‚æœæ˜¯å°é—­æµ‹è¯•éœ€è¦ç‚¹å‡»é“¾æ¥æˆä¸ºæµ‹è¯•äººå‘˜, è¿æ¥å½¢å¼: <code>https://play.google.com/apps/testing/xxx</code></li>
</ol>
</blockquote>
<p>Update 2017å¹´08æœˆ15æ—¥:</p>
<blockquote>
<p>ä»Šå¤©åˆé‡åˆ°äº†è¿™ä¸ªé—®é¢˜, ä»€ä¹ˆéƒ½æ²¡æœ‰æ”¹, è¿‡äº†ä¸€ä¼šçªç„¶åˆå¥½äº†, çŒœæƒ³æ˜¯ä¸æ˜¯å‘å¸ƒä¹‹åè¿˜éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ç”Ÿæ•ˆ.</p>
</blockquote>
<h2 id="4-ä»æœåŠ¡å™¨æ£€ç´¢ä¿¡æ¯å‡ºé”™-DF-DIC-02"><a href="#4-ä»æœåŠ¡å™¨æ£€ç´¢ä¿¡æ¯å‡ºé”™-DF-DIC-02" class="headerlink" title="4. ä»æœåŠ¡å™¨æ£€ç´¢ä¿¡æ¯å‡ºé”™.[DF-DIC-02]"></a>4. ä»æœåŠ¡å™¨æ£€ç´¢ä¿¡æ¯å‡ºé”™.[DF-DIC-02]</h2><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fhtuo2rcywj30ds08fq3a.jpg" alt=""></p>
<blockquote>
<p>å¯èƒ½æ˜¯å•†å“ id ä¸æ­£ç¡®æˆ–è€…æ”¯ä»˜é€»è¾‘é”™è¯¯å¯¼è‡´ä¼ å…¥äº†é”™è¯¯çš„å•†å“ id, è¯¦ç»†åŸå› å¯ä»¥ç§»æ­¥æˆ‘çŸ¥ä¹ä¸Šçš„<a href="https://www.zhihu.com/question/26935519/answer/182780390" target="_blank" rel="noopener">è¿™ä¸ªå›ç­”</a></p>
</blockquote>
<h2 id="5-æ·»åŠ æµ‹è¯•è´¦å·"><a href="#5-æ·»åŠ æµ‹è¯•è´¦å·" class="headerlink" title="5. æ·»åŠ æµ‹è¯•è´¦å·"></a>5. æ·»åŠ æµ‹è¯•è´¦å·</h2><p>æµ‹è¯•è´¦å·åˆ†ä¸ºä¸¤ç§:</p>
<ol>
<li>ä¸‹è½½æµ‹è¯•è´¦å·åˆ—è¡¨<ol>
<li>å¦‚æœåº”ç”¨å¤„äºæœªå‘å¸ƒçš„çŠ¶æ€, åªæœ‰è¿™ä¸ªåˆ—è¡¨ä¸­çš„ç”¨æˆ·å¯ä»¥å……å€¼</li>
</ol>
</li>
<li>å……å€¼æµ‹è¯•è´¦å·åˆ—è¡¨<ol>
<li>è¿™ä¸ªåˆ—è¡¨ä¸­çš„ç”¨æˆ·å¯ä»¥å…è´¹å……å€¼</li>
</ol>
</li>
</ol>
<p>æµ‹è¯•å……å€¼è¿™ä¸¤ä¸ªç¼ºä¸€ä¸å¯.</p>
<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>IAB æœ€éº»çƒ¦çš„åœ°æ–¹å°±æ˜¯å®ƒçš„æµ‹è¯•å……å€¼, åŸå› åœ¨äºå®ƒçš„é”™è¯¯æç¤ºä¸æ˜¯ â€œäººè¯â€, è¿™ä¸ªåªèƒ½é æˆ‘ä»¬çš„ä¸°å¯Œç»éªŒæ¥è§£å†³äº†.</p>
<p>å‚è€ƒèµ„æ–™:</p>
<ol>
<li><a href="http://blog.csdn.net/n5/article/details/50705745" target="_blank" rel="noopener">http://blog.csdn.net/n5/article/details/50705745</a></li>
<li><a href="https://developer.android.com/google/play/billing/index.html" target="_blank" rel="noopener">https://developer.android.com/google/play/billing/index.html</a></li>
</ol>
]]></content>
      
        
        <tags>
            
            <tag> Android </tag>
            
            <tag> IAB </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æœ€è¿‘æ iOS ç‰ˆé‡åˆ°çš„ä¸€äº›é—®é¢˜å’ŒæŠ€å·§ (äº”)]]></title>
      <url>http://blog.justbilt.com/2017/07/16/ios-dev-tips-5/</url>
      <content type="html"><![CDATA[<p>è¿™æ®µæ—¶é—´åˆç§¯æ”’ä¸‹äº†ä¸å°‘çš„æŠ€å·§å’Œè§£å†³æ–¹æ¡ˆ, æ„Ÿè§‰ XCode è¶Šæ¥è¶Šç‰›é€¼äº†, å°¤å…¶æ˜¯åœ¨åº”ç”¨çš„è´¦å·è®¾ç½®æ–¹é¢, ä¹‹å‰é‡åˆ°çš„ä¸€äº›ä½çº§é—®é¢˜å¯èƒ½å·²ç»ä¸å¤å­˜åœ¨äº†.</p>
<a id="more"></a>
<h1 id="æ­¤åº”ç”¨åœ¨æœªæ¥çš„-iOS-ç‰ˆæœ¬ä¸‹å°†æ— æ³•ä½¿ç”¨"><a href="#æ­¤åº”ç”¨åœ¨æœªæ¥çš„-iOS-ç‰ˆæœ¬ä¸‹å°†æ— æ³•ä½¿ç”¨" class="headerlink" title="æ­¤åº”ç”¨åœ¨æœªæ¥çš„ iOS ç‰ˆæœ¬ä¸‹å°†æ— æ³•ä½¿ç”¨"></a>æ­¤åº”ç”¨åœ¨æœªæ¥çš„ iOS ç‰ˆæœ¬ä¸‹å°†æ— æ³•ä½¿ç”¨</h1><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fhlkn3of4wj316y0p4aku.jpg" alt=""></p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>å‘ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› å°±æ˜¯åº”ç”¨æ²¡æœ‰æ”¯æŒ arm64 CPU æ¶æ„, ä¸åŒçš„CPUæ¶æ„å¯¹åº”çš„è®¾å¤‡å¦‚ä¸‹:</p>
<blockquote>
<p>arm64ï¼šiPhone6s | iphone6s plusï½œiPhone6ï½œ iPhone6 plusï½œiPhone5S | iPad Airï½œ iPad mini2(iPad mini with Retina Display)<br>armv7sï¼šiPhone5ï½œiPhone5Cï½œiPad4(iPad with Retina Display)<br>armv7ï¼šiPhone4ï½œiPhone4Sï½œiPadï½œiPad2ï½œiPad3(The New iPad)ï½œiPad miniï½œiPod Touch 3Gï½œiPod Touch4</p>
</blockquote>
<p>ä¸€èˆ¬å‡ºç°è¿™ä¸ªé—®é¢˜, å¾ˆæœ‰å¯èƒ½æ˜¯ <strong>XCode Architectures è®¾ç½®æˆ–å¯¼å‡ºåŒ…çš„æ–¹å¼æœ‰é—®é¢˜</strong>:</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fhlkyqgvv0j30jy02odg2.jpg" alt=""></p>
<p>è¿™é‡Œé¢æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦å…³æ³¨ä¸€ä¸‹: <code>Build Avtive Architecture Only</code> å’Œ <code>Vaild Architectures</code>, å‰è€…æ˜¯ä¸ºäº†åŠ é€ŸçœŸæœºè¿è¡Œçš„é€Ÿåº¦, ä¸€èˆ¬ debug ä¼šè®¾ç½®ä¸º YES, release ç‰ˆä¼šè®¾ç½®ä¸º NO; åè€…æ˜¯åº”ç”¨æ‰€æ”¯æŒçš„ CPU æ¶æ„.</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¿…é¡»å¾—ä¿è¯ Vaild Architectures ä¸­æœ‰ arm64, å¹¶ä¸”æ‰“åŒ…å‡º release ç‰ˆæ‰å¯ä»¥, æˆ‘ä»¬é‡åˆ°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯æ‰“åŒ…åŒå­¦ä½¿ç”¨äº† debug ç‰ˆçš„ app åšæˆ ipa å®‰è£…åŒ…çš„åŸå› .</p>
<hr>
<h1 id="clang-error-no-such-file-or-directory-â€˜XXXâ€™"><a href="#clang-error-no-such-file-or-directory-â€˜XXXâ€™" class="headerlink" title="clang: error: no such file or directory: â€˜XXXâ€™"></a>clang: error: no such file or directory: â€˜XXXâ€™</h1><p>é€ æˆè¿™ä¸ªé”™è¯¯çš„åŸå› æœ‰å¥½å¤š, è¿™æ¬¡çš„æŠ¥é”™æå…¶è¯¡å¼‚, è¿ç³»ç»Ÿåº“éƒ½ä¼šæŠ¥æ‰¾ä¸åˆ°.</p>
<h2 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>ç»è¿‡æ’æŸ¥, å‘ç°æ˜¯ <code>Other Link Flag</code> ä¸­æœ‰ä¸€ä¸ªå•è¡Œçš„ <code>-force_laod</code>, ä¼°è®¡æ˜¯åˆ é™¤çš„æ—¶å€™å°‘åˆ äº†ä¸€è¡Œ.</p>
<hr>
<h1 id="XCode-çœŸæœºè°ƒè¯•å®‰è£…å¤±è´¥-æç¤ºè¯ä¹¦è¿‡æœŸ"><a href="#XCode-çœŸæœºè°ƒè¯•å®‰è£…å¤±è´¥-æç¤ºè¯ä¹¦è¿‡æœŸ" class="headerlink" title="XCode çœŸæœºè°ƒè¯•å®‰è£…å¤±è´¥, æç¤ºè¯ä¹¦è¿‡æœŸ"></a>XCode çœŸæœºè°ƒè¯•å®‰è£…å¤±è´¥, æç¤ºè¯ä¹¦è¿‡æœŸ</h1><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fhllu9g2m4j30ad03r3yo.jpg" alt=""></p>
<h2 id="è§£å†³æ–¹æ¡ˆ-2"><a href="#è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>çœŸæœºè°ƒè¯•çš„æ—¶å€™ä¸€èˆ¬ä½¿ç”¨çš„æ˜¯å¼€å‘è¯ä¹¦, å¼€å‘è¯ä¹¦å¯ä»¥æœ‰å¾ˆå¤šä¸ª, åœ¨é’¥åŒ™ä¸²ä¸­æ‰¾åˆ°è¿‡æœŸçš„è¯ä¹¦åˆ æ‰å°±å¯ä»¥å•¦, XCode ä¼šè‡ªåŠ¨åŒ¹é…ä¸€ä¸ªæ²¡æœ‰è¿‡æœŸçš„è¯ä¹¦.</p>
<hr>
<h1 id="å¯¼å‡º-dis-åŒ…å‡ºé”™-IDEDistributionErrorDomain-error-3"><a href="#å¯¼å‡º-dis-åŒ…å‡ºé”™-IDEDistributionErrorDomain-error-3" class="headerlink" title="å¯¼å‡º dis åŒ…å‡ºé”™, IDEDistributionErrorDomain error 3"></a>å¯¼å‡º dis åŒ…å‡ºé”™, IDEDistributionErrorDomain error 3</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error: exportArchive: The operation couldnâ€™t be completed. (IDEDistributionErrorDomain error 3.)</span><br><span class="line">Error Domain=IDEDistributionErrorDomain Code=3 <span class="string">"(null)"</span> UserInfo=&#123;IDEDistributionErrorSigningIdentityToItemToUnderlyingErrorKey=&#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è§£å†³æ–¹æ¡ˆ-3"><a href="#è§£å†³æ–¹æ¡ˆ-3" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>å…¶å®å°±æ˜¯è¯ä¹¦å’Œ Provisioning Profiles æ²¡æœ‰åŒ¹é…ä¸Š, å¾ˆæœ‰å¯èƒ½æ˜¯å…¶ä»–å°ä¼™ä¼´ revoke äº†ä½ çš„ dis è¯ä¹¦.</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fhlmmvhb27j30ud0jajth.jpg" alt=""></p>
<p>å» <a href="https://developer.apple.com/account/ios/profile/" target="_blank" rel="noopener">è‹¹æœå¼€å‘è€…ä¸­å¿ƒ</a> æŸ¥çœ‹å¯¹åº”çš„ Profiles çš„ status æ˜¯å¦æ­£å¸¸, ä¿®æ”¹å®Œåä¸‹è½½è¿è¡Œä¸€ä¸‹, ç„¶åé‡æ–°å¯¼å‡ºå°±å¥½äº†.</p>
<hr>
<h1 id="æ²™ç›’æµ‹è¯•-æ­¤æ—¶æ²¡æœ‰æƒé™åœ¨Sandboxè´­ä¹°æ­¤InApp"><a href="#æ²™ç›’æµ‹è¯•-æ­¤æ—¶æ²¡æœ‰æƒé™åœ¨Sandboxè´­ä¹°æ­¤InApp" class="headerlink" title="æ²™ç›’æµ‹è¯•: æ­¤æ—¶æ²¡æœ‰æƒé™åœ¨Sandboxè´­ä¹°æ­¤InApp"></a>æ²™ç›’æµ‹è¯•: æ­¤æ—¶æ²¡æœ‰æƒé™åœ¨Sandboxè´­ä¹°æ­¤InApp</h1><p>å…¶å®æè¿°çš„å¾ˆæ¸…æ™°, è¿™ä¸ªæ²™ç›’è´¦å·ä¸æ˜¯ä½ è¿™ä¸ªåº”ç”¨çš„, è¯·ä»”ç»†æ£€æŸ¥ä¸€ä¸‹.</p>
<h2 id="è§£å†³æ–¹æ¡ˆ-4"><a href="#è§£å†³æ–¹æ¡ˆ-4" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>æ›´æ¢æ­£ç¡®çš„æ²™ç›’æµ‹è¯•è´¦å·.</p>
<hr>
<h1 id="QQ-ä¸€é”®åŠ ç¾¤è·³è½¬è¿‡å»åç¾¤ä¸æ­£ç¡®"><a href="#QQ-ä¸€é”®åŠ ç¾¤è·³è½¬è¿‡å»åç¾¤ä¸æ­£ç¡®" class="headerlink" title="QQ: ä¸€é”®åŠ ç¾¤è·³è½¬è¿‡å»åç¾¤ä¸æ­£ç¡®"></a>QQ: ä¸€é”®åŠ ç¾¤è·³è½¬è¿‡å»åç¾¤ä¸æ­£ç¡®</h1><p>æ£€æŸ¥ LSApplicationQueriesSchemes ä¸­æ˜¯å¦æœ‰ <code>mqqapi</code>:</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fhlmr1lvfkj30y00bcgno.jpg" alt=""></p>
<h2 id="è§£å†³æ–¹æ¡ˆ-5"><a href="#è§£å†³æ–¹æ¡ˆ-5" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>å¦‚æœæ²¡æœ‰çš„è¯æ·»åŠ ä¸€ä¸ªå°±å¥½å•¦.</p>
<hr>
<h1 id="å¯¼å‡º-dev-åŒ…å‡ºé”™-IDEDistributionErrorDomain-Code-14"><a href="#å¯¼å‡º-dev-åŒ…å‡ºé”™-IDEDistributionErrorDomain-Code-14" class="headerlink" title="å¯¼å‡º dev åŒ…å‡ºé”™, IDEDistributionErrorDomain Code=14"></a>å¯¼å‡º dev åŒ…å‡ºé”™, IDEDistributionErrorDomain Code=14</h1><p>æŸ¥çœ‹ç»ˆç«¯æ—¥å¿—:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/Users/justbilt/.rvm/bin/rvm: line 66: shell_session_update: command not found</span><br><span class="line">+ xcodebuild -exportArchive -exportOptionsPlist /Users/justbilt/Documents/work/easy_slg_client/frameworks/runtime-src/proj.ios_mac/ios_export_dev.plist -archivePath /Users/justbilt/Documents/work/easy_slg_client/.build/yile.guopan-1.4.0.f592c19533-0607170734.xcarchive -exportPath /Users/justbilt/Documents/work/easy_slg_client/.build/0607192643399129</span><br><span class="line">2017-06-07 19:26:43.906 xcodebuild[4724:25032817] [MT] PluginLoading: Required plug-in compatibility UUID E0A62D1F-3C18-4D74-BFE5-A4167D643966 for plug-in at path &apos;~/Library/Application Support/Developer/Shared/Xcode/Plug-ins/XAlign.xcplugin&apos; not present in DVTPlugInCompatibilityUUIDs</span><br><span class="line">2017-06-07 19:26:44.068 xcodebuild[4724:25032817] [MT] IDEDistribution: -[IDEDistributionLogging _createLoggingBundleAtPath:]: Created bundle at path &apos;/var/folders/ff/wpytbgmd3rl1pn9dd02nbjc80000gn/T/guopan_2017-06-07_19-26-44.068.xcdistributionlogs&apos;.</span><br><span class="line">2017-06-07 19:26:58.844 xcodebuild[4724:25032817] [MT] IDEDistribution: Step failed: &lt;IDEDistributionThinningStep: 0x7fb80e6cb860&gt;: Error Domain=IDEDistributionErrorDomain Code=14 &quot;No applicable devices found.&quot; UserInfo=&#123;NSLocalizedDescription=No applicable devices found.&#125;</span><br><span class="line">error: exportArchive: No applicable devices found.</span><br></pre></td></tr></table></figure>
<p>æ‰¾åˆ°å…¶ä¸­çš„ xcdistributionlogs æ—¥å¿—æ–‡ä»¶è·¯å¾„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/var/folders/ff/wpytbgmd3rl1pn9dd02nbjc80000gn/T/guopan_2017-06-07_19-26-44.068.xcdistributionlogs</span><br></pre></td></tr></table></figure>
<p>åœ¨ IDEDistribution.standard.log æ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°çœŸæ­£çš„é”™è¯¯åŸå› :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">guopan.app/guopan arm64 -&gt;</span><br><span class="line">error: Info.plist of â€œguopan.app/heepayImage.bundleâ€ specifies a non-existent file for the CFBundleExecutable key</span><br><span class="line">error: Info.plist of â€œguopan.app/walletResources.bundle/Contentsâ€ specifies a non-existent file for the CFBundleExecutable key</span><br><span class="line">2017-06-07 11:08:24 +0000  Validating IPA structure...</span><br><span class="line">2017-06-07 11:08:24 +0000 [MT] /Applications/Xcode.app/Contents/Developer/usr/bin/ipatool exited with 1</span><br><span class="line">2017-06-07 11:08:24 +0000 [MT] ipatool JSON: &#123;</span><br><span class="line">    alerts =     (</span><br><span class="line">                &#123;</span><br><span class="line">            code = 0;</span><br><span class="line">            description = &quot;Info.plist of \U201cguopan.app/heepayImage.bundle\U201d specifies a non-existent file for the CFBundleExecutable key&quot;;</span><br><span class="line">            info =             &#123;</span><br><span class="line">            &#125;;</span><br><span class="line">            level = ERROR;</span><br><span class="line">            type = &quot;malformed-payload&quot;;</span><br><span class="line">        &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">            code = 0;</span><br><span class="line">            description = &quot;Info.plist of \U201cguopan.app/walletResources.bundle/Contents\U201d specifies a non-existent file for the CFBundleExecutable key&quot;;</span><br><span class="line">            info =             &#123;</span><br><span class="line">            &#125;;</span><br><span class="line">            level = ERROR;</span><br><span class="line">            type = &quot;malformed-payload&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è§£å†³æ–¹æ¡ˆ-6"><a href="#è§£å†³æ–¹æ¡ˆ-6" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæœ‰ä¸¤ä¸ª Error, æ„æ€å°±æ˜¯è¿™ä¸¤ä¸ª .bundle ä¸­çš„ <code>Info.plist</code> ä¸­çš„ key <code>CFBundleExecutable</code> å­—æ®µæŒ‡å®šäº†ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶, è¿™ä¸ªæŒ‡å®šå…¶å®æ²¡æœ‰å•¥ç”¨, æˆ‘ä»¬åˆ æ‰å®ƒå°±å¯ä»¥äº†. </p>
<p>ç”¨ Sublime æ‰“å¼€è¿™ä¸ª plist, åˆ é™¤ä¸‹é¢è¿™ä¸¤è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;key&gt;CFBundleExecutable&lt;/key&gt;</span><br><span class="line">&lt;string&gt;xxx&lt;/string&gt;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ æ‰“å¼€çš„æ–‡ä»¶æ˜¯ä¸€å›¢ä¹±ç , é‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶åº” 2è¿›åˆ¶ å½¢å¼çš„ plist, æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·æŠŠå®ƒè½¬åŒ–ä¸º xml å½¢å¼çš„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plutil -convert xml1 xxx/heepayImage.bundle/Info.plist</span><br></pre></td></tr></table></figure>
<p>ç„¶ååˆ é™¤æ‰.</p>
]]></content>
      
        
        <tags>
            
            <tag> iOS </tag>
            
            <tag> iOS-Dev-Tips </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä½¿ç”¨ Electron é‡å†™ convert2fnt]]></title>
      <url>http://blog.justbilt.com/2017/07/09/convert2fnt-electron-rewrite/</url>
      <content type="html"><![CDATA[<p>å¤§æ¦‚æ˜¯ 14 å¹´ 2 æœˆä»½çš„æ—¶å€™, æˆ‘ä½¿ç”¨åˆšå­¦ä¼š Python å†™äº†ä¸€ä¸ªå°å·¥å…·: <a href="https://github.com/justbilt/convert2fnt" target="_blank" rel="noopener">convert2fnt</a>, ä¸ºæ­¤è¿˜å†™äº†ä¸€ç¯‡æ–‡ç«  <a href="/2014/02/01/images_to_bmfont/">å°†ä¸€å †å›¾ç‰‡è½¬åŒ–ä¸ºBMFontå·¥å…·</a> ä»‹ç»è¿™ä¸ªå·¥å…·. å®ƒçš„ä¸»è¦åº”ç”¨åœºæ™¯æ˜¯è¿™ä¸ªæ ·å­çš„:</p>
<blockquote>
<p>ç¾æœ¯å¦¹å­å‡ºäº†ä¸€å †å›¾ç‰‡å­—, ä½†æ˜¯åœ¨ç¨‹åºä¸­ä½¿ç”¨ BMFont æ˜¯æ›´åŠ æ–¹ä¾¿çš„, è¿™ä¸ªæ—¶å€™ä½ å¯ä»¥å¼ºç¡¬çš„è¦æ±‚ç¾æœ¯å¦¹å­é‡æ–°ç”¨ Glyphdesigner åˆ¶ä½œä¸€ä»½å­—ä½“. ä½†æ˜¯ä¹Ÿå¯ä»¥å¾ˆæ¸©æŸ”çš„å‘Šè¯‰å¥¹: â€œä½ å…ˆå»å¿™å§, å‰©ä¸‹çš„äº¤ç»™æˆ‘äº†.â€, ç„¶ååœ¨å¦¹å­å´‡æ‹œçš„ç›®å…‰ä¸‹, è½¬èº«ç¦»å», æ·±è—åŠŸä¸å. </p>
</blockquote>
<a id="more"></a>
<p>æ©, æœ€åˆç‰ˆçš„å·¥å…·ç¡®å®èƒ½å¤Ÿè¾¾åˆ°è¿™ä¸ªç›®çš„, åªæ˜¯è¿‡ç¨‹å¯èƒ½ç•¥å¾®éº»çƒ¦ä¸€ä¸‹. </p>
<p>åœ¨ç¬¬ä¸€ç‰ˆçš„å·¥å…·ä¸­, å› ä¸ºç”¨åˆ°äº† ImageMagick æ¥æ‹¼æ¥å›¾ç‰‡, æ‰€ä»¥ä½ éœ€è¦å…ˆå®‰è£…è¿™ä¸ªå·¥å…·, ç„¶åä¸‹è½½è„šæœ¬, å®‰è£…ä¾èµ–åº“, å¼€å§‹ä½¿ç”¨. å½“å¦¹å­æ»¡å¿ƒæœŸå¾…çœ‹ç€ä½ æ”¾å¤§æ‹›çš„æ—¶å€™, ä½ TMè¿˜åœ¨é…ç¯å¢ƒ? </p>
<p><img src="/face/yilianmengbi3.jpg" alt=""></p>
<p>ç¬¬äºŒç‰ˆä¸­é‡ç‚¹ä¼˜åŒ–äº†é…ç½®ç¯å¢ƒå¤æ‚çš„é—®é¢˜. ä½¿ç”¨ Pillow æ›¿æ¢äº† ImageMagick, è¿˜ä½¿ç”¨ PyInstaller æ‰“åŒ…äº†å¯æ‰§è¡Œç¨‹åº. å¦‚æœé¡ºåˆ©çš„è¯, ä¸‹è½½ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åº, æŠŠå›¾ç‰‡æŒ‰ç…§è§„åˆ™å‘½åå¥½, æ‰§è¡Œä¸‹å°±å¥½äº†, å¾ˆå¤§çš„è¿›æ­¥æœ‰æœ¨æœ‰?</p>
<p>ä½†æ˜¯è¿™ä¸ªå·¥å…·çš„ä½¿ç”¨èŒƒå›´è¿˜æ˜¯å±€é™åœ¨äº†æŠ€æœ¯äººå‘˜æ‰‹, ä½ ä¸ä¼šæŒ‡æœ›ç¾æœ¯ç­–åˆ’åŒå­¦æ¥æ­å»ºä¸€ä¸ª <code>Python + pip</code> çš„ç¯å¢ƒå§? æˆ‘ä»¬ç¡®å®å¾ˆæ„¿æ„å¸®åŠ©å¦¹å­, ä½†æ˜¯ç­–åˆ’åŒå­¦æ¥æ‰¾ä½ æ€ä¹ˆåŠ? </p>
<p><img src="/face/ruhua.jpg" alt=""></p>
<p>ä¸€ä¸ªå¸¦ç•Œé¢çš„å·¥å…·åœ¨è¿™æ—¶å€™çœ‹èµ·æ¥ç¡®å®ä¼šæ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©, è¿™ä¹Ÿæ˜¯æˆ‘ä¸€ç›´æ‰€åŠªåŠ›çš„æ–¹å‘. æˆ‘å°è¯•è¿‡ Python çš„å„ç§ GUI æ–¹æ¡ˆ: Tkinter, PyWx, PyQt ç­‰ç­‰, è¿™äº›æ–¹æ¡ˆè‰¯è ä¸æµ, æœ‰çš„çœ‹èµ·æ¥åªæ˜¯ä¸€ä¸ª Demo, æœ‰çš„å…‰æ­å»ºç¯å¢ƒå°±ä¼šè®©ä½ å.</p>
<p>ä¸ºæ­¤æˆ‘å„ç§å°è¯•,å¾˜å¾Šåœ¨å„ç§æ–¹æ¡ˆé—´æŒ£æ‰äº†å¥½å‡ å¹´, ç›´åˆ° <code>Electron</code> æ¨ªç©ºå‡ºä¸–. å®ƒä¼¼ä¹æ˜¯ä¸€ä¸ªå«ç€é‡‘é’¥åŒ™å‡ºç”Ÿçš„é¡¹ç›®, æœ‰ç€ Github è¿™ä¸ªå…¨çƒæœ€å¤§åŒæ€§äº¤å‹ç½‘ç«™çš„åŠ æˆ, ä¸€å‡ºç”Ÿä¾¿å¤‡å—ç©ç›®. å½“ç„¶å®ƒä¹Ÿä¸è´Ÿä¼—æœ›, å¹²ç¿»å®ƒçš„å‰èº« Node-Webkit, ä½¿å¾—è¶Šæ¥è¶Šå¤šçš„ App é€‰æ‹©ä½¿ç”¨å®ƒæ¥åˆ¶ä½œ:</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNc79ly1fhdnp3klegj30ln0vcjza.jpg" alt=""></p>
<p>è¿™é‡Œå«é‡‘é‡æœ€é«˜çš„ä¾¿æ˜¯: Atom, VSCode ä»¥åŠ Cocos çš„æœ€æ–°äº§å“: Cocos Creater. å…¶ä¸­ Creater æ˜¯çœŸæ­£è®©æˆ‘ä¸‹å®šå†³å®šä½¿ç”¨ Electron çš„é¡¹ç›®, å‰ä¸¤ä¸ªéƒ½åªæ˜¯ä¸ªç¼–è¾‘å™¨, è€Œ Creater åˆ™æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ, ä¸€ä¸ª 2D æ¸¸æˆçš„åˆ¶ä½œå·¥å…·, è€Œä¸”ä»ç›®å‰çš„å‘å±•æ¥çœ‹, ååˆ†çš„å¥åº·. </p>
<p>ä»¥ç›®å‰ Electron çš„ç«çˆ†, ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°ä¸€å¤§å †çš„æ•™ç¨‹, ç›¸ä¿¡å¤§å®¶å¯ä»¥å¾ˆè½»æ˜“çš„å…¥é—¨è¿™ä¸ªæ¡†æ¶. è¿™é‡Œæˆ‘å’Œå¤§å®¶åˆ†äº«ä¸‹è‡ªå·±çš„å¿ƒå¾—å’Œè¸©è¿‡çš„ä¸€äº›å‘.</p>
<h2 id="1-Electron-å¤šä¸ªç»„ä»¶çš„ä½œç”¨"><a href="#1-Electron-å¤šä¸ªç»„ä»¶çš„ä½œç”¨" class="headerlink" title="1. Electron å¤šä¸ªç»„ä»¶çš„ä½œç”¨"></a>1. Electron å¤šä¸ªç»„ä»¶çš„ä½œç”¨</h2><h3 id="electron-electron-prebuilt"><a href="#electron-electron-prebuilt" class="headerlink" title="electron/electron-prebuilt"></a>electron/electron-prebuilt</h3><p>æ ¹æ®å®˜æ–¹çš„è§£é‡Š:</p>
<blockquote>
<p>Note As of version 1.3.1, this package is published to npm under two names: electron and electron-prebuilt. You can currently use either name, but electron is recommended, as the electron-prebuilt name is deprecated, and will only be published until the end of 2016.</p>
</blockquote>
<p>æ„æ€å°±æ˜¯ <code>electron-prebuilt</code> å·²ç»è¢«åºŸå¼ƒäº†, å»ºè®®ç›´æ¥ä½¿ç”¨:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install electron --save-dev</span><br></pre></td></tr></table></figure>
<h3 id="electron-package-electron-builder"><a href="#electron-package-electron-builder" class="headerlink" title="electron-package/electron-builder"></a>electron-package/electron-builder</h3><p>è¿™ä¸¤ä¸ªéƒ½æ˜¯ Electron çš„æ‰“åŒ…å·¥å…·, </p>
<p><a href="https://github.com/electron-userland/electron-packager" target="_blank" rel="noopener">electron-package</a> åªèƒ½æ‰“å‡ºå¯æ‰§è¡Œæ–‡ä»¶(Win:exe, Mac:app):</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "package": "electron-packager . --platform=win32 --arch=ia32 --electron-version=1.4.15 --overwrite --ignore=node_modules --ignore=.gitignore"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/electron-userland/electron-builder" target="_blank" rel="noopener">electron-builder</a> æ˜¯ä¸€ä¸ªæ›´ä¸ºå…ˆè¿›, ç®€å•çš„æ‰“åŒ…å·¥å…·, å¦‚æœä¸æƒ³æŠ˜è…¾çš„è¯å¯ä»¥ç›´æ¥é€‰æ‹©å®ƒäº†.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "pack": "electron-builder --dir",</span><br><span class="line">    "dist": "electron-builder"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h2 id="2-ä¸€å®šè¦å‡†å¤‡ä¸€ä¸ªå¼ºæœ‰åŠ›çš„æ¢¯å­â€¦æˆ–è€…è„‘å­"><a href="#2-ä¸€å®šè¦å‡†å¤‡ä¸€ä¸ªå¼ºæœ‰åŠ›çš„æ¢¯å­â€¦æˆ–è€…è„‘å­" class="headerlink" title="2. ä¸€å®šè¦å‡†å¤‡ä¸€ä¸ªå¼ºæœ‰åŠ›çš„æ¢¯å­â€¦æˆ–è€…è„‘å­"></a>2. ä¸€å®šè¦å‡†å¤‡ä¸€ä¸ªå¼ºæœ‰åŠ›çš„æ¢¯å­â€¦æˆ–è€…è„‘å­</h2><h3 id="npm-install"><a href="#npm-install" class="headerlink" title="npm install"></a>npm install</h3><p>å®‰è£… <code>Electron</code> çš„é€”å¾„ä¹‹ä¸€å°±æ˜¯é€šè¿‡ <code>npm</code>, ä»¥å›½å†…çš„è¿™ä¸ªç½‘ç»œç¯å¢ƒ, é€šè¿‡ npm å®‰è£…ä¸€äº›å°çš„åº“è¿˜å‹‰å¼ºå¯ä»¥, å¯¹äº Electron è¿™ç§å‡ åå…†çš„åº“å°±æ˜¾å¾—æ‰è¥Ÿè§è‚˜äº†, æ—¶é—´é•¿ä¸è¯´è¿˜å¾ˆå®¹æ˜“ä¸­æ–­. è¿™æ—¶å€™å°±å¯ä»¥é€‰æ‹©ä½¿ç”¨ <a href="https://npm.taobao.org/" target="_blank" rel="noopener">cnpm</a> æ¥åšè¿™äº›äº‹æƒ…, </p>
<p><img src="https://zos.alipayobjects.com/rmsportal/UQvFKvLLWPPmxTM.png" alt=""></p>
<h3 id="npm-run-dist"><a href="#npm-run-dist" class="headerlink" title="npm run dist"></a>npm run dist</h3><p>electron-builder ç¬¬ä¸€æ¬¡æ‰“åŒ…æ—¶ä¼šå»ä¸‹è½½ electron çš„é¢„ç¼–è¯‘æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å¾ˆå¤§, å®ƒä¼šé»˜è®¤å» github ä¸Šä¸‹è½½, è¿™æ—¶å€™å¦‚æœæ²¡æœ‰ç¿»å¢™å·¥å…·å°±ä¼šå¾ˆæƒ¨äº†.</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ æ·˜å® æä¾›çš„<a href="https://npm.taobao.org/mirrors/electron/" target="_blank" rel="noopener">é•œåƒ</a>æ¥ä¸‹è½½, ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•, åœ¨æ‰“åŒ…å‰å…ˆè¿è¡Œè¿™ä¸ªå‘½ä»¤:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ELECTRON_MIRROR=<span class="string">"https://npm.taobao.org/mirrors/electron/"</span></span><br></pre></td></tr></table></figure>
<p>åŸç†å¯ä»¥çœ‹æ–‡ç« æœ«å°¾çš„é“¾æ¥, ä½¿ç”¨åçœŸçš„æ˜¯ç«‹ç«¿è§å½±, å¤§å®¶å¯ä»¥å¯¹æ¯”ä¸‹ä¸‹è½½é€Ÿåº¦:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MacBook-Air:convert2fnt bilt$ npm run dist</span><br><span class="line">Downloading tmp-6511-0-electron-v1.6.11-darwin-x64.zip</span><br><span class="line">[==&gt;                                          ] 8.8% of 46.08 MB (65.41 kB/s)</span><br><span class="line">MacBook-Air:convert2fnt bilt$ <span class="built_in">export</span> ELECTRON_MIRROR=<span class="string">"https://npm.taobao.org/mirrors/electron/"</span></span><br><span class="line">MacBook-Air:convert2fnt bilt$ npm run dist</span><br><span class="line">Downloading tmp-6579-0-electron-v1.6.11-darwin-x64.zip</span><br><span class="line">[============================&gt;                ] 66.1% of 46.08 MB (951.77 kB/s)</span><br></pre></td></tr></table></figure>
<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>æœ€åä¸Šä¸€ä¸‹æ–°ç‰ˆ convert2fnt æˆªå›¾, ç°åœ¨è¿˜æœ‰ä¸€äº›æ”¶å°¾çš„å·¥ä½œå†åš, å¾ˆå¿«ä½ å°±ä¼šè§åˆ°å®ƒ:</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fhkaqhm6dnj30n80ixq5f.jpg" alt=""></p>
<p>å½“ç­–åˆ’å†æœ‰ç±»ä¼¼çš„éœ€æ±‚æ—¶, å¯ä»¥ç›´æ¥æ‰”ç»™å¯¹æ–¹ä¸€ä¸ªä¸‹è½½åœ°å€. è‡³äºå¦¹å­, å½“ç„¶æ˜¯é€‰æ‹©å¸®åŠ©å¥¹å•¦.</p>
<hr>
<p>å‚è€ƒèµ„æ–™:</p>
<ul>
<li><a href="http://www.jianshu.com/p/1c2ad78df208" target="_blank" rel="noopener">å¸¸ç”¨Electron Appæ‰“åŒ…å·¥å…·</a></li>
<li><a href="http://blog.tomyail.com/install-electron-slow-in-china/" target="_blank" rel="noopener">åŠ é€Ÿelectronåœ¨å›½å†…çš„ä¸‹è½½é€Ÿåº¦</a></li>
</ul>
]]></content>
      
        
        <tags>
            
            <tag> convert2fnt </tag>
            
            <tag> Electron </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¼˜åŒ–æ¸¸æˆåœ¨ iOS ä¸Šçš„å†…è´­]]></title>
      <url>http://blog.justbilt.com/2017/06/18/refine-game-ios-iap/</url>
      <content type="html"><![CDATA[<p>é¦–å…ˆæˆ‘ä»¬çœ‹ä¸‹ iOS å†…è´­çš„æµç¨‹, è®©æˆ‘ä»¬çœ‹ä¸‹å®˜æ–¹çš„çš„æµç¨‹å›¾:</p>
<p><img src="https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/StoreKitGuide/Art/remote_store_fetch_2x.png" alt=""></p>
<a id="more"></a>
<p>å¾ˆç®€å•, æ˜¯ä¸æ˜¯ ? ä½œä¸ºä¸€æ¬¾æ¸¸æˆæ¥è¯´, å®é™…æƒ…å†µè¦å¤æ‚çš„å¤š.é¦–å…ˆè¦æ€è€ƒè¿™ä¹ˆå‡ ä¸ªé—®é¢˜:</p>
<ol>
<li>è¿”å› Game å±‚æ—¶å› ä¸ºå†…å­˜ä¸è¶³æ¸¸æˆé‡å¯äº†æ€ä¹ˆåŠ ?</li>
<li>æœ‰ç©å®¶ååº”å……å€¼ä¸åˆ°è´¦æ€ä¹ˆåŠ ?</li>
<li>å¦‚ä½•é˜² IAP ç ´è§£ ?</li>
</ol>
<p>ä½œä¸ºä¸€æ¬¾å¯èƒ½åœ¨ â€œå›½å†…â€ å‘å”®çš„æ¸¸æˆ, å¦‚æœä½ ä»¬æ²¡æœ‰è€ƒè™‘è¿‡è¿™äº›é—®é¢˜, é‚£å¯èƒ½ä¼šé‡åˆ°å¾ˆå¤šçš„ â€œæƒŠå–œâ€. æœ‰ä¸€ç‚¹éœ€è¦è®°ä½, åƒä¸‡ä¸è¦ä½ä¼°ç©å®¶çš„ â€œåˆ›é€ åŠ›â€. </p>
<p>é¦–å…ˆ, è¯·å…è®¸ç”¨ååˆ†ç®€å•çš„å‡ è¡Œä»£ç å¸¦å¤§å®¶å›é¡¾ä¸‹ IAP çš„å®ç°, å› ä¸ºåé¢æˆ‘ä»¬è¦è®¨è®ºçš„å†…å®¹å…¨éƒ¨æ˜¯åŸºäºè¿™ä¸ªå‰æçš„. </p>
<h1 id="IAP-çš„ä»£ç å®ç°"><a href="#IAP-çš„ä»£ç å®ç°" class="headerlink" title="IAP çš„ä»£ç å®ç°"></a>IAP çš„ä»£ç å®ç°</h1><p>è¦å¼€å¯å†…è´­å¾ˆç®€å•, ä¸¤ä¸ªå¯¹è±¡ä¸‰ä¸ªæ­¥éª¤å°±æå®šäº†. </p>
<p>æˆ‘ä»¬å…ˆæ¥è¯´è¯´è¿™ä¸¤ä¸ªå¯¹è±¡, åˆ†åˆ«æ˜¯ <code>SKPaymentQueue</code> å’Œ <code>SKPaymentTransaction</code> , å‰è€…æ˜¯å……å€¼è®¢å•, åè€…æ˜¯å……å€¼é˜Ÿåˆ—.</p>
<h2 id="SKPaymentQueue"><a href="#SKPaymentQueue" class="headerlink" title="SKPaymentQueue"></a>SKPaymentQueue</h2><p>å®ƒæ˜¯æ•´ä¸ªå……å€¼çš„æ ¸å¿ƒ, è´Ÿè´£ä¸²è”å……å€¼çš„å„ä¸ªæµç¨‹. å¯ä»¥ç”¨è¿™ä¸ªå¯¹è±¡å®ç°å‘èµ·è´­ä¹°, æ¢å¤å·²ç»è´­ä¹°çš„ç‰©å“, ç»“æŸè´­ä¹°, ç›‘å¬å……å€¼äº‹ä»¶ç­‰åŠŸèƒ½.</p>
<h2 id="SKPaymentTransaction"><a href="#SKPaymentTransaction" class="headerlink" title="SKPaymentTransaction"></a>SKPaymentTransaction</h2><p>å‰é¢è¯´è¿‡å®ƒæ˜¯å……å€¼çš„è®¢å•å¯¹è±¡, æ¯ä¸€æ¬¡å……å€¼çš„å‘èµ·éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå”¯ä¸€çš„è®¢å•å¯¹è±¡, å®ƒè®°å½•æœ‰è¿™ä¸ªè®¢å•çš„çŠ¶æ€, id, æ—¶é—´, æ”¶æ®çš„ä¿¡æ¯.</p>
<p>å…¶ä¸­æ”¶æ®(<code>transactionReceipt</code>)æ˜¯æœ€é‡è¦çš„æ•°æ®, å®ƒæ˜¯è¿™æ¬¡å……å€¼æ˜¯å¦çœŸæ­£æ‰£æ¬¾æˆåŠŸçš„å”¯ä¸€æ¡ä»¶. æˆ‘ä»¬è¦æŠŠå®ƒå‘é€ç»™æˆ‘ä»¬çš„æ¸¸æˆæœåŠ¡å™¨, å†å‘è‹¹æœçš„æœåŠ¡å™¨è¿›è¡ŒéªŒè¯.</p>
<p>ä¸‹é¢æ¥è¯´è¯´ä¸‰ä¸ªæ­¥éª¤:</p>
<h2 id="1-æ·»åŠ å……å€¼ç›‘å¬"><a href="#1-æ·»åŠ å……å€¼ç›‘å¬" class="headerlink" title="1. æ·»åŠ å……å€¼ç›‘å¬"></a>1. æ·»åŠ å……å€¼ç›‘å¬</h2><p>æ·»åŠ ç›‘å¬çš„é€»è¾‘å¾ˆç®€å•, å°±ä¸‹é¢è¿™ä¸‰è¡Œ:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([<span class="built_in">SKPaymentQueue</span> defaultQueue]) &#123;</span><br><span class="line">    [[<span class="built_in">SKPaymentQueue</span> defaultQueue] addTransactionObserver:<span class="keyword">self</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¿™ä¸ª <code>self</code> å¿…é¡»æ˜¯ä¸€ä¸ªå®ç°äº† <code>SKPaymentTransactionObserver</code> çš„ç±»çš„å®ä¾‹, å½“æœ‰å……å€¼çš„äº‹ä»¶æ—¶, ç±»çš„ <code>updatedTransactions</code> å‡½æ•°ä¼šè¢«è°ƒç”¨:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//.h</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IAPHelper</span> : <span class="title">NSObject</span> &lt;<span class="title">SKPaymentTransactionObserver</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//.m</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IAPHelper</span></span></span><br><span class="line">- (<span class="keyword">void</span>)paymentQueue:(<span class="built_in">SKPaymentQueue</span> *)queue updatedTransactions:(<span class="built_in">NSArray</span> *)transactions</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">SKPaymentTransaction</span> *transaction <span class="keyword">in</span> transactions)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (transaction.transactionState)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="built_in">SKPaymentTransactionStatePurchased</span>: </span><br><span class="line">                <span class="comment">// å¤„ç†æ”¯ä»˜æˆåŠŸ</span></span><br><span class="line">                [[<span class="built_in">SKPaymentQueue</span> defaultQueue] finishTransaction: transaction];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="built_in">SKPaymentTransactionStateFailed</span>: <span class="comment">// æ”¯ä»˜å¤±è´¥</span></span><br><span class="line">                <span class="comment">// å¤„ç†æ”¯ä»˜å¤±è´¥</span></span><br><span class="line">                [[<span class="built_in">SKPaymentQueue</span> defaultQueue] finishTransaction: transaction];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="built_in">SKPaymentTransactionStateRestored</span>: <span class="comment">// æ¢å¤å†…è´­</span></span><br><span class="line">                <span class="comment">// å¤„ç†æ¢å¤å†…è´­</span></span><br><span class="line">                [[<span class="built_in">SKPaymentQueue</span> defaultQueue] finishTransaction: transaction];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="2-è¯·æ±‚å•†å“æ•°æ®"><a href="#2-è¯·æ±‚å•†å“æ•°æ®" class="headerlink" title="2. è¯·æ±‚å•†å“æ•°æ®"></a>2. è¯·æ±‚å•†å“æ•°æ®</h2><p>åœ¨å¼€å§‹è´­ä¹°ä¹‹å‰, æˆ‘ä»¬éœ€è¦çŸ¥é“å•†å“çš„æ•°æ®, æ¯”å¦‚ä»·æ ¼, æè¿°ä¹‹ç±»çš„, è¿™å°±éœ€è¦æˆ‘ä»¬å…ˆè¯·è¯·æ±‚å•†å“çš„æ•°æ®:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">SKProductsRequest</span>* request = [[<span class="built_in">SKProductsRequest</span> alloc] initWithProductIdentifiers:@[<span class="string">@"com.xxx.xxx.01"</span>, <span class="string">@"com.xxx.xxx.02"</span>]];</span><br><span class="line">request.delegate = <span class="keyword">self</span>;</span><br><span class="line">[request start];</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢å°±æ˜¯è¯·æ±‚å•†å“çš„ä»£ç , å•†å“çš„ id åˆ—è¡¨æ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±å‡†å¤‡çš„. è¯·æ±‚çš„ç»“æœä¼šé€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥é€šçŸ¥æˆ‘ä»¬, åŒæ ·æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªä»£ç† <code>SKProductsRequestDelegate</code>:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//.h</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IAPHelper</span> : <span class="title">NSObject</span> &lt;<span class="title">SKProductsRequestDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//.mm</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IAPHelper</span></span></span><br><span class="line">- (<span class="keyword">void</span>)productsRequest:(<span class="built_in">SKProductsRequest</span> *)request didReceiveResponse:(<span class="built_in">SKProductsResponse</span> *)response &#123;</span><br><span class="line">    <span class="built_in">NSArray</span>* products = response.products;</span><br><span class="line">    <span class="comment">// products å°±æ˜¯å•†å“çš„åˆ—è¡¨</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="3-è´­ä¹°"><a href="#3-è´­ä¹°" class="headerlink" title="3. è´­ä¹°"></a>3. è´­ä¹°</h2><p>å‘èµ·ä¸€æ¬¡è´­ä¹°çš„é€»è¾‘:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">SKPayment</span> *payment = [<span class="built_in">SKPayment</span> paymentWithProduct:<span class="string">@"com.xxx.xxx.01"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ([<span class="built_in">SKPaymentQueue</span> defaultQueue]) &#123;</span><br><span class="line">    [[<span class="built_in">SKPaymentQueue</span> defaultQueue] addPayment:payment];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢å°±ä¼šè¿›å…¥åˆ°æˆ‘ä»¬ä¹‹å‰æ·»åŠ çš„é‚£ä¸ªå……å€¼çŠ¶æ€çš„ç›‘å¬é€»è¾‘ä¸­å».</p>
<h1 id="å……å€¼æµç¨‹çš„ä¼˜åŒ–"><a href="#å……å€¼æµç¨‹çš„ä¼˜åŒ–" class="headerlink" title="å……å€¼æµç¨‹çš„ä¼˜åŒ–"></a>å……å€¼æµç¨‹çš„ä¼˜åŒ–</h1><p>æµç¨‹æ–¹é¢, æˆ‘ä»¬å¤§æ¦‚ç»è¿‡äº†è¿™ä¹ˆä¸‹é¢å‡ ä¸ªé˜¶æ®µ.</p>
<h2 id="é‡ç”Ÿè›®é•¿çš„ç¬¬ä¸€é˜¶æ®µ"><a href="#é‡ç”Ÿè›®é•¿çš„ç¬¬ä¸€é˜¶æ®µ" class="headerlink" title="é‡ç”Ÿè›®é•¿çš„ç¬¬ä¸€é˜¶æ®µ"></a>é‡ç”Ÿè›®é•¿çš„ç¬¬ä¸€é˜¶æ®µ</h2><p>è¿™ä¸€é˜¶æ®µçš„ç‰¹å¾æ˜¯: <code>å…ˆå®Œæˆäº¤æ˜“, åå¤„ç†è®¢å•</code>, å¦‚æœä»”ç»†è§‚å¯Ÿä¸Šé¢ <code>updatedTransactions</code> çš„é€»è¾‘çš„è¯, å¯ä»¥çœ‹åˆ°è¿™æ ·çš„ä¸€è¡Œä»£ç :</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">SKPaymentQueue</span> defaultQueue] finishTransaction: transaction];</span><br></pre></td></tr></table></figure>
<p>è¿™è¡Œä»£ç çš„æ„ä¹‰å°±æ˜¯æ ‡è®°è¿™ä¸ªè®¢å•å·²ç»å®Œæˆäº†, è‹¹æœä»æ­¤ä»¥åä¸ä¼šå†å»é€šçŸ¥ä½ è¿™ä¸ªè®¢å•çš„ä»»ä½•æ¶ˆæ¯äº†. åœ¨è°ƒç”¨è¿™è¡Œä»£ç ä¹‹å‰, æˆ‘ä»¬ä¼šå»å¤„ç†ä¸€äº›å……å€¼ç»“æœçš„é€»è¾‘, å…¶ä¸­å……å€¼æˆåŠŸæˆ‘ä»¬æ˜¯è¦å»è‹¹æœéªŒè¯æ”¶æ®çš„.</p>
<p>ä½†æ˜¯éªŒè¯çš„è¿™ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥çš„, æ‰€ä»¥å¯èƒ½å‘ç”Ÿçš„é—®é¢˜å°±æ˜¯:</p>
<blockquote>
<p>åœ¨éªŒè¯ç»“æœå›æ¥ä¹‹å‰å°±å…³é—­äº†è®¢å•.</p>
</blockquote>
<p>å› æ­¤è‹¥æ˜¯éªŒè¯çš„è¿‡ç¨‹ä¸å¤Ÿé¡ºåˆ©, æ¯”å¦‚ç½‘ç»œçŠ¶å†µä¸ä½³, åº”ç”¨æ„å¤–é€€å‡º, å°±ä¼šå¯¼è‡´ç©å®¶çš„è¿™æ¬¡å……å€¼æ²¡æœ‰åˆ°è´¦.</p>
<h2 id="å§‹æ–™ä¸åŠçš„ç¬¬äºŒé˜¶æ®µ"><a href="#å§‹æ–™ä¸åŠçš„ç¬¬äºŒé˜¶æ®µ" class="headerlink" title="å§‹æ–™ä¸åŠçš„ç¬¬äºŒé˜¶æ®µ"></a>å§‹æ–™ä¸åŠçš„ç¬¬äºŒé˜¶æ®µ</h2><p>æœ‰äº†ä¸Šé¢é‚£ä¸ªé—®é¢˜, æˆ‘ä»¬ä¸ç¦ä¼šæƒ³ ? æ˜¯ä¸æ˜¯å¯ä»¥ç­‰æ”¶åˆ°éªŒè¯ç»“æœå†å»å®Œæˆè®¢å•. ç­”æ¡ˆæ˜¯è‚¯å®šçš„, æˆ‘ä»¬ç¡®å®å¯ä»¥è¿™æ ·åš, è‹¹æœä¹Ÿå¾ˆä»ä¹‰, æ²¡æœ‰å®Œæˆçš„è®¢å•ä¼šåœ¨ä¸‹æ¬¡è¯·æ±‚å•†å“æ—¶å†æ¬¡é€šçŸ¥æˆ‘ä»¬å……å€¼æˆåŠŸ.</p>
<p>ç®€å•éªŒè¯ä¹‹å, æˆ‘ä»¬ä¿®æ”¹äº†å……å€¼çš„é€»è¾‘, ä¿¡å¿ƒæ»¡æ»¡çš„ä¸Šçº¿äº†. ä¸Šçº¿ä¹‹åˆç¡®å®å¾ˆé¡ºåˆ©, åé¦ˆå……å€¼ä¸åˆ°è´¦çš„ç©å®¶æ•°é‡é™ä½äº†å¾ˆå¤š, æˆ‘ä»¬éƒ½é™·å…¥äº†å·¨å¤§çš„å–œæ‚¦ä¹‹ä¸­, å†ä¹Ÿä¸ä¼šæœ‰ç©å®¶ååº”å……å€¼ä¸åˆ°è´¦äº†, oh yeah ! </p>
<p>ç„¶å, åé¢å‘ç”Ÿçš„äº‹æƒ…å´æ˜¯æˆ‘ä»¬å§‹æ–™ä¸åŠçš„. æˆ‘ä»¬é™†ç»­æ”¶åˆ°äº†ç”¨æˆ·å£°æ³ªä¿±ä¸‹çš„æ§è¯‰, è‡ªå·±æ˜¯å¤šä¹ˆå¤šä¹ˆçš„çƒ­çˆ±è¿™æ¬¾æ¸¸æˆ, ä½†æ˜¯å´æ— æ³•äº«å—å……å€¼å¸¦æ¥çš„ä¹è¶£. èµ·åˆè¿˜åªæ˜¯å¯èƒ½ä¸åˆ°è´¦, ç°åœ¨åˆ™æ˜¯æŸä¸€ä¸ªå……å€¼é¡¹å®Œå…¨æ— æ³•è´­ä¹°.</p>
<p>åœ¨è¯¸å¤šç©å®¶çš„æ§è¯‰ä¸­, æˆ‘ä»¬é€æ¸è¿˜åŸäº†é—®é¢˜çš„æˆå› . æŸä¸€æ¬¡å……å€¼æˆåŠŸåæ¸¸æˆé‡å¯, æ²¡æœ‰æ”¶åˆ°é’»çŸ³, å†æ¬¡è´­ä¹°è¯¥å•†å“åˆ™ä¼šæç¤º:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23ly1fgw9pxzo6ej206q04jt96.jpg" alt=""></p>
<blockquote>
<p>æ‚¨å·²è´­ä¹°æ­¤ App å†…è´­ä¹°é¡¹ç›®ã€‚æ­¤é¡¹ç›®å°†å…è´¹æ¢å¤ã€‚</p>
</blockquote>
<p>æ ¹æ®è¿™ä¸ªåé¦ˆå¯ä»¥å¾ˆè½»æ˜“çš„æ¨æ–­å‡ºæ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰ <code>finishTransaction</code> æŸä¸€ç¬”è®¢å•çš„åŸå› , ä½†æ˜¯å´å¾ˆéš¾é‡ç°ç©å®¶æ‰€é‡åˆ°çš„é—®é¢˜. æˆ‘ä»¬ä¹Ÿå¤ç°è¿‡è¿™ä¸ªé—®é¢˜, ä½†æ˜¯éƒ½èƒ½å¤Ÿåœ¨é‡å¯åè‡ªåŠ¨è§£å†³. æˆ‘ä»¬ä¹ŸåŠ äº†å¾ˆå¤šåŸ‹ç‚¹å»ç»Ÿè®¡ç©å®¶çš„æ—¥å¿—, å‘ç°ç©å®¶ä¼¼ä¹è¿›å…¥äº†ä¸€ä¸ªå¡å•çš„çŠ¶æ€, ç¨‹åºæ— æ³•è·å–åˆ°æŸäº›æœªå®Œæˆçš„è®¢å•.</p>
<p>è¿™ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘ä»¬å¥½ä¹…, è€Œä¸”åé¦ˆçš„ç©å®¶è¶Šæ¥è¶Šå¤š, æœ‰çš„ç©å®¶ç”šè‡³å·²ç»æ²¡æœ‰å¯ä»¥èƒ½å¤Ÿè´­ä¹°çš„å•†å“äº†.</p>
<h2 id="é”®å…¥ä½³å¢ƒçš„ç¬¬ä¸‰é˜¶æ®µ"><a href="#é”®å…¥ä½³å¢ƒçš„ç¬¬ä¸‰é˜¶æ®µ" class="headerlink" title="é”®å…¥ä½³å¢ƒçš„ç¬¬ä¸‰é˜¶æ®µ"></a>é”®å…¥ä½³å¢ƒçš„ç¬¬ä¸‰é˜¶æ®µ</h2><p>è™½ç„¶ä¸Šé¢çš„é—®é¢˜æˆ‘ä»¬å¯ä»¥å°†é”…ç”©ç»™è‹¹æœ, ä½†æ˜¯å®åœ¨å—åˆ°æŸå¤±çš„æ˜¯æˆ‘ä»¬, å› æ­¤è¿˜æ˜¯éœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜. ç»è¿‡è®¨è®ºä¹‹å, æˆ‘ä»¬å°†ç›®å…‰åˆè½¬å›äº†ç¬¬ä¸€é˜¶æ®µçš„æ–¹æ¡ˆ, çœ‹èƒ½å¦æ”¹è¿›å“ªä¸ªæ–¹æ¡ˆ. </p>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥å…ˆå°†è®¢å•æ•°æ®ä¿å­˜åœ¨æœ¬åœ°, ç„¶åå‘èµ·éªŒè¯è¯·æ±‚, å…³é—­è®¢å•, ç­‰éªŒè¯æˆåŠŸååˆ é™¤æœ¬åœ°ä¿å­˜çš„è®¢å•.</p>
</blockquote>
<p>ä¸‹æ¬¡å¯åŠ¨æ¸¸æˆæˆ–è€…å……å€¼æ—¶, æˆ‘ä»¬å¯ä»¥å…ˆæ£€æŸ¥ä¸‹æœ¬åœ°æ˜¯å¦æœ‰ç¼“å­˜çš„è®¢å•, æœ‰çš„è¯å°±å…ˆå°è¯•éªŒè¯è¿™ä¸ªè®¢å•. è™½ç„¶è¿˜æœ‰ä¸€äº›ç‘•ç–µ, æ¯”å¦‚ç©å®¶åˆ é™¤æ‰åº”ç”¨åå°±å†ä¹Ÿæ‰¾ä¸å›ä¹‹å‰çš„è®¢å•äº†, ä½†æ˜¯å·²ç»æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„æ–¹æ¡ˆäº†.</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥å®ç°ä¸€ä¸‹:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span>*)getRecordTransaction</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#if USE_ICLOUD_STORAGE</span></span><br><span class="line">    <span class="built_in">NSUbiquitousKeyValueStore</span> *storage = [<span class="built_in">NSUbiquitousKeyValueStore</span> defaultStore];</span><br><span class="line"><span class="meta">#else</span></span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *storage = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line"><span class="meta">#endif</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSArray</span> *saved_transactions = [storage arrayForKey:<span class="string">@"transactions"</span>];</span><br><span class="line">    <span class="keyword">if</span> (!saved_transactions or [saved_transactions count] &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nullptr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> [saved_transactions objectAtIndex:<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)recordTransaction:(<span class="built_in">NSString</span> *)transaction</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#if USE_ICLOUD_STORAGE</span></span><br><span class="line">    <span class="built_in">NSUbiquitousKeyValueStore</span> *storage = [<span class="built_in">NSUbiquitousKeyValueStore</span> defaultStore];</span><br><span class="line"><span class="meta">#else</span></span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *storage = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line"><span class="meta">#endif</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSArray</span> *saved_transactions = [storage arrayForKey:<span class="string">@"transactions"</span>];</span><br><span class="line">    <span class="keyword">if</span> (!saved_transactions) &#123;</span><br><span class="line">        <span class="comment">// Storing the first receipt</span></span><br><span class="line">        [storage setObject:@[transaction] forKey:<span class="string">@"transactions"</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Adding another receipt</span></span><br><span class="line">        <span class="built_in">NSArray</span> *updated_transactions = [saved_transactions arrayByAddingObject:transaction];</span><br><span class="line">        [storage setObject:updated_transactions forKey:<span class="string">@"transactions"</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [storage synchronize];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)removeRecordTransaction:(<span class="built_in">NSString</span> *)purchase_id transactionId:(<span class="built_in">NSString</span>*) transaction_id</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#if USE_ICLOUD_STORAGE</span></span><br><span class="line">    <span class="built_in">NSUbiquitousKeyValueStore</span> *storage = [<span class="built_in">NSUbiquitousKeyValueStore</span> defaultStore];</span><br><span class="line"><span class="meta">#else</span></span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *storage = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line"><span class="meta">#endif</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *saved_transactions = [<span class="built_in">NSMutableArray</span> arrayWithArray:[storage arrayForKey:<span class="string">@"transactions"</span>]];</span><br><span class="line">    <span class="keyword">if</span> (!saved_transactions or [saved_transactions count] &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">NSString</span>* transaction <span class="keyword">in</span> saved_transactions) &#123;</span><br><span class="line">        <span class="keyword">if</span> ([transaction rangeOfString:purchase_id].location != <span class="built_in">NSNotFound</span> and (not transaction_id or ([transaction rangeOfString:transaction_id].location != <span class="built_in">NSNotFound</span>))) &#123;</span><br><span class="line">            [saved_transactions removeObjectAtIndex:index];</span><br><span class="line">            [storage setObject:saved_transactions forKey:<span class="string">@"transactions"</span>];</span><br><span class="line">            [storage synchronize];</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        index = index + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬å®ç°äº†å­˜å‚¨, è·å–, åˆ é™¤çš„é€»è¾‘, åªæ˜¯å‚æ•°æ˜¯ <code>NSString</code> ç±»å‹è€Œä¸æ˜¯ <code>SKPaymentTransaction</code>. å®ƒå…¶å®æ˜¯ Transaction çš„ä¸€äº›æœ‰ç”¨çš„æ•°æ®å’Œæˆ‘ä»¬è‡ªå·±çš„ä¸€äº›ä¿¡æ¯æ”¾çš„ä¸€ä¸ªåˆ°äº†ä¸€ä¸ª <code>NSDictionary</code> ä¸­, ç„¶åå°†è¿™ä¸ª dict è½¬åŒ–ä¸º json çš„å­—ç¬¦ä¸², è¿™æ ·åšæ˜¯ä¸ºäº†æ–¹ä¾¿å­˜å‚¨.</p>
<h2 id="é”¦ä¸Šæ·»èŠ±çš„ç¬¬å››é˜¶æ®µ"><a href="#é”¦ä¸Šæ·»èŠ±çš„ç¬¬å››é˜¶æ®µ" class="headerlink" title="é”¦ä¸Šæ·»èŠ±çš„ç¬¬å››é˜¶æ®µ"></a>é”¦ä¸Šæ·»èŠ±çš„ç¬¬å››é˜¶æ®µ</h2><p>å…¶å®ç¬¬ä¸‰é˜¶æ®µçš„é€»è¾‘å·²ç»å¾ˆä¸¥è°¨äº†, æˆ‘ä»¬ä¸ºäº†æ›´å¥½çš„äº†è§£ç©å®¶çš„å……å€¼è¡Œä¸º, åŠ äº†å¾ˆå¤šçš„æ—¥å¿—åœ¨è¿™é‡Œ:</p>
<ol>
<li>æˆ‘ä»¬å­˜ä¸‹äº†ç©å®¶çš„æ‰€æœ‰å……å€¼ç»“æœ, æˆåŠŸçš„, å¤±è´¥çš„, å–æ¶ˆçš„, å¼‚å¸¸çš„.</li>
<li>æˆ‘ä»¬å­˜ä¸‹äº†ç©å®¶åœ¨å……å€¼ç•Œé¢çš„å„ç§æ“ä½œ, æ¯”å¦‚ç‚¹å‡»æŒ‰é’®, ç•Œé¢è·³è½¬ç­‰.</li>
</ol>
<p>åœ¨åˆé€‚çš„æ—¶å€™, å°†è¿™äº›æ—¥å¿—å‘é€åˆ°æœåŠ¡å™¨. è¿™äº›æ—¥å¿—å°†ä¼šæˆä¸ºåé¢åˆ†æç©å®¶è¡Œä¸º, è§£å†³çº çº·çš„é‡è¦ä¾æ®.</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æˆ‘ç”¨ ProcessOn åˆ¶ä½œäº†ä¸€ä¸ªå…¨æ–°çš„æµç¨‹å›¾, åœ°å€åœ¨<a href="https://www.processon.com/view/link/594e7af4e4b0ad619ac50bd4" target="_blank" rel="noopener">è¿™é‡Œ</a>:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23ly1fgwqn64m5sj20ng09laai.jpg" alt=""></p>
<p>ç°åœ¨åœ¨å›ç­”ä¸‹ä¸Šé¢æå‡ºçš„å‡ ä¸ªé—®é¢˜:</p>
<h2 id="1-è¿”å›-Game-å±‚æ—¶å› ä¸ºå†…å­˜ä¸è¶³æ¸¸æˆé‡å¯äº†æ€ä¹ˆåŠ"><a href="#1-è¿”å›-Game-å±‚æ—¶å› ä¸ºå†…å­˜ä¸è¶³æ¸¸æˆé‡å¯äº†æ€ä¹ˆåŠ" class="headerlink" title="1. è¿”å› Game å±‚æ—¶å› ä¸ºå†…å­˜ä¸è¶³æ¸¸æˆé‡å¯äº†æ€ä¹ˆåŠ ?"></a>1. è¿”å› Game å±‚æ—¶å› ä¸ºå†…å­˜ä¸è¶³æ¸¸æˆé‡å¯äº†æ€ä¹ˆåŠ ?</h2><p>ç­”: æˆ‘ä»¬åœ¨æœ¬åœ°å­˜å‚¨äº†å……å€¼è®¢å•, æ¸¸æˆä¼šé‡å¯, ä½†è¿™ä¸ªæœ¬åœ°å­˜å‚¨ä¸ä¼šè‡ªåŠ¨åˆ é™¤.</p>
<h2 id="2-æœ‰ç©å®¶ååº”å……å€¼ä¸åˆ°è´¦æ€ä¹ˆåŠ"><a href="#2-æœ‰ç©å®¶ååº”å……å€¼ä¸åˆ°è´¦æ€ä¹ˆåŠ" class="headerlink" title="2. æœ‰ç©å®¶ååº”å……å€¼ä¸åˆ°è´¦æ€ä¹ˆåŠ ?"></a>2. æœ‰ç©å®¶ååº”å……å€¼ä¸åˆ°è´¦æ€ä¹ˆåŠ ?</h2><p>ç­”: è¿™é‡Œæˆ‘ä»¬è¦è§£å†³ä¸¤ä¸ªé—®é¢˜:</p>
<ol>
<li>æ˜¯å¦çœŸçš„æ²¡æœ‰åˆ°è´¦ ?</li>
</ol>
<p>å¯èƒ½æ˜¯å®é™…å·²ç»åˆ°è´¦äº†, åªæ˜¯ç©å®¶æ²¡æœ‰å‘ç°, è¿™ä¸ªéœ€è¦åç«¯æŸ¥è¯¢ç©å®¶çš„é’»çŸ³å˜åŒ–åå‘ç©å®¶è§£é‡Šæ¸…æ¥š.</p>
<ol>
<li>æ˜¯å¦çœŸçš„å……å€¼æˆåŠŸ ?</li>
</ol>
<p>è¿™ä¸ªé¦–å…ˆè¦ç©å®¶æä¾›è‹¹æœå……å€¼æ”¶æ®é‚®ä»¶æˆªå›¾, ä½†æ˜¯è¿™ä¸ªæ˜¯å¯ä»¥ä¼ªé€ çš„, ä½†æ˜¯å¯ä»¥é˜»æŒ¡ä¸€éƒ¨åˆ†å¿ƒæ€€ä¸è½¨çš„ç©å®¶. å†æ ¹æ®æˆ‘ä»¬å‰é¢æ”¶é›†çš„æ—¥å¿—, åŠ ä¸Šè¿™ä¸ªè´¦å·å†å²è¡Œä¸ºä½œå‡ºä¸€ä¸ªåˆ¤æ–­, æ˜¯å¦è¦ç»™è¿™ä¸ªç©å®¶è¡¥å•.</p>
<h2 id="3-å¦‚ä½•é˜²-IAP-ç ´è§£"><a href="#3-å¦‚ä½•é˜²-IAP-ç ´è§£" class="headerlink" title="3. å¦‚ä½•é˜² IAP ç ´è§£ ?"></a>3. å¦‚ä½•é˜² IAP ç ´è§£ ?</h2><p>è¿™ä¸ªå¯¹äºç½‘æ¸¸æ¥è¯´, å¾ˆç®€å•, å°±åƒåœ¨æœåŠ¡å™¨ç«¯å‘è‹¹æœå……å€¼æœåŠ¡å™¨å‘èµ·éªŒè¯. éœ€è¦æ³¨æ„çš„æ˜¯: æœåŠ¡å™¨ç«¯åœ¨å‘è‹¹æœéªŒè¯æ”¶æ®æ—¶, ä¸€å®šè¦å…ˆæ£€æŸ¥<code>è®¢å•çš„å”¯ä¸€æ€§</code>, <code>å……å€¼æ—¶é—´</code>, <code>å•†å“id</code> æ˜¯å¦æ­£å¸¸.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> iOS </tag>
            
            <tag> IAP </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x ä¸­çš„å¤šè¯­è¨€]]></title>
      <url>http://blog.justbilt.com/2017/06/03/quick-x-i18n/</url>
      <content type="html"><![CDATA[<p>å…¶å®æœ¬æ¥æˆ‘çš„æ ‡é¢˜æ˜¯ â€œQuick-cocos2d-x ä¸­çš„å›½é™…åŒ–ä¸æœ¬åœ°åŒ–â€, å¤šè¯­è¨€è™½ç„¶æ˜¯å…¶ä¸­çš„ä¸»è¦å†…å®¹, ä½†è¿˜æœ‰å¾ˆå¤šé¢å¤–çš„å·¥ä½œ.</p>
<p>æ¯”å¦‚: åœ¨éŸ©å›½ä¸Šçº¿çš„æ¸¸æˆå¿…é¡»åœ¨æ¸¸æˆç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶å¼¹å‡ºä¸€ä¸ªå†…å®¹ååˆ†é•¿çš„ç”¨æˆ·åè®®, ç”¨æˆ·åŒæ„åæ–¹å¯ç»§ç»­æ¸¸æˆ; æ¯”å¦‚å¾ˆå¤šèµŒåšæ€§è´¨çš„æ´»åŠ¨(æŠ½å¥–, æ‹‰éœ¸, è½¬ç›˜)éƒ½éœ€è¦ä¿®æ”¹ä¸ºå…¶ä»–è¡¨ç°å½¢å¼. è¿˜æœ‰ä¸€äº›æŠ€æœ¯æ–¹é¢çš„è¦æ±‚æ¯”å¦‚æ¸¸æˆç”¨æˆ·çš„æ•°æ®ä¸èƒ½å­˜åœ¨ cache ç›®å½•ä¸‹ç­‰ç­‰.</p>
<p>æ¯ä¸ªå›½å®¶å’Œåœ°åŒºçš„è¦æ±‚éƒ½ä¸å°½ç›¸åŒ, æœ‰çš„æ˜¯ç¡¬æ€§çš„æ³•å¾‹æ³•è§„è¦æ±‚, æœ‰çš„åˆ™æ˜¯ç…§é¡¾åˆ°å½“åœ°é£ä¿—ä¹ æƒ¯ä»¥æé«˜ç”¨æˆ·ä½“éªŒ. å½“ç„¶, è¿™äº›å¹¶ä¸åœ¨æˆ‘ä»¬è¿™æ¬¡è®¨è®ºèŒƒç•´ä¹‹å†…, ç­‰æˆ‘ä»¬çš„ç»å†è¶³å¤Ÿä¸°å¯Œä¹‹åå¯ä»¥å†æ¬¡å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹.</p>
<a id="more"></a>
<p>ä»Šå¤©, ä¸»è¦å’Œå¤§å®¶è¯´è¯´å¤šè¯­è¨€.</p>
<h1 id="ä¸€-ç­–ç•¥"><a href="#ä¸€-ç­–ç•¥" class="headerlink" title="ä¸€. ç­–ç•¥"></a>ä¸€. ç­–ç•¥</h1><h2 id="1-è¯­è¨€ä»£ç "><a href="#1-è¯­è¨€ä»£ç " class="headerlink" title="1. è¯­è¨€ä»£ç "></a>1. è¯­è¨€ä»£ç </h2><p>å°±æ˜¯ä¸åŒè¯­è¨€æˆ‘ä»¬éœ€è¦ä¸€ä¸ª id ä¸ä¹‹å¯¹åº”, è¿™ä¸ªæœ‰å¾ˆå¤šç§é€‰æ‹©, æˆ‘ä»¬é€‰æ‹©äº†<a href="https://msdn.microsoft.com/en-us/library/hh456380.aspx" target="_blank" rel="noopener">å¾®è½¯ç¿»è¯‘çš„ä»£ç </a>:</p>
<table>
<thead>
<tr>
<th>Language Code</th>
<th>English Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>zh-CHS</td>
<td>Chinese Simplified</td>
</tr>
<tr>
<td>zh-CHT</td>
<td>Chinese Traditional</td>
</tr>
<tr>
<td>en</td>
<td>English</td>
</tr>
</tbody>
</table>
<h2 id="2-å¤šè¯­è¨€æ–‡æœ¬-id"><a href="#2-å¤šè¯­è¨€æ–‡æœ¬-id" class="headerlink" title="2. å¤šè¯­è¨€æ–‡æœ¬ id"></a>2. å¤šè¯­è¨€æ–‡æœ¬ id</h2><p>æˆ‘ä»¬çš„ç­–ç•¥å¾ˆç®€å•, æ¯ä¸€ä¸ªå¤šè¯­è¨€æ–‡æœ¬éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€ id, æ¯ä¸€ä¸ªè¯­è¨€éƒ½æ˜¯ç”±å¤šä¸ª <code>id: text</code> ç»„æˆçš„ json æ–‡ä»¶, å¦‚ä¸‹æ‰€ç¤º:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"1493084502"</span>: <span class="string">"ç§¯åˆ†å…‘æ¢è¶…çº§å¤§å¥–"</span>,</span><br><span class="line">  <span class="attr">"1493084508"</span>: <span class="string">"[day]å¤©[hour]å°æ—¶åç»“æŸ"</span>,</span><br><span class="line">  <span class="attr">"1493172258"</span>: <span class="string">"æ´»åŠ¨ç§¯åˆ†"</span>,</span><br><span class="line">  <span class="attr">"1493723018"</span>: <span class="string">"7æ—¥æ´»åŠ¨ç§¯åˆ†"</span>,</span><br><span class="line">  <span class="attr">"1493731515"</span>: <span class="string">"è¯¥åŠŸèƒ½æš‚æœªå¼€å¯, è¯·è€å¿ƒç­‰å¾…."</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æ¸¸æˆåˆå§‹åŒ–çš„æ—¶å€™é€‰æ‹©ä¸åŒè¯­è¨€çš„ json åŠ è½½, ç„¶åæœ‰ä¸€ä¸ªå‡½æ•° <code>tr</code> æ¥å— id è¿”å› text, è¿™å°±æ˜¯æˆ‘ä»¬å…¨éƒ¨çš„ç­–ç•¥. å°±æ˜¯è¿™ä¹ˆç®€å•çš„ç­–ç•¥, æˆ‘ä»¬ä¹Ÿè¸©äº†ä¸å°‘å‘.</p>
<p>æœ€å¼€å§‹, æˆ‘ä»¬æ˜¯æ‰“ç®—å¼„ä¸€ä¸ªè‡ªå¢çš„ id, æˆ‘ä»¬è§„å®šäº†ä¸€ä¸ªä» <code>100000</code> å¼€å§‹, æ¯æ¬¡è‡ªå¢ 10 è¿™æ ·çš„ä¸€ä¸ª id ç”Ÿæˆç­–ç•¥, ä¹‹æ‰€ä»¥è‡ªå¢ 10 æ˜¯è€ƒè™‘åˆ°æ’å…¥ id çš„éœ€æ±‚. æˆ‘ä»¬è‡ªä»¥ä¸ºè¿™ä¸ªç­–ç•¥å¾ˆé²æ£’, å´è¿˜æ˜¯æ ½äº†è·Ÿå¤´:</p>
<blockquote>
<p>åˆå¹¶æ—¶ä¼šå†²çª</p>
</blockquote>
<p>æˆ‘ä»¬ä¸åŒçš„åŠŸèƒ½æ˜¯åœ¨ä¸åŒçš„åˆ†æ”¯ä¸Šåšçš„, å®Œæˆä¹‹åä¼šåˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Š. å¤§å®¶åœ¨ä¸åŒçš„åˆ†æ”¯ä¸Šå¼€å‘ä¸åŒçš„åŠŸèƒ½æ—¶, æ²¡æœ‰è€ƒè™‘åˆ°å¤šè¯­è¨€åæœŸåˆå¹¶å†²çªçš„é—®é¢˜, è€Œä¸”è¿™ä¸ªå†²çªè§£å†³èµ·æ¥å¾ˆéº»çƒ¦, å¾—ä¸ºå†²çªä¸­çš„ä¸€æ–¹åˆ†é…æ–°çš„ id, è¿˜å¾—å°†ä»£ç ä¸­çš„ id éƒ½æ›¿æ¢æ‰, è¿™ä¸ªè¿‡ç¨‹æ˜¯ååˆ†å®¹æ˜“å‡ºé”™çš„. æ€ä¹ˆåŠ ?</p>
<p>æˆ‘ä»¬ä¹Ÿæƒ³è¿‡è§„å®šä¸åŒçš„ id åŒºé—´, ä¸åŒçš„æ¨¡å—æœ‰ç€ä¸åŒçš„ id èµ·å§‹å€¼, è¿™æ ·è™½ç„¶ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†æ¨¡å—é—´å†²çªçš„é—®é¢˜, å°±ç®—å¿½ç•¥è§„å®šè¿™ä¸ª id èµ·å§‹å€¼æ‰€å¸¦æ¥çš„é¢å¤–å·¥ä½œ, å¤šäººåä½œçš„åŒä¸€æ¨¡å—æ€ä¹ˆåŠ ? å°ä¼™ä¼´ä»¬æ˜¯ä¸æ˜¯è¿˜å¾—æå¿ƒåŠèƒ†, å°å¿ƒç¿¼ç¿¼çš„å·¥ä½œ ? è¿™å¯ä¸æ˜¯æˆ‘ä»¬çš„é£æ ¼.</p>
<p>å°±åœ¨æˆ‘ä¸€ç­¹è«å±•çš„æ—¶å€™, æˆ‘å¶ç„¶é—´å‘ç°äº†ä¸€ä¸ªä¸œè¥¿: <code>æ—¶é—´æˆ³</code>, æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªåš id å‘€ ! è™½ç„¶ç†è®ºä¸Šè¿˜æ˜¯æœ‰å¯èƒ½å†²çª, ä½†æ˜¯ä¸¤ä¸ªå¤šè¯­è¨€ id åœ¨åŒä¸€ç§’å†…ç”Ÿæˆçš„æ¦‚ç‡åˆèƒ½æœ‰å¤šé«˜å‘¢ ?    </p>
<p>è¿™é‡Œè¿˜è¦è¯´è¯´ä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡ç”¨ä½¿ç”¨ <strong>è‹±æ–‡æ„ä¹‰</strong> ä½œä¸º id å‘¢ ? è¯šç„¶è‹±æ–‡ id æœ‰æ›´é«˜çš„å¯è¯»æ€§, æœ‰ä¸¤ä¸ªåŸå› å¯¼è‡´æˆ‘æ²¡æœ‰é€‰æ‹©å®ƒ:</p>
<ol>
<li>å°ä¼™ä¼´ä»¬çš„è‹±æ–‡æ°´å¹³å‚å·®ä¸é½, å¦‚æœä½¿ç”¨è‹±æ–‡ id çš„è¯, å¾ˆæœ‰å¯èƒ½ä¼šå‡ºç°è¯ä¸è¾¾æ„çš„æƒ…å†µ, åè€Œé™ä½å¯è¯»æ€§.</li>
<li>ä¸€ä¸ª id æ‰€ä»£è¡¨æ„æ€å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–, å¦‚æœå˜äº†, æ˜¯å¦è¦ä¿®æ”¹æ‰€æœ‰çš„å¼•ç”¨å‘¢ ?</li>
</ol>
<h2 id="3-å ä½ç¬¦ä¸æ ¼å¼åŒ–"><a href="#3-å ä½ç¬¦ä¸æ ¼å¼åŒ–" class="headerlink" title="3. å ä½ç¬¦ä¸æ ¼å¼åŒ–"></a>3. å ä½ç¬¦ä¸æ ¼å¼åŒ–</h2><p>æˆ‘ä»¬ä¸€å¼€å§‹ä¹Ÿæ˜¯ä½¿ç”¨ <code>%d</code> <code>%s</code> ä¹‹ç±»çš„ä¸œè¥¿åšå ä½ç¬¦, ä½†æ˜¯è¿™äº›ä¸œè¥¿æ˜¯ä¸¥æ ¼ä»¥æ¥å ä½ç¬¦åŠå‚æ•°çš„é¡ºåºæ¥æ›¿æ¢çš„, è€ŒåŒä¸€ä¸ªå ä½ç¬¦åœ¨ä¸åŒè¯­è¨€ä¸­çš„çš„ä½ç½®å¯èƒ½æ˜¯ä¸åŒçš„. æ¯”å¦‚:</p>
<blockquote>
<p>ä¸­æ–‡: â€œå†›å®˜ç»Ÿå¾¡ç­‰çº§æ¯å¢åŠ  %d(1)ï¼Œå¢åŠ å¸¦å…µé‡ %d(10)â€<br>è‹±æ–‡: â€œThe size of the troop increase %d(10) by officerâ€™s Command Level increase %d(1)â€</p>
</blockquote>
<p>å¤§å®¶å¯ä»¥çœ‹åˆ°, è¿™ä¸¤ç§è¯­è¨€ä¸‹ä¸¤ä¸ªå ä½ç¬¦çš„é¡ºåºæ˜¯å®Œå…¨ç›¸åçš„. å¦‚æœæˆ‘ä»¬ä½¿ç”¨è¿™ç§æ–¹å¼æ¥çš„è¯, å°±ä¼šå¯¹ç©å®¶é€ æˆè¯¯è§£. é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢?</p>
<blockquote>
<p>ä¸­æ–‡: â€œå†›å®˜ç»Ÿå¾¡ç­‰çº§æ¯å¢åŠ  [lv](1)ï¼Œå¢åŠ å¸¦å…µé‡ [amount](10)â€œ<br>è‹±æ–‡: â€œThe size of the troop increase [amount](10) by officerâ€™s Command Level increase [lv](1)â€œ</p>
</blockquote>
<p>æˆ‘ä»¬ä½¿ç”¨<code>æ˜ç¡®æ„ä¹‰çš„å ä½ç¬¦</code>æ¥å ä½.</p>
<h2 id="4-å›¾ç‰‡çš„å¤šè¯­è¨€"><a href="#4-å›¾ç‰‡çš„å¤šè¯­è¨€" class="headerlink" title="4. å›¾ç‰‡çš„å¤šè¯­è¨€"></a>4. å›¾ç‰‡çš„å¤šè¯­è¨€</h2><p>æˆ‘åœ¨ä¸€ç¯‡æ–‡ç« ä¸­çœ‹åˆ°è¯´è¦å°½å¯èƒ½çš„é¿å…ä½¿ç”¨å¸¦æœ‰æ–‡å­—çš„å›¾ç‰‡, ä½†æ˜¯è¿™ç§éœ€æ±‚æ˜¯æ— æ³•é¿å…çš„. å¦‚æœå®ç°ä¸åŒè¯­è¨€ä¸‹ç”¨ä¸åŒçš„å›¾ç‰‡å‘¢ ? æˆ‘ä»¬çš„åšæ³•æ˜¯ç»™è¿™ä¸ªå›¾ç‰‡çš„å‘½åä¸­åŠ å…¥æ ‡è®°, æ ‡è®°è¿™æ˜¯ä¸€ä¸ªå¤šè¯­è¨€å›¾ç‰‡, åœ¨é€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥è·å¾—çœŸæ­£çš„å›¾ç‰‡è·¯å¾„.</p>
<p>ä¾‹å¦‚: æœ‰ä¸€ä¸ªå›¾ç‰‡çš„è·¯å¾„æ˜¯ <code>images/logo.png</code>, æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸º <code>images/logo[zh-CHS].png</code>, æ ‡è®°è¿™æ˜¯ä¸€ä¸ªä¸­æ–‡ä¸‹çš„å›¾ç‰‡, åŒç†ä¼šæœ‰ä¸€ä¸ª <code>images/logo[en].png</code>. çœŸæ­£åŠ è½½å›¾ç‰‡çš„æ—¶å€™, ä¼šé€šè¿‡å‡½æ•°æ›¿æ¢ä½¿ç”¨å½“å‰è¯­è¨€æ›¿æ¢æ‰é‡Œé¢çš„å ä½ç¬¦.</p>
<h1 id="äºŒ-ä»£ç æ”¯æŒ"><a href="#äºŒ-ä»£ç æ”¯æŒ" class="headerlink" title="äºŒ. ä»£ç æ”¯æŒ"></a>äºŒ. ä»£ç æ”¯æŒ</h1><h2 id="1-å½“å‰è¯­è¨€çš„ç¡®å®š"><a href="#1-å½“å‰è¯­è¨€çš„ç¡®å®š" class="headerlink" title="1. å½“å‰è¯­è¨€çš„ç¡®å®š"></a>1. å½“å‰è¯­è¨€çš„ç¡®å®š</h2><p>ä¸€å¼€å§‹æˆ‘ä»¬æ˜¯ç›´æ¥ä½¿ç”¨çš„ <code>device.language</code> æ¥ç¡®å®šå½“å‰è¯­è¨€çš„, ä½†å®é™…æƒ…å†µè¦å¤æ‚çš„å¤š. </p>
<h3 id="1-è¯­è¨€æ®‹ç¼º"><a href="#1-è¯­è¨€æ®‹ç¼º" class="headerlink" title="1). è¯­è¨€æ®‹ç¼º"></a>1). è¯­è¨€æ®‹ç¼º</h3><p>cocos é»˜è®¤åªæ”¯æŒ<strong>cnï¼šä¸­æ–‡, frï¼šæ³•è¯­, itï¼šæ„å¤§åˆ©è¯­, grï¼šå¾·è¯­, spï¼šè¥¿ç­ç‰™è¯­, ruï¼šä¿„è¯­, jpï¼šæ—¥è¯­, enï¼šè‹±è¯­</strong> è¿™å‡ ç§è¯­è¨€, å¦‚æœæˆ‘ä»¬è¦æ”¯æŒä¸€ä¸ªè¿™é‡Œé¢æ²¡æœ‰çš„è¯­è¨€æ€ä¹ˆåŠ ?</p>
<p>æˆ‘ä»¬éœ€è¦åˆ†åˆ«ä» Android å’Œ iOS å“ªé‡Œè·å–åˆ°è®¾å¤‡çš„å½“å‰è¯­è¨€ <code>language code</code>, ç„¶ååœ¨ lua ä¸­è¿›è¡Œåˆ¤æ–­.</p>
<p>Android:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getLanguageCode</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> Locale.getDefault().toString();&#125;</span><br></pre></td></tr></table></figure>
<p>iOS:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span>* language_code = [[<span class="built_in">NSLocale</span> preferredLanguages] objectAtIndex:<span class="number">0</span>];</span><br></pre></td></tr></table></figure>
<h3 id="2-ç®€ä½“-ç¹ä½“çš„ç¡®å®š"><a href="#2-ç®€ä½“-ç¹ä½“çš„ç¡®å®š" class="headerlink" title="2). ç®€ä½“/ç¹ä½“çš„ç¡®å®š"></a>2). ç®€ä½“/ç¹ä½“çš„ç¡®å®š</h3><p>è¿™ä¸ªç¡®å®å€¼å¾—æ‹¿å‡ºæ¥ä¸€è¯´, è¿™ä¸ª language_code å…¶å®æ˜¯æœ‰ä¸€å¥—æ ‡å‡†çš„, ä½†è¿™ä¸ªæ ‡å‡†æœ‰å¥½å‡ ä¸ªç‰ˆæœ¬, Android å’Œ iOS è¿”å›çš„å¯èƒ½ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†, iOS ä¸åŒç‰ˆæœ¬å¯èƒ½è¿”å›çš„ä¸æ˜¯åŒä¸€ä¸ªæ ‡å‡†, cocos åŸç”Ÿçš„é‚£ä¸ªå†™æ³•å®é™…ä¸Šæ˜¯æœ‰æ¼æ´çš„, å°±ä¸­æ–‡æ¥è¯´ä¼šæœ‰è¿™ä¹ˆå‡ ä¸ªå†™æ³•:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zh-CHS, zh-Hans, zh-CHT, zh-Hant, zh-cn, zh-tw, , zh-mo, zh-sg, zh-hk</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆæˆ‘ä»¬éœ€è¦æŠŠè¿™äº›å¯èƒ½è½¬åŒ–ä¸ºä¸¤ç§ <code>ç®€ä½“/ç¹ä½“</code>, æˆ‘ä»¬æ˜¯è¿™ä¹ˆåšçš„:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> language = language_code</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">string</span>.startswith(language, <span class="string">"zh"</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">string</span>.<span class="built_in">find</span>(language,<span class="string">"Hans"</span>) <span class="keyword">then</span></span><br><span class="line">        language = <span class="string">"zh-CHS"</span></span><br><span class="line">    <span class="keyword">elseif</span> <span class="built_in">string</span>.<span class="built_in">find</span>(language,<span class="string">"Hant"</span>) <span class="keyword">then</span></span><br><span class="line">        language = <span class="string">"zh-CHT"</span></span><br><span class="line">    <span class="keyword">elseif</span> <span class="built_in">string</span>.<span class="built_in">find</span>(language,<span class="string">"TW"</span>) <span class="keyword">then</span></span><br><span class="line">        language = <span class="string">"zh-CHT"</span></span><br><span class="line">    <span class="keyword">elseif</span> language == <span class="string">"zh-cn"</span> <span class="keyword">or</span> language == <span class="string">"zh-mo"</span> <span class="keyword">or</span> language == <span class="string">"zh-sg"</span> <span class="keyword">then</span></span><br><span class="line">        language = <span class="string">"zh-CHS"</span></span><br><span class="line">    <span class="keyword">elseif</span> language == <span class="string">"zh-hk"</span> <span class="keyword">or</span> language == <span class="string">"zh-tw"</span> <span class="keyword">then</span></span><br><span class="line">        language = <span class="string">"zh-CHT"</span>    </span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        language = <span class="string">"zh-CHS"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>åŒç†, ä¸å…‰ä¸­æ–‡æ˜¯è¿™æ ·çš„, è‹±æ–‡ä¹ŸåŒæ ·æœ‰å¾ˆå¤šæ–¹è¨€. æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç”¨ <code>==</code> æ¥åˆ¤æ–­æŸä¸ªè¯­è¨€, è¦ç”¨ <code>startswith</code> .</p>
<h3 id="3-è€ƒè™‘æ”¯æŒçš„è¯­è¨€åˆ—è¡¨å’Œç©å®¶å­˜æ¡£"><a href="#3-è€ƒè™‘æ”¯æŒçš„è¯­è¨€åˆ—è¡¨å’Œç©å®¶å­˜æ¡£" class="headerlink" title="3). è€ƒè™‘æ”¯æŒçš„è¯­è¨€åˆ—è¡¨å’Œç©å®¶å­˜æ¡£"></a>3). è€ƒè™‘æ”¯æŒçš„è¯­è¨€åˆ—è¡¨å’Œç©å®¶å­˜æ¡£</h3><p>è¦è€ƒè™‘è¿™ä¹ˆä¸¤ä¸ªé—®é¢˜, é€šè¿‡ä¸Šä¸€æ­¥è·å–åˆ°ä¸€ä¸ªä½ ä¸æ”¯æŒçš„è¯­è¨€æ€ä¹ˆåŠ? æˆ‘ä»¬çš„åšæ³•æ˜¯å£°æ˜ä¸€ä¸ªé»˜è®¤è¯­è¨€<em>(è‹±è¯­)</em>, æŸä¸ªè¯­è¨€ä¸æ”¯æŒå°±ç”¨è¿™ä¸ªè¯­è¨€.</p>
<p>åŒæ—¶å¦‚æœæ¸¸æˆå†…æœ‰é€‰æ‹©è¯­è¨€åŠŸèƒ½çš„è¯, æˆ‘ä»¬è¦ä¼˜å…ˆä½¿ç”¨ç©å®¶é€‰æ‹©çš„è¯­è¨€.</p>
<p>å£°æ˜æ”¯æŒçš„è¯­è¨€:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">platform.language_support = </span><br><span class="line">&#123;</span><br><span class="line">  default = flavor.language.en,</span><br><span class="line">  support_list = &#123;</span><br><span class="line">    flavor.language.en,</span><br><span class="line">    flavor.language.zh_chs,</span><br><span class="line">    flavor.language.zh_cht,</span><br><span class="line">    flavor.language.ar,</span><br><span class="line">    flavor.language.ko,</span><br><span class="line">    flavor.language.th,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ¤æ–­è¯­è¨€:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> #(platform.language_support.support_list) &gt;= <span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">    platform.language = Record.getLanguage()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">table</span>.contain(platform.language_support.support_list, platform.language) <span class="keyword">then</span></span><br><span class="line">      platform.language = platform.language_support.default</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  platform.language = platform.language_support.default</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="2-tr"><a href="#2-tr" class="headerlink" title="2. tr"></a>2. tr</h2><p>tr å°±æ˜¯æ ¹æ® id è¿”å›çœŸæ­£æ–‡æœ¬çš„å‡½æ•°:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> text = json.decode(<span class="built_in">io</span>.readfile(cc.FileUtils:getInstance():fullPathForFilename((<span class="string">"native/"</span>..platform.language..<span class="string">".json"</span>))))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tr</span><span class="params">(_key)</span></span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> _key <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="string">"???"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> text[<span class="built_in">tostring</span>(_key)] <span class="keyword">or</span> <span class="string">"404:"</span>..<span class="built_in">tostring</span>(_key)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å¾ˆç®€å•, è¿˜æœ‰ä¸€äº›å¯ä»¥æ‹“å±•çš„ç©ºé—´, æ¯”å¦‚æœ€è¿‘å‘ç°çš„åŒä¸€ä¸ªä¸­æ–‡å¦‚ä½•å¯¹åº”ä¸åŒ case è‹±æ–‡çš„é—®é¢˜. ä¸¾ä¸ªæ —å­: é“å…·çš„è‹±æ–‡æ˜¯ <code>item</code>, æˆ‘ä»¬å¯èƒ½å¾ˆå¤šåœ°æ–¹éƒ½ä¼šç”¨åˆ°è¿™ä¸ªå•è¯, ä½†æ˜¯ä¸åŒçš„åœ°æ–¹å¯èƒ½ä¼šæœ‰ä¸€äº›å°çš„åŒºåˆ«:</p>
<ol>
<li>ä¸»ç•Œé¢å…¥å£ä¸Šéœ€è¦æ˜¾ç¤ºä¸ºå…¨å¤§å†™: ITEM</li>
<li>è¡Œé¦–çš„æ‹¼æ¥éœ€è¦é¦–å­—æ¯å¤§å†™: Item</li>
<li>è¡Œä¸­çš„æ‹¼æ¥éœ€è¦å…¨å°å†™: item</li>
</ol>
<p>è¿™ä¸ªéš¾é“è¦å¤šç”¨å¥½å‡ ä¸ª id æ¥å®ç°å— ? æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>tr</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ¥æŒ‡å®šæ ¼å¼. </p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tr(<span class="number">10000</span>, <span class="string">"upper"</span>) <span class="comment">-- å¤§å†™</span></span><br><span class="line">tr(<span class="number">10000</span>, <span class="string">"title"</span>) <span class="comment">-- é¦–å­—æ¯å¤§å†™</span></span><br><span class="line">tr(<span class="number">10000</span>) <span class="comment">-- å°å†™</span></span><br></pre></td></tr></table></figure>
<p>å†…éƒ¨å†å¤„ç†ä¸‹è¿™ä¸ªå‚æ•°å°±å¯ä»¥å®ç°åŒä¸€ä¸ªä¸­æ–‡å¯¹åº”ä¸åŒçš„è‹±æ–‡äº†.</p>
<h2 id="3-formatex"><a href="#3-formatex" class="headerlink" title="3. formatex"></a>3. formatex</h2><p>ä¸Šé¢è¯´è¿‡æœ‰ä¸€ä¸ªå‡½æ•°æ›¿æ¢å ä½ç¬¦, å…¶å®ç°å¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">string.formatex</span><span class="params">(format, map)</span></span></span><br><span class="line">    <span class="built_in">format</span> = <span class="built_in">string</span>.<span class="built_in">gsub</span>(<span class="built_in">format</span>, <span class="string">"%[(.-)]"</span>, map)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">format</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- example</span></span><br><span class="line"><span class="built_in">string</span>.formatex(<span class="string">"[attacker]ç äº†[defender]ä¸€åˆ€, é€ æˆäº†[damage]ä¼¤å®³"</span>, &#123;</span><br><span class="line">  attacker = <span class="string">"å¼ ä¸‰"</span>,</span><br><span class="line">  defender = <span class="string">"æå››"</span>,</span><br><span class="line">  damage = <span class="number">10</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>å¾ˆæ–¹ä¾¿çš„æœ‰æœ¨æœ‰ ?</p>
<h1 id="ä¸‰-UI-çš„é€‚é…"><a href="#ä¸‰-UI-çš„é€‚é…" class="headerlink" title="ä¸‰. UI çš„é€‚é…"></a>ä¸‰. UI çš„é€‚é…</h1><h2 id="1-å¤šä¸ªæ¨ªå‘æ’ç‰ˆ-Label"><a href="#1-å¤šä¸ªæ¨ªå‘æ’ç‰ˆ-Label" class="headerlink" title="1. å¤šä¸ªæ¨ªå‘æ’ç‰ˆ Label"></a>1. å¤šä¸ªæ¨ªå‘æ’ç‰ˆ Label</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸¤å¼ å›¾:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23ly1fgo6l8umlkj20u007p759.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23ly1fgo6o3ya7xj20u007pab6.jpg" alt=""></p>
<p>ä¸Šå›¾ä¸­çš„å·¦ä¾§çš„ Label åœ¨ä¸åŒè¯­è¨€ä¸‹çš„å®½åº¦æ˜¯ä¸ä¸€æ ·çš„, å¦‚æœæˆ‘ä»¬ä¸æƒ³åœ¨ä»£ç ä¸­æ‰‹åŠ¨è°ƒæ•´çš„è¯æœ‰è¿™ä¹ˆå‡ ä¸ªåŠæ³•:</p>
<ol>
<li>ä½¿ç”¨ä¸€ä¸ªå®¹å™¨å­˜æ”¾å¤šä¸ª Label, å®¹å™¨ä¼šè‡ªåŠ¨æ’ç‰ˆå¤šä¸ªå…ƒç´ çš„ä½ç½®</li>
<li>åœ¨ç¼–è¾‘ UI æ—¶å°±é¢„ç•™å¥½å¯ä¸€å®šçš„ç©ºé—´</li>
<li>å¦‚æœåªæœ‰ä¸¤ä¸ª Lable çš„è¯, å·¦ä¾§çš„å³å¯¹é½, å³ä¾§çš„å·¦å¯¹é½</li>
</ol>
<h2 id="2-Label-Overflow"><a href="#2-Label-Overflow" class="headerlink" title="2. Label Overflow"></a>2. Label Overflow</h2><p>è¿™ä¸ªæ¦‚å¿µæ˜¯ä» Cocos Creater å“ªé‡Œæ‰¾åˆ°çš„, å¦‚æœä¸€ä¸ª Label çš„å®é™…å°ºå¯¸è¶…å‡ºäº†å…¶åœ¨ UI ç¼–è¾‘æ—¶è®¾å®šçš„æœ€å¤§èŒƒå›´çš„è¯å¦‚ä½•å¤„ç†å‘¢ ?</p>
<ol>
<li>ç¼©å° Lable çš„å­—ä½“å°ºå¯¸</li>
<li>å¤šä½™çš„å­ä½¿ç”¨ â€¦ ä»£æ›¿</li>
<li>å¢å¤§ Label çš„é«˜åº¦</li>
</ol>
<p>æˆ‘åœ¨ Quick-x æäº†ä¸€ä¸ªå¾ˆç®€é™‹çš„å®ç°, åŸç†å°±æ˜¯å¼„ä¸€ä¸ªæ­»å¾ªç¯, åˆ¤æ–­å°ºå¯¸è¶…äº†å°±ç¼©å°ä¸€ä¸ªå•ä½, ä½†æ˜¯æ•ˆç‡ä¸é«˜, å°±ä¸è´´å®ç°äº†. </p>
<h2 id="3-é˜¿æ‹‰ä¼¯è¯­çš„é€‚é…"><a href="#3-é˜¿æ‹‰ä¼¯è¯­çš„é€‚é…" class="headerlink" title="3. é˜¿æ‹‰ä¼¯è¯­çš„é€‚é…"></a>3. é˜¿æ‹‰ä¼¯è¯­çš„é€‚é…</h2><p>å¤§å®¶éƒ½çŸ¥é“é˜¿æ‹‰ä¼¯è¯­çš„é˜…è¯»é¡ºåºæ˜¯ä»å³å¾€å·¦çš„, å› æ­¤æˆ‘ä»¬çš„ UI æœ€å¥½ä¹Ÿèƒ½æ˜¯ä»å³å¾€å·¦çš„. ä½†æ˜¯é™¤éä»ç«‹é¡¹ä¸€å¼€å§‹å°±æ–™æƒ³åˆ°äº†è¿™ä¸€ç‚¹, å¦åˆ™æ›´æ”¹å…¨éƒ¨ UI æ˜¯ä¸ç°å®çš„. </p>
<p>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¿®æ”¹éƒ¨åˆ† UI, å¦‚ä¸Šé¢æˆ‘ä»¬è¯´çš„ <strong>æ¨ªå‘æ’åˆ—çš„å¤šä¸ªUI</strong> , å¦‚æœæˆ‘ä»¬é‡‡ç”¨ä¸€ä¸ªå®¹å™¨æ¥å®ç°çš„è¯, é‚£ä¹ˆå¾ˆå®¹æ˜“çš„å®ç°å®¹å™¨å†…çš„å…ƒç´ é¡ºåºé€†è½¬.</p>
<p>æˆ‘ä»¬æŒ‰ç…§è¿™ä¸ªæ€è·¯å®ç°äº†ä¸€ä¸ª BoxLayout , åœ¨é˜¿è¯­ä¸‹ layout æ—¶ä¼šä»å…ƒç´ çš„æœ€åä¸€ä¸ªå¼€å§‹, åå‘æ’ç‰ˆ.</p>
<p>å¦å¤–ä¸€ä¸ªç‰¹æ®Šå¤„ç†å°±æ˜¯ RichLabel, æˆ‘ä»¬è‡ªå·±å®ç°äº†ä¸€ä¸ªæŒ‰å­—ç¬¦éå†çš„å¯Œæ–‡æœ¬. ä½†æ˜¯é˜¿è¯­ä¸‹è¿™ä¸ªå®ç°å‡ ä¹å˜å¾—ä¸å¯ç”¨, äºæ˜¯åœ¨é˜¿è¯­ä¸‹æˆ‘ä»¬ä½¿ç”¨æ™®é€šæ–‡æœ¬æ¥æ›¿æ¢äº†å¯Œæ–‡æœ¬.</p>
<h1 id="ä¸‰-å¤–éƒ¨å·¥å…·"><a href="#ä¸‰-å¤–éƒ¨å·¥å…·" class="headerlink" title="ä¸‰. å¤–éƒ¨å·¥å…·"></a>ä¸‰. å¤–éƒ¨å·¥å…·</h1><h2 id="1-å¤šè¯­è¨€è½¬æ¢å·¥å…·"><a href="#1-å¤šè¯­è¨€è½¬æ¢å·¥å…·" class="headerlink" title="1. å¤šè¯­è¨€è½¬æ¢å·¥å…·"></a>1. å¤šè¯­è¨€è½¬æ¢å·¥å…·</h2><p>json ä½œä¸ºç¨‹åºè¯»å–çš„æ ¼å¼æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„, ä½†æ˜¯ç”¨æ¥ç»™ç¿»è¯‘äººå‘˜æ¥ç¿»è¯‘å°±å¾ˆä¸æ–¹ä¾¿äº†, excel åˆ™æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„é€‰æ‹©. å› æ­¤æˆ‘ä»¬å®ç°äº†ä¸€å¥— <code>json &gt; excel</code> å’Œ <code>excel &gt; json</code> å·¥å…·ç”¨æ¥åšè¿™ä¸ªè½¬æ¢.</p>
<p>åŒæ—¶, ä¸ºäº†èƒ½æ›´é«˜æ•ˆçš„å¤„ç†å„ç§éœ€æ±‚, æˆ‘ä»¬è¿˜æœ‰ diff, format, deduplicate å·¥å…·.</p>
<h2 id="2-å¤šè¯­è¨€æå–å·¥å…·"><a href="#2-å¤šè¯­è¨€æå–å·¥å…·" class="headerlink" title="2. å¤šè¯­è¨€æå–å·¥å…·"></a>2. å¤šè¯­è¨€æå–å·¥å…·</h2><p>æˆ‘ä»¬çš„å¤šè¯­è¨€æœ‰å¾ˆå¤šæ˜¯é…ç½®åœ¨ excel ä¸­çš„, è¿™äº› excel æœ€ç»ˆä¼šè½¬æ¢ä¸ºæ¸¸æˆçš„é™æ€é…ç½®, æˆ‘ä»¬å¸Œæœ›æœ€ç»ˆåœ¨æ¸¸æˆä¸­è¯»å–çš„ä¸€ä¸ªå¤šè¯­è¨€çš„ id, è€Œä¸æ˜¯ä¸€ä¸²æ–‡æœ¬. è¿™æ ·åšèƒ½å¤Ÿé™ä½é™æ€é…ç½®çš„æ–‡ä»¶å¤§å°, å› ä¸ºæˆ‘ä»¬çš„æ–‡æœ¬æœ‰å¾ˆå¤šæ˜¯é‡å¤çš„.</p>
<p>å› æ­¤æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªæŠ½å–å·¥å…·, èƒ½å¤Ÿä¸º excel ä¸­çš„æ–‡æœ¬æ‰“ä¸Šæ ‡è®°, è¿™æ ·åœ¨è½¬æ¢çš„è¿‡ç¨‹ä¸­å°±å¯ä»¥ä½¿ç”¨ id, è€Œä¸æ˜¯æ–‡æœ¬äº†. æ•ˆæœå¦‚ä¸‹å›¾, # å‰æ˜¯æ–‡æœ¬, åé¢æ˜¯ id:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23ly1fgp3n582xwj205902hgld.jpg" alt=""></p>
<p>æˆ‘ä»¬ç”¨çš„ç¼–è¾‘å™¨ CocosBuilder , å¾ˆå¤è€çš„ä¸€ä¸ª UI ç¼–è¾‘å™¨, å› æ­¤ä¹Ÿæ²¡æœ‰å¤šè¯­è¨€çš„åŠŸèƒ½, æ‰€ä»¥æˆ‘ä»¬åšäº†ä¸€ä¸ªä» ccb ä¸­æå–å¤šè¯­è¨€çš„å·¥å…·. ccb æœ¬èº«æ˜¯ä¸€ä¸ª plist çš„æ–‡ä»¶ç»“æ„, å¾ˆå¤šè¯­è¨€éƒ½æœ‰å¯¹åº”çš„è§£æåº“, å†™èµ·æ¥å¾ˆå®¹æ˜“.</p>
<hr>
<p>å‚è€ƒèµ„æ–™:</p>
<ol>
<li><a href="https://zh.wikipedia.org/wiki/ISO_639" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/ISO_639</a></li>
<li><a href="https://www.zhihu.com/question/20797118" target="_blank" rel="noopener">https://www.zhihu.com/question/20797118</a></li>
<li><a href="http://www.gameres.com/thread_480715_1_1.html" target="_blank" rel="noopener">http://www.gameres.com/thread_480715_1_1.html</a> (å‰è¾ˆçš„è¸©å‘æŒ‡å—, æ¨èé˜…è¯»)</li>
</ol>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> i18n </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x è‡ªå®šä¹‰å¤´åƒ]]></title>
      <url>http://blog.justbilt.com/2017/04/23/quick-x-user-avatar/</url>
      <content type="html"><![CDATA[<p>å‰æ®µæ—¶é—´æˆ‘ä»¬å›¢é˜Ÿå®ç°äº†æ¸¸æˆä¸­è‡ªå®šä¹‰å¤´åƒæ¨¡å—, è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„åŠŸèƒ½, åŠ ä¸Šç½‘ä¸Šè¿™æ–¹é¢çš„èµ„æ–™ä¹Ÿä¸å¤š, æ‰€ä»¥ç»™å¤§å®¶åˆ†äº«ä¸‹æˆ‘ä»¬çš„åšæ³•. </p>
<p>è‡ªå®šä¹‰å¤´åƒè¿™ä¸ªåŠŸèƒ½ç‰µæ‰¯åˆ°çš„å†…å®¹è¿˜æ˜¯æ¯”è¾ƒå¤šçš„, ä¸€ä¸ªäººåšçš„è¯éœ€è¦æŠ€æœ¯å‚¨å¤‡æ¯”è¾ƒå¤§, å› æ­¤æˆ‘ä»¬å°†è¿™ä¸ªä»»åŠ¡åšäº†å¦‚ä¸‹çš„æ‹†åˆ†:</p>
<ol>
<li>é€‰æ‹©å¤´åƒ</li>
<li>ä¸Šä¼ å¤´åƒ</li>
<li>ä¸‹è½½å¤´åƒ</li>
<li>æ˜¾ç¤ºå¤´åƒ</li>
</ol>
<p>æ¯ä¸ªäººè´Ÿè´£å…¶ä¸­çš„ä¸€å°éƒ¨åˆ†å†…å®¹, å†æŠŠè¿™äº›å°æ¨¡å—ç»„åˆèµ·æ¥å°±å®Œæˆäº†ä»»åŠ¡. </p>
<a id="more"></a>
<h1 id="ä¸€-é€‰æ‹©å¤´åƒ"><a href="#ä¸€-é€‰æ‹©å¤´åƒ" class="headerlink" title="ä¸€. é€‰æ‹©å¤´åƒ"></a>ä¸€. é€‰æ‹©å¤´åƒ</h1><p>å¤´åƒé€‰æ‹©è¿™éƒ¨åˆ†çš„å†…å®¹åŸºæœ¬ä¸Šå’Œ Quick æ²¡æœ‰å…³ç³», ä¸»è¦å†…å®¹æœ‰:</p>
<ol>
<li>æ‹ç…§/ç›¸å†Œ</li>
<li>å‰ªè£</li>
<li>è·å–å›¾åƒæ•°æ®</li>
</ol>
<p>è¿™éƒ¨åˆ†é€»è¾‘ Android/iOS éƒ½è¦å•ç‹¬å®ç°, æˆ‘ä»¬è‡ªå·±ä»å¤´å†™èµ·ææ€•ä¸å¤ªç°å®, æ¯•ç«Ÿæˆ‘ä»¬ä¸æ˜¯ä¸“ä¸šåšè¿™ä¸ªçš„, ä¸è¿‡ä¸ç”¨æ‹…å¿ƒ, å·²ç»æœ‰å‰è¾ˆä»¬ä¸ºæˆ‘ä»¬é€ å¥½äº†è½®å­. </p>
<p>Android ä¸Šæˆ‘ä»¬é€‰æ‹©æ˜¯çš„ <a href="https://github.com/crazycodeboy/TakePhoto" target="_blank" rel="noopener">TakePhoto</a> è¿™ä¸ªåº“, iOS ä¸Šæˆ‘ä»¬é€‰æ‹©çš„æ˜¯ <a href="https://github.com/windshg/VPImageCropper" target="_blank" rel="noopener">VPImageCropper</a>, å…·ä½“æ¥å…¥æ–¹å¼å¤§å®¶æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å°±å¯ä»¥. è¿™ä¸¤ä¸ªåº“æˆ‘ä»¬åšäº†å¾ˆå¾®å°çš„ä¿®æ”¹, ä»¥é€‚åº”é¡¹ç›®çš„å®é™…éœ€æ±‚, åŒæ—¶å› ä¸º Lua è¿™è¾¹å¯¹äºŒè¿›åˆ¶çš„æ•°æ®å¤„ç†æ¯”è¾ƒéº»çƒ¦, æˆ‘ä»¬é€‰æ‹©å°†å›¾ç‰‡æ•°æ®è¿›è¡Œ base64 ç¼–ç åè¿”å›ç»™ Lua ç«¯.</p>
<h1 id="äºŒ-ä¸Šä¼ å¤´åƒ"><a href="#äºŒ-ä¸Šä¼ å¤´åƒ" class="headerlink" title="äºŒ. ä¸Šä¼ å¤´åƒ"></a>äºŒ. ä¸Šä¼ å¤´åƒ</h1><p>ä¸Šä¼ å¤´åƒå…¶å®æ˜¯æ¯”è¾ƒç®€å•çš„, æˆ‘ä»¬å°è¯•è¿‡ tcp å’Œ http è¿™ä¸¤ç§ä¸Šä¼ æ–¹å¼. æˆ‘ä»¬åœ¨å°è¯• tcp ä¸Šä¼ çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜, å°±æ˜¯å‘é€æ•°æ®è¿‡å¤§ä¼šå¯¼è‡´ tcp è¿æ¥æ–­å¼€. </p>
<p>è¿™ä¸ªé—®é¢˜ååˆ†è¯¡å¼‚, åŒæ ·é•¿åº¦çš„æ•°æ®, åœ¨ macOS å’Œ iOS ä¸Šæ²¡æœ‰ä»»ä½•é—®é¢˜, ä½†æ˜¯åœ¨ Android ä¸Šå°±ä¸è¡Œ, scoket åœ¨å‘é€æ•°æ®ä¸€æ®µæ—¶é—´åæ”¶åˆ°äº† RST æŒ‡ä»¤, ç´§æ¥ç€é“¾æ¥å°±ä¼šæ–­å¼€. å’ŒæœåŠ¡å™¨åŒå­¦ç ”ç©¶ä¸€æ®µæ—¶é—´åæ— æœ, å°±æ”¾å¼ƒäº†è¿™ä¸ªé—®é¢˜, è½¬ä¸ºä½¿ç”¨ http ä¸Šä¼ .</p>
<p>ä½¿ç”¨äº† http ä¹‹å, è¿˜æ˜¯ä¸Šä¼ å¤±è´¥, æœåŠ¡å™¨æ”¶åˆ°çš„ post è¯·æ±‚ä¸­æ²¡æœ‰ body, è€Œå®¢æˆ·ç«¯åŠ æ—¥å¿—æ˜¾ç¤ºæ•°æ®æ²¡æœ‰é—®é¢˜éƒ½å¡åˆ° body ä¸­äº†. ä½¿ç”¨æŠ“åŒ…å·¥å…·åˆ†æåç¡®å®é•¿åº¦æœ‰é—®é¢˜, è¿™å°±ååˆ†è¯¡å¼‚äº†. åœ¨å¶ç„¶é—´å‘ç°å¾®ä¿¡ä¹Ÿä¼šé‡åˆ°å›¾ç‰‡å‘å¸ƒå‡ºå»çš„æƒ…å†µå, æˆ‘ä»¬åˆ†ææ˜¯ wifi æœ‰é—®é¢˜, æ¢äº†å¦ä¸€ä¸ªç½‘ç»œä¹‹åå°±æ²¡æœ‰é—®é¢˜äº†.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> req = network.createHTTPRequest(reponse, url, <span class="string">"POST"</span>)</span><br><span class="line"></span><br><span class="line">req:setTimeout(timeout)</span><br><span class="line">req:addRequestHeader(<span class="string">"Content-Type: mmf/bin"</span>)</span><br><span class="line">req:addRequestHeader(<span class="string">"Accept: mmf/bin"</span>)</span><br><span class="line">req:setPOSTData(imagedata)</span><br><span class="line"></span><br><span class="line">req:start()</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€æ®µæ¯”è¾ƒç®€å•çš„ http ä¸Šä¼ æ•°æ®çš„ä»£ç ç¤ºä¾‹, è¿™æœŸé—´æˆ‘è¿˜é‡åˆ°äº†å¦ä¸€ä¸ªè¯¡å¼‚çš„é—®é¢˜, å°±æ˜¯å®¢æˆ·ç«¯è¿™é‡Œæ˜æ˜å‘é€çš„æ˜¯ POST è¯·æ±‚, ä½†æ˜¯æœåŠ¡å™¨æ”¶åˆ°çš„å´æ˜¯ GET, body ä¸­æ²¡æœ‰æ•°æ®, åŒæ ·çš„ä»£ç æˆ‘ä»¬åœ¨ Mac ä¸Šä½¿ç”¨æ¨¡æ‹Ÿå™¨æ˜¯æ²¡æœ‰é—®é¢˜çš„, éå¸¸è¯¡å¼‚å‘€. http åœ¨ Android ä¸Šçš„å®ç°ä½äº QuickHTTPInterface.java ä¸­, ç»è¿‡åœ¨ Android æ–­ç‚¹è°ƒè¯•, å‘ç°å¹¶æ²¡æœ‰è°ƒç”¨ setRequestMethod . </p>
<p>åŸæ¥è¿™ç§ http è¯·æ±‚æˆ‘ä»¬æ˜¯å°è£…äº†ä¸€å±‚çš„, è¿™ä¸ª <code>POST</code> å’Œ <code>GET</code> æ˜¯é€šè¿‡å‚æ•°ä¼ å…¥çš„, å¤–éƒ¨ä¼ å…¥çš„å…¶å®æ˜¯ä¸€ä¸ªæšä¸¾. ç„¶è€Œåœ¨æˆ‘ä¹‹å‰çš„é‡æ„ä¸­, ä¿®æ”¹äº†è¿™ä¸ªæšä¸¾çš„åå­—, å¯¼è‡´ä¼ å…¥çš„å€¼æ˜¯ nil, è¿™å°±å¯¼è‡´æ²¡æœ‰è°ƒç”¨ createHTTPRequest æ—¶æ²¡æœ‰ä¼ å…¥ methed å‚æ•°, é»˜è®¤å°±æ˜¯ GET ç±»å‹çš„, å› ä¸ºå¹³å°çš„ http å®ç°ä¸åŒ, å¯¼è‡´æœ‰äº›å¹³å°æ­£å¸¸, æœ‰äº›å¹³å°ä¼šå‡ºé”™.</p>
<p>ä¸Šä¼ å¤´åƒçš„å†…å®¹å°±æ˜¯è¿™äº›.</p>
<h1 id="ä¸‰-ä¸‹è½½å¤´åƒ"><a href="#ä¸‰-ä¸‹è½½å¤´åƒ" class="headerlink" title="ä¸‰. ä¸‹è½½å¤´åƒ"></a>ä¸‰. ä¸‹è½½å¤´åƒ</h1><p>å¯¹äºè¿™ä¸ªé—®é¢˜, æˆ‘ä»¬å¼€å§‹è¿˜æ‰“ç®—åœ¨ c++ ç«¯ç”¨ curl å®ç°, ç„¶ååˆ°å¤„åˆ° Lua è¿™è¾¹ä½¿ç”¨, ç›´åˆ°å‘ç°äº† HttpClient çš„ <code>saveResponseData</code> æ¥å£. è°ƒç”¨äº†è¿™ä¸ªæ¥å£å¯ä»¥ç›´æ¥æŠŠ Response ä¸­çš„æ•°æ®ä¿å­˜åœ¨æœ¬åœ°, è¿™æ ·ä¸‹è½½å•ä¸ªæ–‡ä»¶å°±æå®šäº†. ä¸‹è½½ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- httpä¸‹è½½</span></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">	@param string _url _urlåœ°å€</span></span><br><span class="line"><span class="comment">	@param string _savepath æŒ‡å®šçš„å­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="comment">	@param function _callfunc ä¸‹è½½å®Œæˆå›è°ƒæ–¹æ³•</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">_download</span><span class="params">(_url, _savepath, _callfunc)</span></span></span><br><span class="line">	<span class="keyword">local</span> req = network.createHTTPRequest(</span><br><span class="line">		<span class="function"><span class="keyword">function</span><span class="params">(event)</span></span></span><br><span class="line">            <span class="keyword">if</span> event.name == <span class="string">"completed"</span> <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">--åˆ¤æ–­æ˜¯å¦ä¸‹è½½æˆåŠŸ</span></span><br><span class="line">                <span class="keyword">local</span> success = <span class="literal">false</span></span><br><span class="line">                <span class="keyword">local</span> code = event.request:getResponseStatusCode()</span><br><span class="line">                <span class="keyword">if</span> code == <span class="number">200</span> <span class="keyword">and</span> event.request:saveResponseData(_savepath) <span class="keyword">then</span></span><br><span class="line">                	success = <span class="literal">true</span></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">                <span class="keyword">if</span> _callfunc <span class="keyword">then</span></span><br><span class="line">                	_callfunc(success, &#123;url = _url, req = event.request, <span class="built_in">path</span> = _savepath&#125;)</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span>, _url, <span class="string">"GET"</span>)</span><br><span class="line">    req:setTimeout(<span class="number">60</span>)</span><br><span class="line">    req:start()</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯æ•´ä¸ªä¸‹è½½åŠŸèƒ½å‘¢å¹¶æ²¡æœ‰è¿™ä¹ˆç®€å•, æˆ‘ä»¬åº”è¯¥è€ƒè™‘åˆ° <code>æœ¬åœ°ç¼“å­˜</code>, <code>å»é‡</code>, <code>é˜Ÿåˆ—é™åˆ¶</code>ç­‰æƒ…å†µ, è¿™æ ·æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªé€šç”¨çš„ä¸‹è½½æ¨¡å—, ä¸ä»…ä»…æ˜¯ä¸ºè‡ªå®šä¹‰å¤´åƒåŠŸèƒ½, å…¶ä»–çš„æ¨¡å—ä¹Ÿå¯ä»¥ä½¿ç”¨.</p>
<h1 id="å››-æ˜¾ç¤ºå¤´åƒ"><a href="#å››-æ˜¾ç¤ºå¤´åƒ" class="headerlink" title="å››. æ˜¾ç¤ºå¤´åƒ"></a>å››. æ˜¾ç¤ºå¤´åƒ</h1><p>è¿™ä¸ªåŠŸèƒ½å…¶å®å¾ˆç®€å•äº†, ä¸ºäº†ä»€ä¹ˆè¦å•ç‹¬æ‹¿å‡ºæ¥è¯´å‘¢? å°±æ˜¯æˆ‘ä»¬è¦å®ç°çš„å¾ˆä¼˜é›…. è‡ªå®šä¹‰å¤´åƒè¿™ä¸ªåŠŸèƒ½å¯èƒ½ä¸æ˜¯ä¸€å¼€å§‹å°±æå‡ºçš„, å› ä¸ºæ”¹äº† Native å±‚çš„ä»£ç , æ‰€ä»¥éœ€è¦çº¿ä¸Šæ¢åŒ…, è¿™å°±æ¯”è¾ƒéº»çƒ¦äº†, æ‰€ä»¥æˆ‘ä»¬è¿™ä¸ªæ¨¡å—è¦å’Œä¹‹å‰çš„å¤´åƒä¿æŒå…¼å®¹. </p>
<p>æˆ‘ä»¬æ¸¸æˆä¸­çš„æ˜¾ç¤ºå¤´åƒçš„åœ°æ–¹æœ‰å¾ˆå¤š, æˆ‘ä»¬ä¸èƒ½æŠŠä¸‹è½½çš„è°ƒç”¨å†™çš„åˆ°å¤„éƒ½æ˜¯, æ¯”è¾ƒä¼˜é›…çš„åšæ³•æ˜¯å®ç°ä¸€ä¸ªå¤´åƒæ§ä»¶, åœ¨è¿™ä¸ªæ§ä»¶å†…éƒ¨å¤„ç†æ™®é€šå¤´åƒå’Œè‡ªå®šä¹‰å¤´åƒçš„é€»è¾‘. ä¸ºäº†æé«˜ç”¨æˆ·ä½“éªŒ, ä¸‹è½½çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥æ˜¾ç¤ºä¸€å¼ æ›¿ä»£å›¾æˆ–è€…ä¹‹å‰çš„æ™®é€šå¤´åƒ.</p>
<hr>
<p>ä¸‹é¢ä¸Šä¸€å¼ æœ€ç»ˆçš„æ•ˆæœå›¾:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23ly1ffd57bsbyij20f00qo0u0.jpg" alt=""></p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ´ç™–æ‚£è€…çš„ Git GUI æŒ‡å—]]></title>
      <url>http://blog.justbilt.com/2017/04/12/the-git-for-neat-freak/</url>
      <content type="html"><![CDATA[<p>å‰æ®µæ—¶é—´æˆ‘çœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç« , <a href="http://hungyuhei.github.io/2012/08/07/better-git-commit-graph-using-pull---rebase-and-merge---no-ff.html" target="_blank" rel="noopener">æ´ç™–è€…ç”¨ Gitï¼špull â€“rebase å’Œ merge â€“no-ff</a> , å‘ç°å’Œæˆ‘ä»¬ç›®å‰çš„å·¥ä½œæµç¨‹å¾ˆåƒ, åŒºåˆ«åœ¨äºæˆ‘ä»¬æ˜¯ä½¿ç”¨ GUI å·¥å…·æ¥åšçš„è¿™äº›, ä¹Ÿåšäº†ä¸€äº›æ–°çš„å°è¯•.</p>
<a id="more"></a>
<p>æ³¨: é˜…è¯»ä¸‹é¢çš„æ–‡ç« å‰, æˆ‘é»˜è®¤ä½ å·²ç»è¯»è¿‡ä¸Šé¢æ¨èçš„é‚£ç¯‡æ–‡ç« , æœ¬ç¯‡æ–‡ç« ä¸ä¼šèµ˜è¿°å…¶ä¸­çš„å†…å®¹.</p>
<h1 id="ä¸€-pull-â€“rebase-å’Œ-merge-â€“no-ff"><a href="#ä¸€-pull-â€“rebase-å’Œ-merge-â€“no-ff" class="headerlink" title="ä¸€. pull â€“rebase å’Œ merge â€“no-ff"></a>ä¸€. pull â€“rebase å’Œ merge â€“no-ff</h1><p>ä½¿ç”¨è½¯ä»¶: <a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener">SourceTree</a></p>
<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>SourceTree éœ€è¦æ›´æ”¹è¿™äº›åå¥½è®¾ç½®: </p>
<blockquote>
<p>Allow force push</p>
</blockquote>
<p>ä½äº General æ ‡ç­¾, å¦‚æœæœ‰è¿½è¸ªçš„è¿œç«¯, æœ¬åœ° rebase åä¼šé€ æˆæœ¬åœ°æäº¤å†å²å’Œå†å²ä¸ä¸€è‡´, å¿…é¡»å¼ºåˆ¶æ¨ (Force Push) æ‰èƒ½æ¨é€åˆ°è¿œç«¯. å‹¾é€‰è¿™ä¸ªé€‰é¡¹å, ä¼šåœ¨ push ç•Œé¢ä¸Šå¤šå‡ºä¸€ä¸ª Force push é€‰é¡¹.</p>
<p><img src="https://ww1.sinaimg.cn/large/006tKfTcgy1feoct36xyhj30lx0k0whu.jpg" alt=""></p>
<blockquote>
<p>Use rebase instead of merge by default for tracked branches</p>
</blockquote>
<p>è¿™ä¸ªå°±æ˜¯é‚£ç¯‡æ–‡ç« ä¸­çš„ <code>git pull --rebase</code> , å‹¾é€‰å pull ç•Œé¢ä¸Šçš„ Rebase instead of merge é€‰é¡¹ä¼šé»˜è®¤å¤„äºå‹¾é€‰çŠ¶æ€ .</p>
<blockquote>
<p>Do not fast-forward when merging, always create commit</p>
</blockquote>
<p>è¿™ä¸ªå°±æ˜¯ <code>merge --no-ff</code> , åˆå¹¶åˆ†æ”¯å, æ€»æ˜¯ä¼šäº§ç”Ÿä¸€æ¬¡ Merge Commit .</p>
<blockquote>
<p>Display author date instead of commit data in log (å¯é€‰)</p>
</blockquote>
<p>ä¸€æ—¦ rebase å, æäº¤æ—¶é—´å°±ä¼šå˜æˆ rebase çš„æ—¶é—´, å½±å“åˆ¤æ–­, å¦‚æœå‹¾é€‰è¿™ä¸ªé€‰é¡¹, å°±ä¼šä¸€ç›´æ˜¾ç¤º commit åˆ›å»ºæ—¶çš„æ—¥æœŸ, è¿™æ¡ä¸æ˜¯å¿…é¡»çš„, å¤§å®¶æ ¹æ®è‡ªå·±éœ€è¦é€‰æ‹©.</p>
<h2 id="pull-â€“rebase"><a href="#pull-â€“rebase" class="headerlink" title="pull â€“rebase"></a>pull â€“rebase</h2><blockquote>
<p>git pull â€“rebase</p>
</blockquote>
<p><img src="https://ww1.sinaimg.cn/large/006tKfTcly1feohl206naj30mk0fajup.jpg" alt=""></p>
<p>å¦‚æœæ‰“ç®— pull ä¸€ä¸ª <strong>æ²¡æœ‰è·Ÿè¸ªä¸­</strong> çš„è¿œç«¯åˆ†æ”¯, å³ä½¿ä½ ä¿®æ”¹äº†åå¥½è®¾ç½®, <code>Rebase instead of merge</code> é€‰é¡¹ä¹Ÿä¸ä¼šé»˜è®¤å‹¾é€‰, éœ€è¦æ‰‹åŠ¨å‹¾é€‰.</p>
<blockquote>
<p>git rebase <branch></branch></p>
</blockquote>
<p><img src="https://ww3.sinaimg.cn/large/006tKfTcly1feoifjhienj30jb0bz0xi.jpg" alt=""></p>
<p>å‡å¦‚æƒ³è®© A åˆ†æ”¯ä¸Šçš„è¯¥åŠ¨éƒ½åŸºäº B åˆ†æ”¯, å…ˆä¿è¯ä½ å¤„äº A åˆ†æ”¯, åœ¨ BRANCHES ä¸­ B ä¸Šå³é”®é€‰æ‹© <code>Rebase current changes onto B</code> .</p>
<blockquote>
<p>rebase å†²çªåçš„å¤„ç†</p>
</blockquote>
<p>rebase è¿‡ç¨‹å®é™…ä¸Šå¯ä»¥ç†è§£ä¸ºæ˜¯å°†å½“å‰åˆ†æ”¯ä¸Šçš„æ‰€æœ‰ commit å†ä¸€æ¬¡æ¬¡åº”ç”¨çš„è¿‡ç¨‹, é‚£ä¹ˆå¦‚æœå…¶ä¸­ä¸€æ­¥å†²çªäº†æ€ä¹ˆåŠ?</p>
<p>rebase ä¼šæš‚åœä¸‹æ¥, ç­‰å¾…ä½ è§£å†³å®Œå†²çªåçš„æ“ä½œ. å¦‚æœåœ¨ç»ˆç«¯ä¸­çš„è¯, ä½ æœ‰å››ä¸ªé€‰é¡¹å¯é€‰:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git rebase --<span class="built_in">continue</span> //ç»§ç»­</span><br><span class="line">git rebase --skip //è·³è¿‡</span><br><span class="line">git rebase --abort //ç»ˆæ­¢</span><br><span class="line">git rebase --quit //ç»“æŸ</span><br></pre></td></tr></table></figure>
<p>åœ¨ SourceTree ä¸­, æˆ‘ä»¬è§£å†³å®Œå†²çªå, å¯ä»¥ç‚¹å‡» <code>Commit</code> æŒ‰é’®, è¿™æ—¶ä¼šå‡ºç°ä¸‹é¢è¿™ä¸ªç•Œé¢:</p>
<p><img src="https://ww1.sinaimg.cn/large/006tKfTcly1feoohf4h49j30hs07u0u0.jpg" alt=""></p>
<p><code>Abort Rebase</code> , <code>Continue Rebase</code> åˆ†åˆ«ä¸ <code>--continue</code> å’Œ <code>--abort</code> å¯¹åº”. å¦‚æœè§£å†³å®Œå†²çªåè¿™æ¬¡ Commit ä¸åŒ…å«ä»»ä½• Changes çš„è¯, æˆ‘ä»¬å°±éœ€è¦ <code>--skip</code> äº†, å¾ˆä¸å¹¸çš„æ˜¯ SourceTree å¹¶æ²¡æœ‰æä¾›è¿™ä¸ªé€‰é¡¹, åªèƒ½åœ¨ç»ˆç«¯ä¸­æ“ä½œ.</p>
<h2 id="merge-â€“no-ff"><a href="#merge-â€“no-ff" class="headerlink" title="merge â€“no-ff"></a>merge â€“no-ff</h2><p><img src="https://ww2.sinaimg.cn/large/006tKfTcly1feoipaaqqoj30jb0c2tbm.jpg" alt=""></p>
<p>å’Œ rebase æ“ä½œåŸºæœ¬ä¸€è‡´, èœå•é€‰æ‹© <code>Merge B into A</code>. ä¸‹é¢ä¼šå¼¹å‡ºè¿™ä¸ªç•Œé¢:</p>
<p><img src="https://ww4.sinaimg.cn/large/006tKfTcly1feois0fn45j30il08jwfl.jpg" alt=""></p>
<blockquote>
<p>Commit merged changes immediately</p>
</blockquote>
<p>å‹¾é€‰æˆ–å¦‚æœåˆå¹¶æ²¡æœ‰å†²çªçš„è¯, ä¼šè‡ªåŠ¨æäº¤è¿™æ¬¡ Merege Commit, å¦åˆ™çš„è¯, ä½ éœ€è¦æ‰‹åŠ¨æäº¤.</p>
<blockquote>
<p>Include messages form commits being merged in merge commit</p>
</blockquote>
<p>ä¼šæŠŠè¿™ä¸ªåˆ†æ”¯ä¸Šçš„æ‰€æœ‰çš„æäº¤æ—¥å¿—é™„åŠ åˆ° Merege Commit çš„æäº¤æ—¥å¿—ä¸­.</p>
<h1 id="äºŒ-rebase-befroe-merge"><a href="#äºŒ-rebase-befroe-merge" class="headerlink" title="äºŒ. rebase befroe merge"></a>äºŒ. rebase befroe merge</h1><p>å°±æ˜¯åœ¨ merge å‰å…ˆ rebase, å‡å¦‚æˆ‘ä»¬æƒ³æŠŠ B åˆå¹¶è¿› A ä¸­, åº”å½“å…ˆåœ¨ B ä¸Šé¢ rebase A, å†åˆ‡æ¢åˆ° A ä¸Šé¢ merge B. è¿™æ ·å¯ä»¥é¿å…å‡ºç°ä¸‹é¢è¿™æ ·çš„å†å²:</p>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcly1feojg14lnjj301003q3yh.jpg" alt=""></p>
<p>è¿™æ ·åš, è¿˜ä¼šé™„å¸¦ä¸€ä¸ªå¥½å¤„, å°±æ˜¯ä¼šä½¿å¾—è¿™æ¬¡ <code>Merege Commit</code> éå¸¸çš„çº¯ç²¹, å› ä¸ºåœ¨ rebase æ—¶å·²ç»æŠŠæ½œåœ¨çš„å†²çªéƒ½è§£å†³å®Œäº†, æ‰€ä»¥è¿™æ¬¡ merge ä¸€å®šä¸ä¼šæœ‰å†²çª, è¿™æ · Merege Commit çš„æ”¹åŠ¨å°±ä¼šå’Œåˆ†æ”¯ B çš„æ”¹åŠ¨å®Œå…¨ä¸€è‡´, ä¸ä¼šå†æœ‰å…¶ä»–çš„æ”¹åŠ¨(è§£å†³å†²çªæ—¶çš„ä¿®æ”¹).</p>
<h1 id="ä¸‰-åˆå¹¶å‰æ•´ç†åˆ†æ”¯"><a href="#ä¸‰-åˆå¹¶å‰æ•´ç†åˆ†æ”¯" class="headerlink" title="ä¸‰. åˆå¹¶å‰æ•´ç†åˆ†æ”¯"></a>ä¸‰. åˆå¹¶å‰æ•´ç†åˆ†æ”¯</h1><p>ä½¿ç”¨è½¯ä»¶: <a href="http://gitup.co/" target="_blank" rel="noopener">GitUp</a></p>
<p>Gitup åŠŸèƒ½ååˆ†ç¥å¥‡, è€Œä¸”è¿˜æä¾›äº†å¾ˆå¼ºå¤§çš„ undo/redo æ“ä½œ, æ‰€ä»¥å¯ä»¥å¾ˆä¸è´Ÿè´£ä»»çš„è¯´, å¤§å®¶å¯ä»¥éšæ„å°è¯•å…¶ä¸­çš„å„ç§åŠŸèƒ½, ä¸å¿…æ‹…å¿ƒæŠŠä»“åº“ææŒ‚.</p>
<p>å¦‚æœåšæŒä½¿ç”¨ rebase è¯, å°±ä¼šæ˜ç™½ rebase çš„å¤æ‚åº¦, æ˜¯ä¸è¿™ä¸ªåˆ†æ”¯ä¸Šçš„ commit æ¬¡æ•°æœ‰ä¸€å®šå…³ç³»çš„. æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ rebase å‰æ•´ç†è¿™ä¸ªåˆ†æ”¯:</p>
<blockquote>
<p>åˆå¹¶ç›¸åŒåŠŸèƒ½çš„ Commit </p>
</blockquote>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcly1feok1ndseyj30pe0iemzi.jpg" alt=""></p>
<p>ä½¿ç”¨ gitup æ‰“å¼€ä»“åº“, éšä¾¿åœ¨ä¸€æ¬¡ commit ä¸Šå³é”®, ä¾¿å¯ä»¥çœ‹åˆ°ä¸Šå›¾çš„èœå•. è¿™é‡Œé¢æœ‰æ‰€æœ‰çš„æ“ä½œ, ä¸‹é¢æˆ‘æ¥è¯´ä¸€ä¸‹å¸¸ç”¨çš„:</p>
<blockquote>
<p>Fixup with Parent / Squash with Parent</p>
</blockquote>
<p>ä½œç”¨éƒ½æ˜¯å°†æœ¬æ¬¡æäº¤å’Œä¸Šä¸€æ¬¡åˆå¹¶, åŒºåˆ«æ˜¯åè€…å¯ä»¥åŒæ—¶ä¿®æ”¹æäº¤æ—¥å¿—.</p>
<blockquote>
<p>Swap with Parent / Child</p>
</blockquote>
<p>å°±æ˜¯è®²ä¸¤æ¬¡æäº¤äº’æ¢ä½ç½®, æ¯”å¦‚ä½ æœ‰ A-B-C ä¸‰æ¬¡æäº¤, ä½ æƒ³æŠŠ A å’Œ C åˆå¹¶, ä½†æ˜¯ä¸­é—´éš”ç€ä¸€ä¸ª B, è¿™æ—¶å°±æ˜¯æŠŠ B å’Œ C çš„ä½ç½®äº¤æ¢å Squash.</p>
<blockquote>
<p>Split</p>
</blockquote>
<p>å°†ä¸€æ¬¡æäº¤æ‹†åˆ†ä¸ºä¸¤æ¬¡, ä¸è¿‡æ‹†åˆ†ç²’åº¦åªèƒ½åˆ°æ–‡ä»¶çº§. ä¹Ÿå¾ˆå¸¸ç”¨, æ¯”å¦‚è¯¯å°†ä¸€äº›ä¸å±äºè¿™æ¬¡æäº¤åšçš„æ”¹åŠ¨æäº¤äº†ä¸Šå», å¯ä»¥ç”¨è¿™ä¸ªæ‹†åˆ†å‡ºæ¥.</p>
<h1 id="å››-åè®°"><a href="#å››-åè®°" class="headerlink" title="å››. åè®°"></a>å››. åè®°</h1><p><img src="https://ww3.sinaimg.cn/large/006tKfTcly1feolo8so66j305k0m8gmk.jpg" alt=""></p>
<p>è¿™ä¸ªæ˜¯æˆ‘ä»¬åšæŒäº†ä¸€æ®µæ—¶é—´ä¹‹åçš„æäº¤å†å²å¯¹æ¯”, å·¦ä¾§æ‚ä¹±æ— ç« , çŠ¬ç‰™å‘²äº’, è¿™æ˜¯ä¸€æ¡æ— æ³•ç›´è§†çš„æäº¤å†å², å³ä¾§çš„åˆ™æ¸…æ™°ä¸å°‘. </p>
<p><img src="https://ww4.sinaimg.cn/large/006tKfTcly1feoluos10ej30n604hab9.jpg" alt=""></p>
<p>æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ç­›é€‰å™¨ä¸­çš„ <code>All Parents</code> ä¸º <code>First parent only</code>, è¿™æ ·æˆ‘ä»¬ä½åˆ†æ”¯ä¸Šçš„å†å²ä¾¿åªå‰©ä¸‹äº† Merge Commit ,é‚£ä¹ˆåªçœ‹è¿™äº› Commit ä¾¿å¯ä»¥çŸ¥é“æ•´ä¸ªåˆ†æ”¯çš„è¿›åŒ–å†ç¨‹.</p>
]]></content>
      
        
        <tags>
            
            <tag> neat-freak </tag>
            
            <tag> git </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å¤šè¯´, å†è§ !]]></title>
      <url>http://blog.justbilt.com/2017/03/25/bye-duoshuo-bye-comment/</url>
      <content type="html"><![CDATA[<p>å¤§çº¦æ˜¯åœ¨å‰å‡ å¤©åˆ·å¾®åšçš„æ—¶å€™çœ‹åˆ°æœ‰äººè¯´å¤šè¯´è¦å…³ç«™äº†, èµ¶ç´§å»å¤‡ä»½è¯„è®º balabala â€¦ , éš¾ä»¥ç½®ä¿¡, èµ¶ç´§å»æˆ‘çš„é‚®ç®±æ‰¾äº†ä¸‹, æœç„¶æ‰¾åˆ°äº†è¿™å°é‚®ä»¶:</p>
<p><img src="https://ww3.sinaimg.cn/large/006tNbRwly1fdyu57rth7j30pi08bab4.jpg" alt=""></p>
<p>éœ‡æƒŠ !!! ä¾ç„¶éš¾ä»¥ç½®ä¿¡ !!!</p>
<a id="more"></a>
<p>æˆ‘æ€¥å¿™æŠŠè¿™ä¸ªæ¶ˆæ¯è½¬å‘åˆ°äº†å…¬å¸çš„å¾®ä¿¡ç¾¤é‡Œ, å´å¾ˆå¿«å°±è¢«å…¶ä»–æ¶ˆæ¯æ·¹æ²¡, æ²¡æœ‰æ¿€èµ·ä¸€ç‚¹æµªèŠ±.</p>
<p><img src="https://ww2.sinaimg.cn/large/006tNbRwly1fdyuh2osr9j30bu0j2gmh.jpg" alt=""></p>
<p>ä»–ä»¬å¯èƒ½ä¹Ÿå¾ˆå¥‡æ€ª, å¤šè¯´æ˜¯ä»€ä¹ˆé¬¼, å…³é—­äº†å’Œæˆ‘æœ‰ä»€ä¹ˆå…³ç³» ? å—¯å“ª, æ¯•ç«Ÿå†™åšå’Œè¯»åšéƒ½åªæ˜¯å°ä¼—çš„éœ€æ±‚.</p>
<p>å°†æ—¶é—´æ‹¨å› 2013 å¹´, é‚£æ—¶æˆ‘åˆšæŠŠåšå®¢ä» WordPress åˆ‡æ¢åˆ° hexo, é‚£æ—¶ hexo çš„é»˜è®¤è¯„è®ºè¿˜æ˜¯ disqus å‘¢, ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› , é€Ÿåº¦éå¸¸æ…¢. ç»è¿‡ä¸€ç•ªæŸ¥æ‰¾, é€‰æ‹©äº†å¤šè¯´, é€Ÿåº¦å¿«, è¿˜æ”¯æŒå›½å†…çš„å„ç§ç¤¾äº¤è´¦å·ç™»å½•, å…è´¹, å¾ˆè‰¯å¿ƒ.</p>
<p><img src="https://ww4.sinaimg.cn/large/006tNbRwly1fdyujgpr90j30um0kk0wp.jpg" alt=""></p>
<p>æˆ‘åœ¨æ–°åšå®¢å†™çš„ç¬¬ä¸€ç¯‡æ–‡ç« æ˜¯ <a href="http://blog.justbilt.com/2013/11/03/elbow/">&lt;&lt;å¼¯ç®¡(æ‹è§’)å¯¹æ–¹å‘çš„æ”¹å˜&gt;&gt;</a> ,æ—¶é—´ <code>2013/11/03</code>, æ”¶åˆ°çš„ç¬¬ä¸€æ¡è¯„è®ºæ˜¯:</p>
<p><img src="https://ww4.sinaimg.cn/large/006tNbRwly1fdyuxow26aj30nf022weq.jpg" alt=""></p>
<p>æ˜¯ firedragonpzy å…„å‘æ¥çš„[ç»™åŠ›], è¿™ä¹ˆå¤šå¹´è¿‡å»äº†, ä¸çŸ¥ä»–ç°åœ¨åšä»€ä¹ˆ?ã€€</p>
<p>æœ€åä¸€ç¯‡æœ‰å¤šè¯´è¯„è®ºçš„æ–‡ç« æ˜¯ <a href="http://blog.justbilt.com/2017/02/24/some-change-for-blog/">&lt;&lt;æœ€è¿‘åšå®¢çš„ä¸€äº›å˜åŒ–&gt;&gt;</a>, æ—¶é—´ <code>2017/02/24</code>, æ˜¯å›å¤å±±äººçš„åæ§½:</p>
<p><img src="https://ww4.sinaimg.cn/large/006tNbRwly1fdyv73hz7fj30ng040aai.jpg" alt=""></p>
<p>æ‰€ä»¥, ä½ ä»¥ä¸ºå¤šè¯´çš„å…³é—­æ„å‘³ç€ä»€ä¹ˆ ? </p>
<blockquote>
<p>é‚£æ—¶ cocos2d-x è¿˜ååˆ†ç«çˆ†,<br>é‚£æ—¶æˆ‘è¿˜åœ¨ç”¨ c++,<br>é‚£å¹´æˆ‘æ‰ 21 å².</p>
</blockquote>
<hr>
<p>å¥½å§, ç°åœ¨å…³é—­è£…é€¼æ¨¡å¼.</p>
<p>è™½ç„¶ç”¨äº†è¿™ä¹ˆå¤šå¹´çš„è¯„è®º, ä½†æ­£å¦‚ @ç‹å­äº­ åšä¸»åœ¨<a href="https://jysperm.me/2016/05/remove-comments-and-wechat/" target="_blank" rel="noopener">è¿™ç¯‡</a>æ–‡ç« ä¸­æ‰€è¨€:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œæˆ‘å†™äº†è¿™ä¹ˆå¤šå¹´åšå®¢ï¼Œæ”¶åˆ°çš„å¤§éƒ¨åˆ†è¯„è®ºéƒ½å’Œæ–‡ç« å†…å®¹æ— å…³ â€”â€” ä»–ä»¬åœ¨æŠŠæ–‡ç« çš„è¯„è®ºå½“ä½œç•™è¨€æ¿æ¥ä½¿ç”¨ï¼Œå’Œæˆ‘æ‰“ä¸ªæ‹›å‘¼æˆ–è€…è¯¢é—®ä¸€ä¸‹è¿‘å†µã€‚</span><br><span class="line">å½“ç„¶æˆ‘ä¹Ÿæ›¾æ”¶åˆ°æå°‘éƒ¨åˆ†ä¸€äº›è®¤çœŸæ’°å†™çš„è¯„è®ºï¼Œæˆ‘ä¹Ÿå¸Œæœ›ç»§ç»­ç»™è¿™äº›äººç•™å‡ºä¸€äº›ç©ºé—´ï¼šæˆ‘ä¼šä»¥é‚®ä»¶çš„å½¢å¼æ¥å—æ–‡ç« è¯„è®ºï¼Œæˆ‘ä¼šæŒ‘é€‰å…¶ä¸­å¯¹è¯»è€…æœ‰ä»·å€¼çš„éƒ¨åˆ†å±•ç¤ºåœ¨æ–‡ç« çš„æœ«å°¾ã€‚</span><br></pre></td></tr></table></figure>
<p>å­äº­åŒå­¦è¯´çš„ç‰¹åˆ«å¥½, åˆšå¥½å€Ÿç€å¤šè¯´å…³é—­çš„æœºä¼š, æˆ‘ç§»é™¤äº†åšå®¢ä¸­çš„è¯„è®ºç³»ç»Ÿ, åªä¿ç•™äº† <code>å…³äº</code> è¿™ä¸ªçŒæ°´ç•Œé¢çš„è¯„è®º, è¿˜è®¾ç«‹äº†ä¸€ä¸ªå°é—¨æ§›, åªæœ‰æ‹¥æœ‰ github è´¦å·çš„æœ‹å‹æ‰èƒ½è¯„è®º.</p>
<p>ä»¥åä¾¿ä¼šçœå¿ƒä¸å°‘å§.</p>
]]></content>
      
        
        <tags>
            
            <tag> blog </tag>
            
            <tag> duoshuo </tag>
            
            <tag> comment </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æœ€è¿‘æ iOS ç‰ˆé‡åˆ°çš„ä¸€äº›é—®é¢˜å’ŒæŠ€å·§ (å››)]]></title>
      <url>http://blog.justbilt.com/2017/03/12/ios-dev-tips-4/</url>
      <content type="html"><![CDATA[<p>è¿™æ˜¯è¿™åŠå¹´æ iOS æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜, å†™ä¸‹æ¥, å¸Œæœ›ä¼šå¸®åˆ°å¤§å®¶. å› ä¸ºæ—¶é—´ç²¾åŠ›æœ‰é™, æœ‰äº›é—®é¢˜, å¹¶æ²¡æœ‰è§£å†³æ–¹æ¡ˆ, åªæ˜¯é¥¶äº†è¿‡å».</p>
<a id="more"></a>
<h2 id="ä¸€-iOS-æ²™ç›’æµ‹è¯•-æ— æ³•è¿æ¥åˆ°APPSTORE"><a href="#ä¸€-iOS-æ²™ç›’æµ‹è¯•-æ— æ³•è¿æ¥åˆ°APPSTORE" class="headerlink" title="ä¸€. iOS æ²™ç›’æµ‹è¯• æ— æ³•è¿æ¥åˆ°APPSTORE"></a>ä¸€. iOS æ²™ç›’æµ‹è¯• æ— æ³•è¿æ¥åˆ°APPSTORE</h2><p>ç¡®å®šæ˜¯æµ‹è¯•æœº, æ²™ç›’è´¦å·ç™»å½•çš„ä¹Ÿæ²¡æœ‰é—®é¢˜, å°±æ˜¯æ— æ³•å……å€¼.</p>
<h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>æ¢äº†ä¸€ä¸ªæµ‹è¯•æœºå°±å¥½äº†</p>
<h2 id="äºŒ-xcodebuilder-exportArchive-dev-å¤±è´¥"><a href="#äºŒ-xcodebuilder-exportArchive-dev-å¤±è´¥" class="headerlink" title="äºŒ. xcodebuilder -exportArchive dev å¤±è´¥"></a>äºŒ. xcodebuilder -exportArchive dev å¤±è´¥</h2><p>è¿™ä¸ªé—®é¢˜å‘ç”Ÿåœ¨æˆ‘ä»¬çš„ iOS æ‰“åŒ…è„šæœ¬ä¸­, ä¼šæŠ¥é”™:</p>
<blockquote>
<p>IDEDistribution: Step failed: <idedistributionthinningstep: 0x7fa72bbd50e0="">: Error Domain=IDEDistributionErrorDomain Code=14 â€œNo applicable devices found.â€</idedistributionthinningstep:></p>
</blockquote>
<h3 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>ä¸€å¼€å§‹æˆ‘ä½¿ç”¨äº†è€çš„ ipa å¯¼å‡ºæ–¹æ¡ˆ <code>xcrun -sdk iphoneos PackageApplication</code> , è¿™æ ·è™½ç„¶å¯ä»¥å¯¼å‡ºäº†, ä½†æ˜¯ç»å¸¸æ— æ³•å®‰è£…åˆ°æµ‹è¯•æœº, è¿˜å¾—ç”¨ XCode æ‰“å¼€å½’æ¡£æ–‡ä»¶æ‰‹åŠ¨å¯¼å‡º dev ç‰ˆæœ¬. å°±è¿™æ ·å‡‘æ´»äº†ä¸€æ®µæ—¶é—´å, æˆ‘ç»ˆäºä¸‹å®šå†³å¿ƒè§£å†³è¿™ä¸ªé—®é¢˜äº†. åŸæ¥æ¯æ¬¡ <code>exportArchive</code> ä¼šæœ‰æœ‰ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶, æŸ¥çœ‹ /var/folders/â€¦/IDEDistribution.standard.log å¾—çŸ¥æ˜¯æˆ‘çš„ ruby ç¯å¢ƒæœ‰é—®é¢˜:</p>
<figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[NOTE]</span><br><span class="line">You may have encountered a bug in the Ruby interpreter or extension libraries.</span><br><span class="line">Bug reports are welcome.</span><br><span class="line">Don't forget to include the above Crash Report log file.</span><br><span class="line">For details: http://www.ruby-lang.org/bugreport.html</span><br></pre></td></tr></table></figure>
<p>åœ¨ StackOverflow ä¸Šæ‰¾åˆ°äº†<a href="http://stackoverflow.com/questions/39634404/xcodebuild-exportarchive-no-applicable-devices-found/42027456#42027456" target="_blank" rel="noopener">è¿™ä¸ªè§£å†³æ–¹æ¡ˆ</a>, ä½¿ç”¨ <code>xcbuild-safe.sh</code> æ›¿æ¢ <code>xcodebuilder</code> å°±å¥½äº†</p>
<h2 id="ä¸‰-You-must-supply-a-CFBundleIdentifier-for-this-request"><a href="#ä¸‰-You-must-supply-a-CFBundleIdentifier-for-this-request" class="headerlink" title="ä¸‰. You must supply a CFBundleIdentifier for this request"></a>ä¸‰. You must supply a CFBundleIdentifier for this request</h2><p>ä¸Šä¼  dis åŒ…æ—¶é‡åˆ°è¿™ä¸ªé”™è¯¯:</p>
<p><img src="https://ww3.sinaimg.cn/large/006tNbRwly1fdjuz90b3cj30w40g2aar.jpg" alt=""></p>
<h3 id="è§£å†³æ–¹æ¡ˆ-2"><a href="#è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>åœ¨<a href="http://www.jianshu.com/p/2d229dfb34a6" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ä¸­æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆ:</p>
<blockquote>
<p>infor.plistè¡¨ä¸­Bundle OS Type code æ ä¸ºç©ºæˆ–è€…éAPPL<br>å…·ä½“è®¾ç½®è·¯å¾„ä¸ºï¼Œé¡¹ç›®çš„TARGETS &gt;&gt; infor &gt;&gt; Custom iOS Target Properties &gt;&gt; Bundle OS Type codeï¼Œæ£€æŸ¥æ˜¯å¦ä¸ºç©ºæˆ–è€…å…¶ä»–ã€‚å°†è¯¥é€‰é¡¹è®¾ç½®ä¸º APPLã€‚è‡ªæ­¤ï¼Œé‡æ–°ä¸Šä¼ æˆåŠŸã€‚</p>
</blockquote>
<p>è™½ç„¶è§£å†³äº†, ä½†æ˜¯æ¯”è¾ƒå¥‡æ€ªçš„æ˜¯, æˆ‘å¥½å¤šé¡¹ç›®æ²¡æœ‰è®¾ç½®ä¹Ÿå¯ä»¥ä¸Šä¼ æˆåŠŸ.</p>
<h2 id="å››-è¿æ¥-VPN-åæœ‰çš„-http-è¯·æ±‚ä¼šå¤±è´¥"><a href="#å››-è¿æ¥-VPN-åæœ‰çš„-http-è¯·æ±‚ä¼šå¤±è´¥" class="headerlink" title="å››. è¿æ¥ VPN åæœ‰çš„ http è¯·æ±‚ä¼šå¤±è´¥"></a>å››. è¿æ¥ VPN åæœ‰çš„ http è¯·æ±‚ä¼šå¤±è´¥</h2><p>è¿™ä¸ªå¾ˆè¯¡å¼‚å‘€, ä¸è¿æ¥ VPN æ²¡æœ‰ä»»ä½•é—®é¢˜.</p>
<h3 id="è§£å†³æ–¹æ¡ˆ-3"><a href="#è§£å†³æ–¹æ¡ˆ-3" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>æˆ‘åœ¨ Exception Domain æ·»åŠ å¯¹åº”åŸŸåä¹‹åå°±å¯ä»¥è®¿é—®äº†. çŒœæµ‹æ˜¯ä¸æ˜¯æœçˆ¹å¯¹å¤§é™† ip æ”¾å®½äº†è¦æ±‚ ? å“ˆå“ˆå“ˆ</p>
<h2 id="äº”-This-action-could-not-be-completed-Try-again-22421"><a href="#äº”-This-action-could-not-be-completed-Try-again-22421" class="headerlink" title="äº”. This action could not be completed.Try again.(-22421)"></a>äº”. This action could not be completed.Try again.(-22421)</h2><p>è¿˜æ˜¯ä¸Šä¼  dis åŒ…åˆ° iTunes åå°çš„æ—¶å€™, ä¼šé‡åˆ°è¿™ä¸ªé”™è¯¯:</p>
<p><img src="https://ww2.sinaimg.cn/large/006tNbRwly1fdjv6l9qzij30dh038wep.jpg" alt=""></p>
<h3 id="è§£å†³æ–¹æ¡ˆ-4"><a href="#è§£å†³æ–¹æ¡ˆ-4" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>åœ¨<a href="http://www.jianshu.com/p/a9f818ac1066" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ä¸­æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆ:</p>
<blockquote>
<p>æš‚æ—¶è¯·ä½¿ç”¨ -Application Loaderä¸Šä¼ appç¨‹åº</p>
</blockquote>
<h2 id="å…­-iOS-æ²™ç›’æµ‹è¯•å……å€¼ä¸€æ¬¡æˆåŠŸ-ä¸€æ¬¡å¤±è´¥"><a href="#å…­-iOS-æ²™ç›’æµ‹è¯•å……å€¼ä¸€æ¬¡æˆåŠŸ-ä¸€æ¬¡å¤±è´¥" class="headerlink" title="å…­. iOS æ²™ç›’æµ‹è¯•å……å€¼ä¸€æ¬¡æˆåŠŸ, ä¸€æ¬¡å¤±è´¥"></a>å…­. iOS æ²™ç›’æµ‹è¯•å……å€¼ä¸€æ¬¡æˆåŠŸ, ä¸€æ¬¡å¤±è´¥</h2><p>åœ¨æ²™ç›’æµ‹è¯•å……å€¼æ—¶, è¿™æ¬¡å¤±è´¥äº†, ä¸‹æ¬¡å°±ä¼šæˆåŠŸ, ä¸»è¦å‘ç”Ÿåœ¨å°é¢é¢çš„å……å€¼é¡¹ä¸Š.</p>
<h3 id="è§£å†³æ–¹æ¡ˆ-5"><a href="#è§£å†³æ–¹æ¡ˆ-5" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p><img src="https://ww2.sinaimg.cn/large/006tNbRwly1fdjvcfmifbj31as0foq6c.jpg" alt=""></p>
<p>è‹¹æœå•†åº—æŠ½é£, æ²¡å•¥è§£å†³æ–¹æ¡ˆ.</p>
<h2 id="å…­-è‹¹æœæäº¤å®¡æ ¸ï¼Œå› ä¸ºåº”ç”¨åç§°ä¸åˆæ³•è¢«æ‹’ï¼Œæ”¹å®Œæäº¤è¿˜æ˜¯è¢«æ‹’"><a href="#å…­-è‹¹æœæäº¤å®¡æ ¸ï¼Œå› ä¸ºåº”ç”¨åç§°ä¸åˆæ³•è¢«æ‹’ï¼Œæ”¹å®Œæäº¤è¿˜æ˜¯è¢«æ‹’" class="headerlink" title="å…­. è‹¹æœæäº¤å®¡æ ¸ï¼Œå› ä¸ºåº”ç”¨åç§°ä¸åˆæ³•è¢«æ‹’ï¼Œæ”¹å®Œæäº¤è¿˜æ˜¯è¢«æ‹’"></a>å…­. è‹¹æœæäº¤å®¡æ ¸ï¼Œå› ä¸ºåº”ç”¨åç§°ä¸åˆæ³•è¢«æ‹’ï¼Œæ”¹å®Œæäº¤è¿˜æ˜¯è¢«æ‹’</h2><p>è¿™ä¸ªæ˜¯è‹¹æœçš„å›å¤:</p>
<blockquote>
<p>We still find that your app name to be displayed on the App Store includes descriptors, which are not appropriate for use in an app name.<br>Specifically, the following words in your app names are considered descriptors</p>
</blockquote>
<h3 id="è§£å†³æ–¹æ¡ˆ-6"><a href="#è§£å†³æ–¹æ¡ˆ-6" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>å¯ä»¥æŸ¥çœ‹æ˜¯å¦åœ¨iTunes connect åå°æ·»åŠ äº†å¤šä¸ªè¯­è¨€ï¼Œè€Œåªä¿®æ”¹äº†ä¸€ç§è¯­è¨€ã€‚</p>
<h2 id="ä¸ƒ-XCode-å®‰è£…åº”ç”¨å‡ºé”™"><a href="#ä¸ƒ-XCode-å®‰è£…åº”ç”¨å‡ºé”™" class="headerlink" title="ä¸ƒ. XCode å®‰è£…åº”ç”¨å‡ºé”™"></a>ä¸ƒ. XCode å®‰è£…åº”ç”¨å‡ºé”™</h2><p>è¿™ä¸ªæ˜¯é”™è¯¯å†…å®¹:</p>
<blockquote>
<p>This applicationâ€™s application-identifier entitlement does not match that of the installed application. These values must match for an upgrade to be allowed.</p>
</blockquote>
<h3 id="è§£å†³æ–¹æ¡ˆ-7"><a href="#è§£å†³æ–¹æ¡ˆ-7" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>åˆ é™¤æ‰‹æœºä¸Šå·²ç»å®‰è£…çš„åº”ç”¨å°±å¥½äº†</p>
]]></content>
      
        
        <tags>
            
            <tag> iOS </tag>
            
            <tag> iOS-Dev-Tips </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-Cocos2d-x ä¸­çš„é¢å‘å¯¹è±¡]]></title>
      <url>http://blog.justbilt.com/2017/03/04/quick-x-oop/</url>
      <content type="html"><![CDATA[<p>è™½è¯´ç°åœ¨ä¸€ç›´æå€¡ç»„åˆä¼˜äºç»§æ‰¿, ä½†æ˜¯æˆ‘ä»¬è¿™å¸®æ·±å— c++ æ¯’å®³çš„å¤§å¥½é’å¹´è¿˜æ˜¯å¯¹ç»§æ‰¿æœ‰ç€æ·±æ·±çš„æ„Ÿæƒ…. Lua è¿™é—¨è¯­è¨€æœ¬èº«å¹¶æ²¡æœ‰æä¾›é¢å‘å¯¹è±¡çš„æœºåˆ¶, ä¸è¿‡æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„é€šè¿‡ Lua çš„ metatable æ¥å®ç°ä¸€å¥—é¢å‘å¯¹è±¡çš„æœºåˆ¶.</p>
<a id="more"></a>
<h1 id="ä¸€-å®ç°æœºåˆ¶"><a href="#ä¸€-å®ç°æœºåˆ¶" class="headerlink" title="ä¸€. å®ç°æœºåˆ¶"></a>ä¸€. å®ç°æœºåˆ¶</h1><p>å®ç°çš„åŸç†å¾ˆç®€å•, å¦‚æœä¸€ä¸ª Lua çš„ table1 é€šè¿‡ <code>setmetatable</code> å‡½æ•°è®¾ç½®äº†å…ƒè¡¨ä¹‹å, å¦‚æœè¯•å›¾è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„ <code>å±æ€§</code>, å°±ä¼šè§¦å‘è¿™ä¸ª metatable çš„ <code>__index</code> å…ƒæ–¹æ³•, è¿™ä¸ª __index å¯ä»¥æ˜¯å¦ä¸€ä¸ª table2 , è¿™æ ·å®ƒå°±å›å»è¿™ä¸ª table2 ä¸­å»æ‰¾é‚£ä¸ªå±æ€§äº†, å¦‚æœ table2 ä¸­è¿˜æ²¡æœ‰çš„è¯, å°±ä¼šè§¦å‘ table2 çš„å…ƒæ–¹æ³•, å°±è¿™æ ·ä¸€å±‚ä¸€å±‚çš„å¾€ä¸Šæ‰¾. æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªååˆ†ç®€å•çš„æ —å­æ¥æµ‹è¯•ä¸‹è¿™ä¸ªåŠŸèƒ½:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> a = &#123;aa = <span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">local</span> b = &#123;bb = <span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">local</span> c = &#123;cc = <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setmetatable</span>(b, &#123;<span class="built_in">__index</span> = a&#125;)</span><br><span class="line"><span class="built_in">setmetatable</span>(c, &#123;<span class="built_in">__index</span> = b&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"aa:"</span>, c.aa, <span class="string">"bb:"</span>, c.bb, <span class="string">"cc"</span>, c.cc) <span class="comment">-- output: aa:  1   bb: 2   cc  3</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Š, åªæ˜¯åŠ äº†ä¸¤ä¸ª <code>setmetatable</code>, c ä¾¿å¯ä»¥è®¿é—®åˆ° a å’Œ b çš„å±æ€§, æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡.</p>
<h1 id="äºŒ-Quick-cocos2d-x-ä¸­çš„å®ç°"><a href="#äºŒ-Quick-cocos2d-x-ä¸­çš„å®ç°" class="headerlink" title="äºŒ. Quick-cocos2d-x ä¸­çš„å®ç°"></a>äºŒ. Quick-cocos2d-x ä¸­çš„å®ç°</h1><p>Quick-Cocos2d-x ä½œä¸ºä¸€ä¸ª framework è‡ªç„¶ä¹Ÿå®ç°äº†ä¸€å¥—è¿™æ ·çš„æœºåˆ¶, å› ä¸ºå‡½æ•°å®ç°æ¯”è¾ƒé•¿, æ‰€ä»¥æˆ‘å°±ä¸ç²˜è´´ä»£ç äº†, å¤§å®¶å¯ä»¥<a href="https://github.com/chukong/quick-cocos2d-x/blob/master/framework/functions.lua#L281-L339" target="_blank" rel="noopener">è·³è½¬è¿™é‡ŒæŸ¥çœ‹</a>. çºµè§‚è¿™æ®µä»£ç , å¯ä»¥ä»¥æœ€å¤–å±‚çš„ <code>if-else</code> å°†è¿™æ®µé€»è¾‘åˆ†æˆä¸¤éƒ¨åˆ†, ç»§æ‰¿è‡ª Cocos çš„å¯¹è±¡å’Œç»§æ‰¿è‡ª Lua çš„ Table, ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåˆ†å‘¢ ?</p>
<p>å› ä¸º Cocos çš„å¯¹è±¡åœ¨ Lua ä¸­çš„ type æ˜¯ <code>userdata</code>, æ˜¯ä¸èƒ½è®¾ç½® metatable çš„, æ‰€ä»¥æˆ‘ä»¬ä¹‹å‰è¯´çš„é‚£å¥—ç»§æ‰¿çš„æ–¹æ³•å°±è¡Œä¸é€šäº†, Quick-cocos2d-x åœ¨è¿™é‡Œçš„é€‰æ‹©æ˜¯æŠŠæ‰€æœ‰çš„å˜é‡éƒ½å¤åˆ¶ä¸€ä»½, åšäº†ä¸€æ¬¡ä¸€ç»´çš„æ·±æ‹·è´. </p>
<p>æ‰€ä»¥, æŠ›å¼€ç»§æ‰¿çš„å®ç°ä¸åŒ, è¿™ä¸¤ä¸ªåˆ†æ”¯çš„é€»è¾‘æ˜¯ä¸€è‡´çš„. æˆ‘ä»¬ç²¾ç®€ä¸‹, å¯ä»¥åˆ†ç¦»å‡ºä¸‹é¢è¿™æ®µç®€çŸ­çš„ä»£ç :</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">class</span><span class="params">(_name, _super)</span></span></span><br><span class="line">    <span class="keyword">local</span> cls = &#123;__cname = _name, super = _super&#125;</span><br><span class="line">    <span class="keyword">if</span> _super <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">setmetatable</span>(cls, &#123;<span class="built_in">__index</span> = _super&#125;)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cls.ctor = <span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cls.new</span><span class="params">(...)</span></span></span><br><span class="line">        <span class="keyword">local</span> instance = <span class="built_in">setmetatable</span>(&#123;&#125;, &#123;<span class="built_in">__index</span> = cls&#125;)</span><br><span class="line">        instance:ctor(...)</span><br><span class="line">        <span class="keyword">return</span> instance</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> cls</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>è¿™çŸ­çŸ­åå‡ è¡Œä»£ç å‡ ä¹å·²ç»åŒ…å«äº†é¢å‘å¯¹è±¡çš„æ‰€æœ‰ç‰¹æ€§, æœ‰å®ä¾‹å‡½æ•° <code>new</code>, æœ‰é»˜è®¤æ„é€ å‡½æ•° <code>ctor</code>, å¯ä»¥è®¿é—®çˆ¶ç±» <code>super</code>. </p>
<p>å¤§å®¶å¯ä»¥çœ‹åˆ°è¿™æ®µä»£ç æœ‰ä¸¤æ¬¡ <code>setmetatable</code>, ç¬¬ä¸€æ¬¡æ˜¯åœ¨åˆ›å»º cls çš„æ—¶å€™, æ˜¯ä¸ºäº†è®© cls èƒ½å¤Ÿè®¿é—®åˆ° super ä¸­çš„å±æ€§; ç¬¬äºŒæ¬¡æ˜¯åœ¨äº§ç”Ÿå®ä¾‹ <code>instance</code> çš„æ—¶å€™, æ˜¯ä¸ºäº†è®©å®ä¾‹èƒ½å¤Ÿè®¿é—®åˆ° cls ä¸­çš„å±æ€§. </p>
<h1 id="ä¸‰-è¦æ³¨æ„çš„åœ°æ–¹"><a href="#ä¸‰-è¦æ³¨æ„çš„åœ°æ–¹" class="headerlink" title="ä¸‰. è¦æ³¨æ„çš„åœ°æ–¹"></a>ä¸‰. è¦æ³¨æ„çš„åœ°æ–¹</h1><p>ä¸‹é¢è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªå…¸å‹çš„é¢å‘å¯¹è±¡ç¤ºä¾‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> Animal = class(<span class="string">"Animal"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal:ctor</span><span class="params">(_name)</span></span></span><br><span class="line">    self.name = _name</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal:say</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"i couldn't say!"</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> Dog = class(<span class="string">"Dog"</span>, Animal)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog:ctor</span><span class="params">(_name, _age)</span></span></span><br><span class="line">    Dog.super.ctor(self, _name)</span><br><span class="line">    self.age = _age</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog:say</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">"I'm a %s, my name is %s, i'm %s years old."</span>, self.__cname, self.name, self.age))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">Dog.new(<span class="string">"Jack"</span>, <span class="number">5</span>):say()</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é‡ç‚¹çœ‹ä¸‹ç¬¬ <code>14</code> è¡Œä»£ç , è¿™è¡Œä»£ç æœ‰äº›å¥‡æ€ª.</p>
<h2 id="1-ä¸ºä»€ä¹ˆç”¨ç±»åå»è°ƒç”¨-super"><a href="#1-ä¸ºä»€ä¹ˆç”¨ç±»åå»è°ƒç”¨-super" class="headerlink" title="1. ä¸ºä»€ä¹ˆç”¨ç±»åå»è°ƒç”¨ super ?"></a>1. ä¸ºä»€ä¹ˆç”¨ç±»åå»è°ƒç”¨ super ?</h2><p>å½“ç»§æ‰¿åˆ°ç¬¬ä¸‰å±‚çš„æ—¶å€™ self.super ä» C è·³è½¬åˆ° B æ—¶ self è¿˜æ˜¯ C çš„å®ä¾‹, è¿™æ—¶ B ä¸­ self.super å…¶å®è¿˜ B, å°±ä¼šé€ æˆ stack overflow.</p>
<h2 id="2-ä¸ºä»€ä¹ˆæ˜¯ç±»å-super-è€Œä¸æ˜¯-super"><a href="#2-ä¸ºä»€ä¹ˆæ˜¯ç±»å-super-è€Œä¸æ˜¯-super" class="headerlink" title="2. ä¸ºä»€ä¹ˆæ˜¯ç±»å . super è€Œä¸æ˜¯ : super ?"></a>2. ä¸ºä»€ä¹ˆæ˜¯ç±»å <code>.</code> super è€Œä¸æ˜¯ <code>:</code> super ?</h2><p>é¦–å…ˆå¤§å®¶è¦æ˜ç™½ Lua ä¸­ <code>.</code> å’Œ <code>:</code> è°ƒç”¨å‡½æ•°çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ ?</p>
<blockquote>
<p>å†’å·è°ƒç”¨æ˜¯ Lua æä¾›çš„ä¸€ä¸ªè¯­æ³•ç³–, é»˜è®¤ä¼šå°†å‡½æ•°çš„è°ƒç”¨è€…ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥.</p>
</blockquote>
<p>åŒºåˆ«åœ¨äºçˆ¶ç±»çš„å‡½æ•°æ”¶åˆ°çš„ self æ˜¯ <code>self</code> (å³ Dog çš„å®ä¾‹) è¿˜æ˜¯ <code>Dog.super</code> (å³ Animal) , å¾ˆæ˜æ˜¾åº”è¯¥æ˜¯åè€….</p>
<h1 id="å››-æœ‰ä»€ä¹ˆæ”¹è¿›çš„åœ°æ–¹"><a href="#å››-æœ‰ä»€ä¹ˆæ”¹è¿›çš„åœ°æ–¹" class="headerlink" title="å››. æœ‰ä»€ä¹ˆæ”¹è¿›çš„åœ°æ–¹"></a>å››. æœ‰ä»€ä¹ˆæ”¹è¿›çš„åœ°æ–¹</h1><p>å¾ˆæ—©ä¹‹å‰å°±æ‹œè¯»è¿‡<a href="http://jennal.com/2014/10/18/cocos2dx-lua-oop/" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>, è¿™ç¯‡æ–‡ç« ä¸­åˆ—ä¸¾äº†ä¸€äº›ä½œè€…çš„ç–‘æƒ‘, å¾ˆæœ‰æ”¶è·, å¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹. æ–‡ç« ä¸­æå‡ºäº†ä¸¤æ¡:</p>
<blockquote>
<p>é—®é¢˜1ï¼šä»çˆ¶ç±»åšæ·±åº¦æ‹·è´<br>é—®é¢˜4ï¼šåˆ›å»ºå®ä¾‹æ—¶çš„æ·±åº¦æ‹·è´</p>
</blockquote>
<p>ä½œè€…å½“æ—¶å¯èƒ½å¿½ç•¥äº†æˆ‘ä»¬åˆšæ‰åšçš„è§£é‡Š: <em>æ— æ³•å‘ä¸€ä¸ª userdata è®¾ç½® metatable</em> , é‚£ä¹ˆæˆ‘ä»¬è¿™é‡Œæ˜¯å¦çœŸçš„éœ€è¦ä¸€æ¬¡æ·±æ‹·è´å‘¢ ? è®©æˆ‘ä»¬å…ˆæ€è€ƒä¸€ä¸ªé—®é¢˜:</p>
<blockquote>
<p>æ—¢ç„¶ Cocos çš„å¯¹è±¡æ˜¯ä¸€ä¸ª <code>userdata</code>, é‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆå¯ä»¥å¾€è¿™ä¸ª userdata ä¸Šæ·»åŠ æ–°çš„ Lua å±æ€§å‘¢ ?</p>
</blockquote>
<p>Quick-Cocos2d-x ä¸º C++ å¯¼å‡º Lua æ¥å£çš„å·¥å…·æ˜¯ tolua++ , å…¶ä¸­æœ‰ä¸¤ä¸ªæ¥å£å«: <code>tolua.setpeer</code> å’Œ <code>tolua.gerpeer</code> , è¿™ä¸ª peer åˆæ˜¯ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿å‘¢ ?</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNc79ly1fdbsvt09tnj313o08ewg5.jpg" alt=""></p>
<p>è¿™å¼ å›¾æ˜¯å…­æœˆå¤§å¤§åœ¨ Cocos è®ºå›ä¸­çš„å›å¤, æˆ‘ä»¬å¯ä»¥ç†è§£ä¸º <code>peer</code> æ˜¯ç”¨æ¥å­˜å‚¨ C++ å¯¹è±¡åœ¨ Lua ä¸­çš„æ‰©å±•çš„, ä»–çš„æœ¬è´¨æ˜¯ä¸€ä¸ª table. å¦‚æœæˆ‘ä»¬è¯•å›¾è®¿é—®ä¸€ä¸ª userdata ç±»å‹çš„å±æ€§æ—¶, å¦‚æœè¿™ä¸ª userdata è®¾ç½®äº† peer è¡¨, ä¼šä¼˜å…ˆä»è¿™ä¸ªè¡¨ä¸­å–å€¼.</p>
<p>æ—¢ç„¶è¿™ä¸ª <code>peer</code> æ˜¯ä¸€ä¸ª table, é‚£ä¹ˆæ˜¯å¦å¯ä»¥ä¸ºè¿™ä¸ª table è®¾ç½®å…ƒè¡¨, è¿™æ ·åœ¨ peer è¡¨ä¸­æ‰¾ä¸åˆ°å°±ä¼šè§¦å‘ __index .</p>
<p>æˆ‘ä»¬å¯¹ class çš„å®ç°åšå‡ºä¸‹é¢çš„ä¿®æ”¹:</p>
<p><img src="https://ww3.sinaimg.cn/large/006tNbRwly1fdbtiv4cbaj30v009i3zv.jpg" alt=""></p>
<p>ç”¨è®¾ç½® peer è¡¨çš„ metatable æ¥ä»£æ›¿åŸæ¥çš„æ·±æ‹·è´, é‡æ–°è¿è¡Œæˆ‘ä»¬çš„é¡¹ç›®, å®Œç¾. è®©æˆ‘ä»¬æƒ³æƒ³ä¸‹è¿™ä¸ªå®ç°å¸¦æ¥çš„ä¼˜åŠ¿: <strong>æ›´å¿«, æ›´çœå†…å­˜</strong>, ä¸ºæ­¤æˆ‘åšäº†ä¸€ä¸ªå°çš„æ€§èƒ½æµ‹è¯•:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> A = class(<span class="string">"A"</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">return</span> cc.Node:<span class="built_in">create</span>()</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, <span class="number">100</span> <span class="keyword">do</span></span><br><span class="line">    A[<span class="string">"a_index_"</span>..i] = i</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> B = class(<span class="string">"B"</span>, A)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, <span class="number">100</span> <span class="keyword">do</span></span><br><span class="line">    B[<span class="string">"b_index_"</span>..i] = i</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">10000</span> <span class="keyword">do</span></span><br><span class="line">    B.new()</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘è®¾è®¡äº† A,B ä¸¤ä¸ªç±», B ç»§æ‰¿è‡ª A, æ¯ä¸ªå„æœ‰ 100 ä¸ªæˆå‘˜å˜é‡, æœ€ååˆ›å»º 10000 ä¸ª B çš„å®ä¾‹. ç»Ÿè®¡äº†ä¸‹å†…å­˜çš„å ç”¨æƒ…å†µå’Œè€—æ—¶. ç»“æœå¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ·±æ‹·è´:</span><br><span class="line">è€—æ—¶: <span class="number">2.988687</span></span><br><span class="line">å†…å­˜: <span class="number">134.1</span>M</span><br><span class="line"></span><br><span class="line"><span class="built_in">setmetatable</span>:</span><br><span class="line">è€—æ—¶: <span class="number">0.107388</span></span><br><span class="line">å†…å­˜: <span class="number">38.9</span>M</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç›¸å·®å¾ˆå¤šå‘€, æ„Ÿè§‰è‡ªå·±é©¬ä¸Šå°±è¦èµ°ä¸Šäººç”Ÿå·…å³°äº†. æ—¢ç„¶ç›¸å·®è¿™ä¹ˆå¤š, è€Œå»–å¤§è²Œä¼¼ä¹Ÿæ—©å·²å‘ç°äº†è¿™ä¸ªé—®é¢˜:</p>
<p><img src="https://ww3.sinaimg.cn/large/006tNbRwly1fdbv2g5bfoj30m208mjs8.jpg" alt=""></p>
<p>ä¸ºä»€ä¹ˆç›´åˆ° 3.3 ç‰ˆæœ¬è¿˜æ²¡æœ‰æ”¹åŠ¨å‘¢ ? è«éæ˜¯æˆ‘å“ªé‡Œè®¡ç®—é”™äº†, æŠ›å¼€æµ‹è¯•, æˆ‘åœ¨æˆ‘ä»¬çš„ä¸€ä¸ªçº¿ä¸Šé¡¹ç›®ä¸­åšäº†ä¸€ä¸ªçœŸæ˜¯çš„æµ‹è¯•, ç»“æœä»¤æˆ‘å¤§è·Œçœ¼é•œ.</p>
<blockquote>
<p>ç›¸å·®æ— å‡ </p>
</blockquote>
<p>ä»”ç»†æƒ³äº†ä¸‹, æ˜¯å¦æ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šæœ‰ 100 ä¸ªå±æ€§, æ¸¸æˆå†…æ˜¯å¦ä¼šåŒæ—¶å­˜åœ¨ 1w ä¸ªå¯¹è±¡ ? æ‰€ä»¥é‚£ä»½æµ‹è¯•æ˜¯æ²¡æœ‰æ„ä¹‰çš„, ä½†æ˜¯è¿™ä¸ªæ”¹åŠ¨å´æ˜¯å¾ˆæœ‰æ„ä¹‰çš„.</p>
<p>å…¶å®åœ¨å‘ç° peer è¡¨ä¹‹å‰, æˆ‘è¿˜åšè¿‡å¦ä¸€ä¸ªå°è¯•, å¯¹äº userdata ç±»å‹çš„å®ä¾‹, ä¸è¿”å›è¿™ä¸ªå®ä¾‹, è€Œæ˜¯è¿”å›ä¸€ä¸ª table, æœ‰ä¸€ä¸ªå±æ€§ <code>_cobj</code> , è®¾ç½®è¿™ä¸ª table çš„å…ƒè¡¨, ä½¿å¾—æ‰€æœ‰çš„å±æ€§éƒ½ä¼˜å…ˆä» <code>_cobj</code> ä¸­å–, å–ä¸åˆ°å†å» super ä¸­å–, åæ¥å› ä¸ºæ”¹åŠ¨å¤ªå¤§, å°±æ”¾å¼ƒäº†, ä¸è¿‡åœ¨è¿™ä¸ªæ”¹åŠ¨çš„è¿‡ç¨‹ä¸­æ„å¤–çš„å‘ç° peer è¡¨çš„å­˜åœ¨.</p>
<p>å¤šæŠ˜è…¾, æ€»ä¼šæœ‰æ‰€æ”¶è·çš„.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æœ€è¿‘åšå®¢çš„ä¸€äº›å˜åŒ–]]></title>
      <url>http://blog.justbilt.com/2017/02/24/some-change-for-blog/</url>
      <content type="html"><![CDATA[<p>è™½ç„¶æœ€è¿‘åšå®¢çš„äº§é‡ä¸é«˜, ä½†æ˜¯æŠ˜è…¾çš„æ¯”è¾ƒå¤š. è€Œä¸”æ¯æ¬¡æŠ˜è…¾å®Œéƒ½ä¼šæœ‰ä¸€äº›æ–°çš„ç´ æ, è¿™æ ·åˆå¯ä»¥å¯¹ä»˜ä¸€ç¯‡åšå®¢å‡ºæ¥å•¦. é€ƒ)</p>
<a id="more"></a>
<h1 id="ä¸€-ä¸»é¢˜"><a href="#ä¸€-ä¸»é¢˜" class="headerlink" title="ä¸€. ä¸»é¢˜"></a>ä¸€. ä¸»é¢˜</h1><p>æˆ‘ä¸æ˜¯åœ¨æ¢ä¸»é¢˜, å°±æ˜¯åœ¨æ¢ä¸»é¢˜çš„è·¯ä¸Š. ä»¥è‡³äºå­é¾™å±±äººç»å¸¸ä¼šé—®æˆ‘:â€ä½ åˆæ¢åšå®¢å•¦?â€, å¹¶æ²¡æœ‰, åªæ˜¯æ¢äº†ä¸ªä¸»é¢˜è€Œå·².</p>
<p>æˆ‘æ¢ä¸»é¢˜ç–¯ç‹‚åˆ°ä»€ä¹ˆç¨‹åº¦å‘¢? å‡ ä¹ <a href="https://hexo.io/themes/" target="_blank" rel="noopener">Hexo ä¸»é¢˜é¡µ</a>çš„æˆ‘éƒ½å°è¯•è¿‡, å¾ˆå¤šä¸å¥½çœ‹çš„ç®€å•å°è¯•äº†ä¸‹å°±æ”¾å¼ƒäº†, å¥½çœ‹çš„å‘¢æˆ‘åˆä¼šæ”¹ä¸€æ”¹, æŒ‰ç…§è‡ªå·±çš„å–œå¥½å®šåˆ¶ä¸€äº›ä¸œè¥¿. åªå¯æƒœä¹‹å‰çš„ä¸»é¢˜éƒ½æ²¡æœ‰æˆªå›¾ç•™å¿µä¸‹, å¦åˆ™è¿˜èƒ½æ‹¿å‡ºæ¥è£…ä¸ªé€¼.</p>
<p><img src="/assets/themes-screenshot/01-raytaylorism.png" alt=""></p>
<p>ç›®å‰è¿™ä¸ªä¸»é¢˜ <code>raytaylorism</code> ç®€å•ä¿®æ”¹äº†ä¸‹ é…è‰², å­—ä½“, å’Œä¸€ç‚¹æ ·å¼, æ„Ÿè§‰è¿˜ä¸é”™, åº”è¯¥å¯ä»¥æŒºä¸€æ®µæ—¶é—´.</p>
<h1 id="äºŒ-ç§»åŠ¨ç«¯å†™ä½œ"><a href="#äºŒ-ç§»åŠ¨ç«¯å†™ä½œ" class="headerlink" title="äºŒ. ç§»åŠ¨ç«¯å†™ä½œ"></a>äºŒ. ç§»åŠ¨ç«¯å†™ä½œ</h1><p>ä¸Šç¯‡æ–‡ç« æˆ‘å°è¯•äº†ä¸‹åœ¨æˆ‘çš„ Android æ‰‹æœºä¸Šä¹¦å†™, ç”¨åˆ°äº†ä¸¤ä¸ªåº”ç”¨åˆ†åˆ«æ˜¯ <code>Pocker Git</code> å’Œ <code>JotterPad</code> . å‰è€…è´Ÿè´£åšå®¢çš„ git æ‹‰å–å’Œæ¨é€, åè€…è´Ÿè´£ç¼–è¾‘, ä¸¤ä¸ªåº”ç”¨éƒ½å¾ˆç»™åŠ›, é…åˆçš„ä¹Ÿå¾ˆå¥½, è™½ç„¶è¿˜æœ‰ä¸€äº›å°ç‘•ç–µ, ä½†ç€å®å·²ç»æ˜¯å…è´¹çš„è§£å†³æ–¹æ¡ˆä¸­æœ€ä½³ä¹‹é€‰äº†.</p>
<p><img src="https://ww4.sinaimg.cn/large/006tNc79ly1fd0xcj3fmhj31kw0nyh5e.jpg" alt=""></p>
<h1 id="ä¸‰-è®¿é—®åŠ é€Ÿ"><a href="#ä¸‰-è®¿é—®åŠ é€Ÿ" class="headerlink" title="ä¸‰. è®¿é—®åŠ é€Ÿ"></a>ä¸‰. è®¿é—®åŠ é€Ÿ</h1><p>è¯´çš„å¥½åƒå¾ˆé«˜å¤§ä¸Š, åšèµ·æ¥ç‰¹åˆ«ç®€å•. ä¹‹å‰åšå®¢æ˜¯æ‰˜ç®¡åœ¨ github ä¹‹ä¸Šçš„, ä½†æ˜¯ç”±äºä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„åŸå› , è®¿é—®é€Ÿåº¦ä¸æ˜¯å¾ˆç†æƒ³, ç”šè‡³å¯èƒ½è®¿é—®ä¸äº†. å›½å†…ä¹Ÿæœ‰ç±»ä¼¼çš„å…è´¹æ‰˜ç®¡æ–¹æ¡ˆ (coding), ä½†æ˜¯å¤–å›½å‹äººè‹¥æ˜¯æƒ³çœ‹ä¿ºå†™çš„æ–‡ç« å’±åŠ ? èƒ½ä¸èƒ½å›½å¤–ç½‘ç»œèµ° github, å›½å†…èµ° coding å‘¢?</p>
<p>æ˜¯å¯ä»¥çš„, è€Œä¸”é…ç½®èµ·æ¥è¶…çº§ç®€å•, åŠ¨åŠ¨æ‰‹æŒ‡çš„åŠŸå¤«å°±è§£å†³äº†. æˆ‘åŸºæœ¬ä¸Šæ˜¯ç…§ç€<a href="http://yumemor.com/2016/04/24/Github-Pages-%E6%9C%8D%E5%8A%A1%E5%A4%AA%E6%85%A2%EF%BC%9F%E6%9D%A5%E8%AF%95%E8%AF%95%E5%88%86%E6%B5%81%E5%90%A7/" target="_blank" rel="noopener">è¿™ä¸ªæ•™ç¨‹</a>æçš„, ä½†æ˜¯è¿™ä¸ªæ•™ç¨‹æœ‰äº›è€, coding ä»–ä»¬æ”¹ç‰ˆçš„å¾ˆå¿«, å¤§å®¶è‡ªå·±é…åˆæ•™ç¨‹ç¢ç£¨ä¸‹å°±å¯ä»¥äº†.</p>
<p>å¼„å®Œä¹‹å, è®¿é—®åšå®¢é€Ÿåº¦<strong>å—·å—·çš„</strong>, æ„Ÿè°¢ coding æä¾›è¿™ä¹ˆå¥½çš„æœåŠ¡, è¿˜æ˜¯å…è´¹çš„, è‰¯å¿ƒä¼ä¸š.</p>
<h1 id="å››-å›¾ç‰‡ä¸Šä¼ "><a href="#å››-å›¾ç‰‡ä¸Šä¼ " class="headerlink" title="å››. å›¾ç‰‡ä¸Šä¼ "></a>å››. å›¾ç‰‡ä¸Šä¼ </h1><p>ä¸çŸ¥é“å¤§å®¶ä¹‹å‰åšå®¢é…å›¾æ˜¯æ€ä¹ˆæçš„, æˆ‘ä¹‹å‰æ˜¯è¿™ä¹ˆä¸ªæµç¨‹:</p>
<blockquote>
<p>å‡†å¤‡å›¾ç‰‡ &gt; æ‰“å¼€ chrome å¾®åšå›¾åºŠæ’ä»¶ &gt; æŠŠå›¾ç‰‡æ‹–æ‹½ä¸Šå» &gt; å¤åˆ¶ç½‘å€ &gt; è¿”å›ç¼–è¾‘å™¨ç²˜è´´ç½‘å€</p>
</blockquote>
<p>è¿‡ç¨‹è¿˜æ˜¯ç•¥ç¹ç, ç›´åˆ°æˆ‘å‘ç°äº†ç¥å™¨ <code>iPic</code> , å¤åˆ¶å›¾ç‰‡åç›´æ¥ <code>cmd + shift + u</code> ç­‰å¾…ä¸Šä¼ å®Œæ¯•å°±å¯ä»¥è·å¾—ç½‘å€äº†.</p>
<p><img src="https://ww3.sinaimg.cn/large/006tNc79ly1fd0xv8mhqzj30c009u0tk.jpg" alt=""></p>
<p>è¶…çº§æ–¹ä¾¿, è¶…çº§çœå¿ƒ, ç»å¯¹æ˜¯è®©ç”Ÿå‘½æ›´æœ‰æ„ä¹‰çš„å·¥å…·.</p>
<hr>
<p>æœ‰äº†è¿™ä¹ˆå¤šç‰›é€¼çš„ä¸œè¥¿, è¿˜æœ‰ä»€ä¹ˆç†ç”±ä¸å¥½å¥½å†™åšå®¢å‘¢ ?</p>
]]></content>
      
        
        <tags>
            
            <tag> blog </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å……å®è€Œåˆæ„‰å¿«çš„ 2016]]></title>
      <url>http://blog.justbilt.com/2017/02/18/my-2016/</url>
      <content type="html"><![CDATA[<p>ä»¥å¾€çš„å¹´ç»“å¤§å®¶æ„Ÿå…´è¶£çš„è¯å¯ä»¥çœ‹è¿™é‡Œ: <a href="http://blog.justbilt.com/categories/%E5%B9%B4%E7%BB%93/">æˆ‘çš„å¹´ç»“</a>, è¿™ç¯‡æ˜¯ç¬¬å››ç¯‡äº†. æˆ‘å¤§çº¦æ˜¯ 2012 å¹´æ­£å¼å¼€å§‹å†™åšå®¢çš„, æ—¶å…‰èè‹’, å·²ç»è¿‡å»5å¹´äº†, æœŸé—´ç»å†è¿‡ä¸€æ¬¡å¤§çš„è¿ç§», è§‰å¾—æœ€å¼€å§‹çš„åšå®¢å¤ªæ²¡æœ‰æŠ€æœ¯å«é‡, æ‰€ä»¥å°±éƒ½ä¸¢å¼ƒäº†. </p>
<p>å€¼å¾—è‚¯å®šçš„æ˜¯, è¿™æ¬¡çš„å¹´ç»“æ˜¯å†™çš„æœ€æ—©çš„ä¸€æ¬¡ ! (æ­¤å¤„åº”æœ‰æŒå£°ğŸ‘) æ‹–å»¶ç—…æ‚£è€…çš„ä¸€å°æ­¥, ç¤¾ä¼šçš„ä¸€å¤§æ­¥ !</p>
<a id="more"></a>
<hr>
<h1 id="ä¸€-å·¥ä½œ"><a href="#ä¸€-å·¥ä½œ" class="headerlink" title="ä¸€. å·¥ä½œ"></a>ä¸€. å·¥ä½œ</h1><h2 id="C-å…¬å¸-2015-7-ä»Š"><a href="#C-å…¬å¸-2015-7-ä»Š" class="headerlink" title="C å…¬å¸ (2015.7 ~ ä»Š)"></a>C å…¬å¸ (2015.7 ~ ä»Š)</h2><p>ç®—ä¸‹æ¥, æˆ‘åœ¨ C å·²ç»å‘†äº†ä¸€å¹´åŠå¤šçš„æ—¶é—´äº†, å¦‚æœè¦ç”¨ä¸€ä¸ªå­—æ¥å½¢å®¹æˆ‘çš„æ„Ÿå—, é‚£å°±æ˜¯ <code>çˆ½</code> . å»å¹´æˆ‘å¯¹ C çš„ä»‹ç»å¹¶ä¸å¤š, å½“æ—¶çš„ä½“éªŒå¹¶ä¸ä¹…, ä»Šå¹´ç»ˆäºå¯ä»¥æ¥è¯´ä¸€è¯´äº†, ä»”ç»†æƒ³æ¥ C è¿™æ ·çš„å›¢é˜Ÿæ‰æ˜¯æˆ‘å¿ƒç›®ä¸­ç†æƒ³çš„å›¢é˜Ÿ:</p>
<blockquote>
<p>ä¸è®¡è€ƒå‹¤, å‘¨æœ«åŒä¼‘<br>æœ‰ä¸€é¡¿å…è´¹æ™šé¥­, ä¸¤å¤§åŒ… 3M å£ç½©, ä¸‰ä¸ªç©ºæ°”å‡€åŒ–å™¨<br>æŠ€æœ¯é©±åŠ¨, æ•ˆç‡ä¼˜å…ˆ<br>è€æ¿å¾ˆç‰›é€¼, å›¢é˜Ÿæ— å¼±è€…</p>
</blockquote>
<p>è¿™é‡Œé¢æœ€é‡è¦çš„æ˜¯ <em>è€æ¿å¾ˆç‰›é€¼, å›¢é˜Ÿæ— å¼±è€…</em>, åœ¨ C ä½ ç»å¸¸å¯ä»¥çœ‹åˆ°ç­–åˆ’åŒå­¦åœ¨æ”¹åç«¯æˆ˜æ–—é€»è¾‘, æµ‹è¯•åŒå­¦åœ¨ç”¨æŒ‰é”®ç²¾çµå†™è‡ªåŠ¨æµ‹è¯•è„šæœ¬, UE å¦¹å­å¬å¾—æ‡‚ç¨‹åºé€»è¾‘è¿˜å…¼ç€å®¢æœ+è¿è¥, UI è®¾è®¡å¸ˆå’Œå‰ç«¯è®¨è®ºè¿™ä¸ªç•Œé¢æ‹¼çš„åˆç†æ€§. ä¸¤ä½è€æ¿ (@bin, @jinbo) æ›´æ˜¯ç‰›é€¼, ä»–ä»¬å°±æ˜¯æˆ‘å¿ƒç›®ä¸­çš„ä¸¤å°Šç¥, æˆ‘å°±ä¸å¤¸ä»–ä»¬äº†, å…å¾—è¢«è®¤ä¸ºåœ¨å¹ç‰›é€¼.</p>
<p><img src="https://ww4.sinaimg.cn/large/006tNc79ly1fcufng11glj30zk0qdact.jpg" alt="å¹´ä¸­å»è½°è¶´"></p>
<p><img src="https://ww3.sinaimg.cn/large/006tNc79ly1fcufg12hhjj30zk0qo0xq.jpg" alt="å¹´å¤œé¥­"></p>
<p>è¿™ä¸€å¹´é—´, å…¬å¸æ¥äº†ä¸€äº›äºº, ä¹Ÿèµ°äº†ä¸€äº›äºº, å¯¹äºæœ‰äº›äººè¿˜æ˜¯ååˆ†ä¸èˆçš„, ä½†æ˜¯æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„é€‰æ‹©, å¼ºæ‰­çš„ç“œä¸ç”œ. </p>
<p>å…¬å¸å¹´å¤œé¥­è¿™ä¸€å¤©, æˆ‘å–çš„é…©é…Šå¤§é†‰, ä¸ºç°åœ¨çš„è¿™äº›äºº, ä¹Ÿä¸ºç¦»å¼€é‚£äº›äºº !</p>
<h1 id="äºŒ-æŠ€æœ¯"><a href="#äºŒ-æŠ€æœ¯" class="headerlink" title="äºŒ. æŠ€æœ¯"></a>äºŒ. æŠ€æœ¯</h1><p>å…³äºæŠ€æœ¯, è¿™ä¸€å¹´æ²¡æœ‰å¾€å¹¿åº¦å»å‘å±•äº†, æ›´å¤šå¯¹ä¹‹å‰æŠ€æœ¯çš„å·©å›ºå’Œé¡¹ç›®åæœŸçš„ä¸€äº›ç†è§£. è¿™ä¸€å¹´è¯­è¨€çš„æŠ€æœ¯æ ˆä¸»è¦è¿˜æ˜¯ <code>lua + python + shell</code>, lua ç”¨æ¥åšé¡¹ç›®, python å’Œ shell ç”¨æ¥å†™æ”¯æŒ.</p>
<h2 id="Android-Studio"><a href="#Android-Studio" class="headerlink" title="Android Studio"></a>Android Studio</h2><p>2016 å¹´æœ€å¤§æ”¶è·ä¹‹ä¸€å°±æ˜¯å®ƒäº†, æ¥è§¦å®ƒæ˜¯ä¸€ä¸ªå¾ˆæœºç¼˜å·§åˆäº‹æƒ…, æˆ‘ä»¬æ‰“ç®—æ¥å…¥ä¸€ä¸ªå´©æºƒç»Ÿè®¡çš„ SDK , ä½†æ˜¯è¿™ä¸ª SDK åªæ”¯æŒ Android Studio (ä»¥åç®€ç§° AS) æ¥å…¥, æˆ‘ä»¬ä¼šä¸ºäº†ä¸€ä¸ª sdk æ”¹å˜æ•´ä¸ª Android é¡¹ç›®çš„ç»“æ„å— ? ä¼š . ç°åœ¨è¿˜ä¾ç¨€è®°å¾—å½“æ—¶ååˆ†æ²¡åº•æ°”çš„å¾ˆ @bin è¯´: </p>
<blockquote>
<p>â€œæˆ‘ä»¬èƒ½ä¸èƒ½æ¢ä¸€ä¸ª Android çš„ ide ?â€</p>
</blockquote>
<p>å½“æ—¶ Android ç«¯çš„é¡¹ç›®è¿˜ä¸æ˜¯å¾ˆå¤æ‚ï¼Œåœ¨ bin çš„æ”¯æŒä¸‹ï¼Œå¾ˆå¿«ä¾¿è¿ç§»åˆ°äº† AS ï¼Œç›´åˆ°åé¢æˆ‘ä»¬å›¢é˜Ÿåœ¨ä¸€å‘¨ä¹‹å†…æ¥å®Œ 30+ ä¸ªæ¸ é“çš„ sdk ï¼Œæ‰æ„è¯†åˆ°äº†å½“åˆçš„é€‰æ‹©æ˜¯å¤šä¹ˆçš„æ˜æ™º.</p>
<p>å½“ç„¶è¿™ä¸€è·¯å¹¶ä¸æ˜¯é¡ºé£é¡ºæ°´ï¼Œä¹Ÿé‡åˆ°äº†å¾ˆå¤šå‘ï¼Œå¹¸å¥½ Google åœ¨å¤§åŠ›æ¨ as ï¼Œé‡åˆ°çš„å‘åœ¨ Stack Overflow ä¸Šä¹Ÿéƒ½æœ‰ç­”æ¡ˆã€‚</p>
<p>æ„Ÿè°¢ Bugtags ï¼Œæ„Ÿè°¢ Android studio ã€‚å…³äºå´©æºƒç»Ÿè®¡çš„é—®é¢˜ï¼Œæˆ‘æœ‰ç©ºä¼šå•ç‹¬å¼€ä¸€ç¯‡æ–‡ç« æ¥å†™ã€‚</p>
<h2 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h2><p>å°±é¡¹ç›®æ¥è¯´ï¼Œä¹Ÿå¯è°“æ˜¯ â€œæ´»ä¹…è§â€ï¼Œæˆ‘å·¥ä½œäº†è¿™ä¹ˆå¤šå¹´ï¼Œç¬¬ä¸€æ¬¡èµ°åˆ°é¡¹ç›®çš„å¤§åæœŸã€‚ä¹‹å‰çš„é¡¹ç›®å¤šæ•°å€’åœ¨äº†ä¸Šçº¿å‰æˆ–ä¸Šçº¿åä¸ä¹…ï¼Œæ²¡æœ‰æƒ³åˆ°ä¸Šçº¿åç«Ÿç„¶ä¹Ÿæœ‰è¿™ä¹ˆå¤šçš„é—®é¢˜ã€‚</p>
<p>ä¹Ÿé‡åˆ°äº†å‡ æ¬¡é‡å¤§çš„çº¿ä¸Šäº‹æ•…ï¼Œå¯è°“æ˜¯å¿ƒæƒŠè‚‰è·³ï¼Œæˆ‘ä»¬éƒ½å¼€ç©ç¬‘è¯´å…¬å¸åº”è¯¥å¸¸å¤‡é€Ÿæ•ˆæ•‘å¿ƒä¸¸ã€‚</p>
<p>ä¼˜åŒ–åŒ…ä½“ç§¯ï¼Œä¼˜åŒ–å†…å­˜ï¼Œä¼˜åŒ–æ€§èƒ½ è¿™äº›ä¹‹å‰çº¸ä¸Šè°ˆå…µçš„æ–¹æ¡ˆä¹Ÿå¾—åˆ°äº†æ–°çš„è¯ é‡Šã€‚</p>
<p>è€Œä¸”éšç€é¡¹ç›®çš„ä¸æ–­æ¨è¿›ï¼Œä¹‹å‰å¥½å¤šæŠ€æœ¯æ–¹æ¡ˆéƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œæ¯”å¦‚çƒ­æ›´æ–°ï¼Œæ‰“åŒ…ï¼Œå›½é™…åŒ–ä¸æœ¬åœ°åŒ–ç­‰ç­‰ã€‚</p>
<h2 id="å›¢é˜Ÿ"><a href="#å›¢é˜Ÿ" class="headerlink" title="å›¢é˜Ÿ"></a>å›¢é˜Ÿ</h2><p>ä» 16 å¹´åˆï¼Œæˆ‘ä¹‹å‰å’Œå¦ä¸€äººè´Ÿè´£çš„å“ªä¸ªé¡¹ç›®é‡åˆ°æŒ«æŠ˜ï¼Œå› ä¸ºæ”¶è´¹å¤ªè¿‡åæœŸï¼ŒåŠ ä¸Šæ¨¡å‹äº§å“å¤ªè¿‡å¼ºç››ï¼Œæ²¡æœ‰å‘è¡Œå…¬å¸æ•¢äºæ­£é¢æ€¼ï¼Œæ‰€ä»¥å°±æç½®äº†ã€‚å¦ä¸€ä¸ªåŒäº‹ç¦»èŒï¼Œæˆ‘åŠ å…¥åˆ°äº†å…¬å¸çš„å¦ä¸€ä¸ªé¡¹ç›®ç»„å†…ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¹´è½»ä¸”æœ‰æ¿€æƒ…çš„å›¢é˜Ÿï¼Œä½†æ˜¯å¤§å®¶ç»éªŒç•¥æœ‰ä¸è¶³ï¼Œä¾¿ç”±æˆ‘è¿™ä¸ªâ€œè€äººâ€æ¥å¸¦é¢†è¿™ä¸ªå›¢é˜Ÿã€‚</p>
<p>å·¥ä½œäº†è¿™ä¹ˆä¹…ï¼Œå‡ ä¹æ˜¯ç¬¬ä¸€æ¬¡æ­£æ˜¯çš„å¸¦é¢†å›¢é˜Ÿï¼Œå¿ƒä¸­éš¾å…æˆšæˆšç„‰ã€‚å¦‚ä½•å¿«é€Ÿèå…¥å›¢é˜Ÿå¹¶è·å¾—å¤§å®¶çš„è®¤å¯å‘¢ï¼Ÿå’Œ @zengrong å¤§ç¥çš„é€‰æ‹©ç±»ä¼¼ï¼Œ</p>
<blockquote>
<p>è§£å†³ä¸€ä¸ªå¤§å®¶å¼€å‘è¿‡ç¨‹ä¸­çš„ç—›ç‚¹</p>
</blockquote>
<p>åœ¨è´Ÿè´£ä¸€ä¸ªå°æ¨¡å—çš„æ—¶å€™ï¼Œ æˆ‘å‘ç°é¡¹ç›®ä¸­æœ‰å¾ˆå¤šç›¸ä¼¼çš„æ§ä»¶ï¼Œæ¯ä¸ªéƒ½å¾—å•ç‹¬åšï¼Œé€»è¾‘å†—ä½™ä¸”æ•£è½çš„åˆ°å¤„éƒ½æ˜¯ï¼Œä¸ºä»€ä¹ˆä¸å®ç°ä¸€ä¸ªé€šç”¨çš„æ§ä»¶å»åšå‘¢ï¼Ÿç»†èŠ‚ä¸èµ˜è¿°ï¼Œæœ€ç»ˆè¿™ä¸ªæ§ä»¶æˆåŠŸçš„æ›¿æ¢äº†æ‰€æœ‰çš„è€æ§ä»¶ï¼Œå¸¦æ¥äº†æå¤§çš„æ•ˆç‡æå‡ã€‚</p>
<h1 id="ä¸‰-ç”Ÿæ´»"><a href="#ä¸‰-ç”Ÿæ´»" class="headerlink" title="ä¸‰. ç”Ÿæ´»"></a>ä¸‰. ç”Ÿæ´»</h1><h2 id="æ—…è¡Œ"><a href="#æ—…è¡Œ" class="headerlink" title="æ—…è¡Œ"></a>æ—…è¡Œ</h2><p>åœ¨ 16 å¹´æ˜¥èŠ‚å‰ï¼Œæˆ‘å’Œåª³å¦‡å¼€å§‹æˆ‘ä»¬çš„ ä¸Šæµ·-æ­å·-è‹å· ä¹‹æ—…ï¼Œä¸ºæœŸ 2 å‘¨ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æˆ‘å’Œå†°å­å‡ºå»æ¸¸ç©æ—¶é—´æœ€é•¿çš„ä¸€æ¬¡ã€‚</p>
<p><img src="https://ww2.sinaimg.cn/large/006tNc79ly1fcuzylbg29j30qd0zkjt3.jpg" alt=""></p>
<p>ä¸Šæµ·ä¸œæ–¹æ˜ç å¤–çš„ç»ç’ƒæ ˆé“, æ­å·çš„æ±½è½¦çœŸçš„æ˜¯ä¼šä¸»åŠ¨è®©è¡Œäººçš„, è‹å·è¡—è¾¹çš„ç‚¹å¿ƒçœŸçš„å¾ˆç²¾è‡´. ä¸–ç•Œè¿™ä¹ˆå¤§, å‡ºå»èµ°èµ°çœŸæ˜¯å¥½.</p>
<h2 id="å­¦è½¦"><a href="#å­¦è½¦" class="headerlink" title="å­¦è½¦"></a>å­¦è½¦</h2><p>å¾ˆæ—©ä¹‹å‰å°±æŠ¥åäº†ï¼Œä¸€ç›´æ²¡æœ‰ç‹ ä¸‹å¿ƒæ¥å»å­¦ï¼Œè¿˜ä¸€ç›´æ‹¿å·¥ä½œå¿™æ²¡æ—¶é—´æ¥æªå¡å†°å­ã€‚</p>
<p>ç›´åˆ°å†°å­ä¸€æ°”ä¹‹ä¸‹ç›´æ¥ç»™æˆ‘æŠ¥äº†åï¼Œæˆ‘æ‰å¼€å§‹æ‹¿èµ·æ‰‹æœºèƒŒé¢˜ï¼Œè¿™é‡ŒçœŸçš„è¦æ„Ÿè°¢ã€Šé©¾è€ƒå®å…¸ã€‹è¿™ä¸ª APP ï¼Œå®ƒä¸Šé¢çš„æ˜“é”™é¢˜éå¸¸ç‰›é€¼ï¼Œè€ƒè¯•çš„æ—¶å€™å‡ ä¹éƒ½ç¢°ä¸Šäº†ï¼Œå°±è¿™æ ·è½»æ¾é€šè¿‡ç§‘ç›®ä¸€ã€‚</p>
<p><img src="https://ww2.sinaimg.cn/large/006tNc79ly1fcuzlkei9nj30zk0qon0u.jpg" alt=""></p>
<p>ç§‘ç›®äºŒçš„æ—¶å€™ååˆ†è‰°è‹¦ï¼Œæˆ‘ä»¬æŠ¥çš„å‘¨æœ«ä¸Šåˆç­ï¼Œæ¯å¤©5ç‚¹å°±è¦èµ·åºŠï¼Œæœ‰ä¸€ä¸ªå¤šæœˆçš„æ—¶é—´çš„å‘¨æœ«æ—©æ™¨éƒ½æ˜¯åœ¨ç­è½¦ä¸Šåº¦è¿‡çš„ã€‚ç§‘ç›®äºŒè€ƒè¯•çš„æ—¶å€™å› ä¸ºè½¦å‹çš„åŸå› å·®ç‚¹æ²¡æœ‰è¿‡ï¼Œå¥½é™©ï¼</p>
<p>ç§‘ç›®ä¸‰å¾ˆç®€å•ï¼Œè¿‡ä¸è¿‡å¾ˆå¤šæ—¶å€™ä¸æ˜¯ç”±è‡ªå·±å†³å®šçš„ï¼Œåªè¦ç§‘ç›®äºŒå­¦çš„å¤Ÿæ‰å®ï¼Œä¸‹é¢å°±å¯ä»¥äº¤ç»™å‘½è¿äº†ï¼Œæˆ‘å¾ˆå¹¸è¿ï¼Œä¸€æ¬¡å°±è¿‡äº†ã€‚</p>
<p>ç§‘ç›®å››åŒæ ·å¾ˆç®€å•ï¼Œæ»¡åˆ†éš¾ï¼Œé€šè¿‡å´å¾ˆå®¹æ˜“ã€‚</p>
<p>å°±è¿™æ ·ï¼Œå†æ—¶ä¸¤ä¸ªæœˆï¼Œæˆ‘æˆåŠŸæ‹¿åˆ°ä¹‹å‰æ ¹æœ¬æ²¡æœ‰æƒ³åˆ°çš„é©¾ç…§ã€‚è€Œå†°å­ï¼Œå¥¹è¿˜æŒ‚åœ¨ç§‘ç›®äºŒå‘¢ï¼Œå“ˆå“ˆå“ˆï¼Œå˜²ç¬‘å¥¹ä¸€æŠŠã€‚</p>
<h2 id="èƒŒå•è¯"><a href="#èƒŒå•è¯" class="headerlink" title="èƒŒå•è¯"></a>èƒŒå•è¯</h2><p>æˆ‘å¤§æ¦‚æ˜¯åœ¨ 16 å¹´åˆçªç„¶å†³å®šèƒŒå•è¯çš„ï¼ŒåŸå› æˆ‘å·²ç»è®°ä¸æ¸…æ¥šäº†ã€‚ä»æ­¤ï¼Œæ—©æ™¨å…¬äº¤è½¦ä¸Šï¼Œå…¬å¸å•æ‰€å†…ï¼Œæ™šä¸Šç­‰è½¦æ—¶ï¼Œä½ éƒ½ä¼šçœ‹åˆ°ä¸€ä¸ªåœ¨èƒŒå•è¯çš„èº«å½±ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªèŠ±äº†å¥½å¤šé’±å­¦è‹±è¯­æŠ¥ç­éƒ½æ²¡æœ‰åšæŒä¸‹æ¥çš„æ„¿æœ›ï¼Œè¿™æ¬¡çœŸçš„èƒ½å¤ŸæˆåŠŸå—ï¼Ÿ</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNc79ly1fcuzpmd3y5j30k00zkgnl.jpg" alt=""></p>
<p>è¿™æ¬¡èƒ½åšæŒï¼Œå®Œå…¨å½’åŠŸäºã€Šç™¾è¯æ–©ã€‹ï¼Œå®çˆ·å¾ˆæ—©ä¹‹å‰å°±ç»™æˆ‘å®‰åˆ©è¿‡è¿™æ¬¾äº§å“ï¼Œå½“æ—¶åŠŸèƒ½è¿˜å¾ˆç®€é™‹ï¼Œæ²¡æœ‰åšæŒä¸‹æ¥ã€‚</p>
<p>èƒŒå•è¯å¯¹æˆ‘çš„å¸®åŠ©ååˆ†å¤§ï¼Œç°åœ¨æˆ‘å·²ç»å¯ä»¥å¾ˆç®€å•çš„æµè§ˆ Stack Overflow äº†ï¼Œèƒ½çœ‹æ‡‚æ¯ä¸€ä¸ªç­”æ¡ˆåœ¨è¯´ä»€ä¹ˆï¼Œç”šè‡³å·²ç»å¯ä»¥è‡ªå·±å»å›ç­”å¸®åŠ©åˆ«äººäº†ã€‚</p>
<h2 id="ç”Ÿæ—¥"><a href="#ç”Ÿæ—¥" class="headerlink" title="ç”Ÿæ—¥"></a>ç”Ÿæ—¥</h2><p>è¿™ä¸€å¹´æœ€å¤§æƒŠå–œå°±æ˜¯å†°å­ä¸ºæˆ‘å‡†å¤‡çš„ç”Ÿæ—¥æ´¾å¯¹, æˆ‘ä»å°éƒ½æ²¡æœ‰è¿™æ ·è¿‡è¿‡ç”Ÿæ—¥. </p>
<p><img src="https://ww2.sinaimg.cn/large/006tNc79ly1fcv02ph5dzj30zk0qowgn.jpg" alt=""></p>
<p>è™½ç„¶å¾ˆæœ´ç´ , ä½†å¯ä»¥çœ‹åˆ°ç”¨äº†å¾ˆå¤šå¿ƒ, å¬è¯´å†°å­å¹æ°”çƒå¹çš„è…®å¸®ç–¼, å“ˆå“ˆ , å¥½å‚» ! è°¢è°¢ä½ , è€å©†, æ°¸è¿œçˆ±ä½  !</p>
<h1 id="å››-å‰æ‰‹"><a href="#å››-å‰æ‰‹" class="headerlink" title="å››. å‰æ‰‹"></a>å››. å‰æ‰‹</h1><h2 id="å°ç±³åœˆé“è€³æœº"><a href="#å°ç±³åœˆé“è€³æœº" class="headerlink" title="å°ç±³åœˆé“è€³æœº"></a>å°ç±³åœˆé“è€³æœº</h2><p><img src="https://ww2.sinaimg.cn/large/006tNc79ly1fcuxwqotzcj30qd0zkq4e.jpg" alt=""></p>
<p>ä¸Šä¸€ä¸ªè€³æœº KOSS PORTAPRO æŒ‚æ‰ä¹‹å, å°±ä¸æ‰“ç®—ä¹°å¤´æˆ´å¼çš„äº†, éº»çƒ¦ä¸è¯´è¿˜å®¹æ˜“å. åœ¨å¾®åšä¸Šçœ‹åˆ°è°è¯´è¿™ä¸ªè€³æœºè¿˜ä¸é”™, ä¾¿å…¥æ‰‹äº†. æ€»ä½“æ¥è¯´, ç®—ä¸ä¸ŠæƒŠè‰³, ä½†è¿˜ç®—å¥½ç”¨, æ¯•ç«Ÿ <code>99</code> çš„ä»·ä½ä¹Ÿä¸ä¼šå¯¹å®ƒæœ‰ä»€ä¹ˆè¿‡åˆ†çš„è¦æ±‚.</p>
<h2 id="å°ç±³max"><a href="#å°ç±³max" class="headerlink" title="å°ç±³max"></a>å°ç±³max</h2><p><img src="https://ww4.sinaimg.cn/large/006tNc79ly1fcuzds4awbj30zk0qota8.jpg" alt=""></p>
<p>ä¹°çš„æ—¶å€™æƒ³çš„å¾ˆå¥½, å¤§å±å¯ä»¥ç”¨æ¥çœ‹ä¹¦, å®é™…å´å¾ˆå°‘çœ‹ä¹¦. æ€»è€Œè¨€ä¹‹, è´¨é‡æ²¡çš„è¯´, æˆ‘å¯¹å°ç±³çš„æ‰‹æœºå°±æ²¡æœ‰å¤±æœ›è¿‡, ä½†æ˜¯å¤§å±å•æ‰‹æ“ä½œè¿˜æ˜¯æœ‰æ‰€ä¸ä¾¿, ä¹°çš„æ—¶å€™è¿˜æ˜¯è¦æ…é‡ä¸€äº›.</p>
<hr>
<p>æ€»è€Œè¨€ä¹‹, è¿™æ˜¯å……å®è€Œåˆæ„‰å¿«çš„ 2016 å¹´, å·¥ä½œå’Œå®¶åº­éƒ½å¾ˆé¡ºå¿ƒ, å¸Œæœ› 17 å¹´èƒ½ç»§ç»­ä¿æŒä¸‹å». </p>
]]></content>
      
        
        <tags>
            
            <tag> å¹´ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x è§†é¢‘æ’­æ”¾]]></title>
      <url>http://blog.justbilt.com/2016/12/10/quickx-playvideo/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠ Quick-Cocos2d-x ä¸­æ’­æ”¾è§†é¢‘çš„é‚£äº›äº‹. </p>
<p>è¿™ç¯‡æ–‡ç« æ¥è‡ªäºæ—¥å¸¸çš„ç¬”è®°, å¹´ä»£å¯èƒ½ä¼šæœ‰äº›ä¹…è¿œ, åŠ ä¸Šå½“æ—¶æœ€å¼€å§‹è§†é¢‘æ’­æ”¾ä¸æ˜¯æˆ‘æ¥åšçš„, æ‰€ä»¥æœ‰äº›åœ°æ–¹æˆ‘çš„ç†è§£ä¹Ÿä¸æ˜¯å¾ˆæ·±åˆ». è‹¥æ˜¯æœ‰ä»€ä¹ˆä¸å¯¹çš„åœ°æ–¹, è¿˜æœ›å¤§å®¶ä¸åèµæ•™.</p>
<a id="more"></a>
<h1 id="ä¸€-åŸºæœ¬ç”¨æ³•"><a href="#ä¸€-åŸºæœ¬ç”¨æ³•" class="headerlink" title="ä¸€. åŸºæœ¬ç”¨æ³•"></a>ä¸€. åŸºæœ¬ç”¨æ³•</h1><p>æ’­æ”¾ä¸€æ®µè§†é¢‘:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> video = ccexp.VideoPlayer:<span class="built_in">create</span>()</span><br><span class="line">video:setPosition(cc.p(display.cx, display.cy))</span><br><span class="line">video:setAnchorPoint(cc.p(<span class="number">0.5</span>, <span class="number">0.5</span>))</span><br><span class="line">video:setContentSize(cc.size(display.width, display.height))</span><br><span class="line">video:setFileName(<span class="string">"res/start_video.mp4"</span>)</span><br><span class="line">video:setKeepAspectRatioEnabled(<span class="literal">true</span>)</span><br><span class="line">video:setFullScreenEnabled(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">self:addChild(video)</span><br></pre></td></tr></table></figure>
<p>ç›‘å¬è§†å±æ’­æ”¾äº‹ä»¶:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">onVideoEventCallback</span><span class="params">(sender, eventType)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"onVideoEventCallback:"</span>, eventType)</span><br><span class="line">    <span class="keyword">if</span> eventType == ccexp.VideoPlayerEvent.PLAYING <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">elseif</span> eventType == ccexp.VideoPlayerEvent.PAUSED <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">elseif</span> eventType == ccexp.VideoPlayerEvent.STOPPED <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">elseif</span> eventType == ccexp.VideoPlayerEvent.COMPLETED <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">video:addEventListener(onVideoEventCallback)</span><br><span class="line">video:play()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç„¶è€Œä½ åšå®Œè¿™ä¸€åˆ‡è¿˜æ˜¯å¯èƒ½ä¼šæ’­æ”¾ä¸å‡ºæ¥è§†é¢‘, æ²¡æœ‰å…³ç³», å¤šæ’­æ”¾å‡ æ¬¡å°±å‡ºæ¥å•¦.</p>
</blockquote>
<h1 id="äºŒ-é‡åˆ°çš„é—®é¢˜"><a href="#äºŒ-é‡åˆ°çš„é—®é¢˜" class="headerlink" title="äºŒ. é‡åˆ°çš„é—®é¢˜"></a>äºŒ. é‡åˆ°çš„é—®é¢˜</h1><h2 id="é—®é¢˜-1-iOS-æ’­æ”¾è§†é¢‘å®Œåé»‘å±"><a href="#é—®é¢˜-1-iOS-æ’­æ”¾è§†é¢‘å®Œåé»‘å±" class="headerlink" title="é—®é¢˜ 1: iOS æ’­æ”¾è§†é¢‘å®Œåé»‘å±"></a>é—®é¢˜ 1: iOS æ’­æ”¾è§†é¢‘å®Œåé»‘å±</h2><p>cocos2dx 3.3 iOSç«¯æ’­æ”¾è§†é¢‘å®Œåé»‘å±, æ§åˆ¶å°ä¸­æç¤ºæ—¥å¿—: OpenGL error 0x0506 in -[CCEAGLView swapBuffers] 324</p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<p><a href="http://www.cnblogs.com/cc4coco/p/4188347.html" target="_blank" rel="noopener">http://www.cnblogs.com/cc4coco/p/4188347.html</a></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>) viewDidAppear:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line"></span><br><span class="line">    cocos2d::Director::getInstance()-&gt;resume();</span><br><span class="line">    cocos2d::Director::getInstance()-&gt;startAnimation();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewWillDisappear:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line"></span><br><span class="line">    cocos2d::Director::getInstance()-&gt;pause();</span><br><span class="line">    cocos2d::Director::getInstance()-&gt;stopAnimation();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜-2-åœ¨-iOS-9-2-ä»¥ä¸Šä¼šå´©æºƒ"><a href="#é—®é¢˜-2-åœ¨-iOS-9-2-ä»¥ä¸Šä¼šå´©æºƒ" class="headerlink" title="é—®é¢˜ 2: åœ¨ iOS 9.2 ä»¥ä¸Šä¼šå´©æºƒ"></a>é—®é¢˜ 2: åœ¨ iOS 9.2 ä»¥ä¸Šä¼šå´©æºƒ</h2><p>è§£å†³æ–¹æ¡ˆ:</p>
<p><a href="https://github.com/cocos2d/cocos2d-x/issues/14855" target="_blank" rel="noopener">https://github.com/cocos2d/cocos2d-x/issues/14855</a></p>
<p>ä¿®æ”¹ VideoPlayer ç±»çš„ææ„å‡½æ•°, å°† <code>dealloc</code> æ”¹ä¸º <code>release</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">VideoPlayer::~VideoPlayer()</span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">if</span>(_videoView)</span><br><span class="line">     &#123;</span><br><span class="line">-        [((UIVideoViewWrapperIos*)_videoView) dealloc];</span><br><span class="line">+        [((UIVideoViewWrapperIos*)_videoView) release];</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜-3-iOS-ä¸Šæ’­æ”¾è§†é¢‘æœ‰è¿›åº¦æ¡-åŒå‡»å¯ä»¥æ”¾å¤§ç¼©å°-Android-ç‚¹å‡»å¯ä»¥æš‚åœ"><a href="#é—®é¢˜-3-iOS-ä¸Šæ’­æ”¾è§†é¢‘æœ‰è¿›åº¦æ¡-åŒå‡»å¯ä»¥æ”¾å¤§ç¼©å°-Android-ç‚¹å‡»å¯ä»¥æš‚åœ" class="headerlink" title="é—®é¢˜ 3: iOS ä¸Šæ’­æ”¾è§†é¢‘æœ‰è¿›åº¦æ¡, åŒå‡»å¯ä»¥æ”¾å¤§ç¼©å°, Android ç‚¹å‡»å¯ä»¥æš‚åœ"></a>é—®é¢˜ 3: iOS ä¸Šæ’­æ”¾è§†é¢‘æœ‰è¿›åº¦æ¡, åŒå‡»å¯ä»¥æ”¾å¤§ç¼©å°, Android ç‚¹å‡»å¯ä»¥æš‚åœ</h2><p>è§£å†³æ–¹æ¡ˆ:</p>
<p>è¿™ä¸ªé—®é¢˜æŒºè®©äººå•¼ç¬‘çš†éçš„, ä¸çŸ¥é“å½“æ—¶è®¾è®¡è¿™ä¸ªç±»çš„äººæ˜¯å¦‚ä½•è€ƒè™‘çš„, è‡³å°‘ä¹Ÿåº”è¯¥æä¾›ä¸€ä¸ªå…³é—­çš„æ¥å£å§. å¥½, è®©æˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•è§£å†³å®ƒ.</p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVajw1fam4s9vv7ij30dj0m9q3f.jpg" alt=""></p>
<h3 id="1-éšè—-iOS-æ’­æ”¾è¿›åº¦æ¡"><a href="#1-éšè—-iOS-æ’­æ”¾è¿›åº¦æ¡" class="headerlink" title="1. éšè— iOS æ’­æ”¾è¿›åº¦æ¡"></a>1. éšè— iOS æ’­æ”¾è¿›åº¦æ¡</h3><p>åœ¨ UIVideoPlayer-ios.mm çš„ <code>-(void) setURL:(int)videoSource :(std::string &amp;)videoUrl</code> å‡½æ•°ä¸­, ä¿®æ”¹ <code>MPMovieControlStyleEmbedded</code> ä¸º <code>MPMovieControlStyleNone</code>:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-    <span class="keyword">self</span>.moviePlayer.controlStyle = <span class="built_in">MPMovieControlStyleEmbedded</span>;</span><br><span class="line">+    <span class="keyword">self</span>.moviePlayer.controlStyle = <span class="built_in">MPMovieControlStyleNone</span>;</span><br></pre></td></tr></table></figure>
<p>è¿›åº¦æ¡éšè—äº†, ä½†æ˜¯è§†é¢‘æ’­æ”¾æ—¶åŒå‡»ç¼©æ”¾çš„é—®é¢˜å´æ— æ³•è§£å†³.</p>
<h3 id="2-ç¦ç”¨-Android-ç‚¹å‡»æš‚åœ"><a href="#2-ç¦ç”¨-Android-ç‚¹å‡»æš‚åœ" class="headerlink" title="2. ç¦ç”¨ Android ç‚¹å‡»æš‚åœ"></a>2. ç¦ç”¨ Android ç‚¹å‡»æš‚åœ</h3><p>ä¿®æ”¹ <code>Cocos2dxWebView.java</code> ä¸­çš„ <code>onTouchEvent</code> å‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent event)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        if((event.getAction() &amp; MotionEvent.ACTION_MASK) == MotionEvent.ACTION_UP)</span></span><br><span class="line"><span class="comment">//        &#123;</span></span><br><span class="line"><span class="comment">//            if (isPlaying()) &#123;</span></span><br><span class="line"><span class="comment">//                pause();</span></span><br><span class="line"><span class="comment">//            &#125; else if(mCurrentState == STATE_PAUSED)&#123;</span></span><br><span class="line"><span class="comment">//                resume();</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜-4-vivoæ‰‹æœºæ— æ³•æ’­æ”¾è§†é¢‘çš„bug"><a href="#é—®é¢˜-4-vivoæ‰‹æœºæ— æ³•æ’­æ”¾è§†é¢‘çš„bug" class="headerlink" title="é—®é¢˜ 4: vivoæ‰‹æœºæ— æ³•æ’­æ”¾è§†é¢‘çš„bug"></a>é—®é¢˜ 4: vivoæ‰‹æœºæ— æ³•æ’­æ”¾è§†é¢‘çš„bug</h2><p>è§£å†³æ–¹æ¡ˆ:</p>
<p>ç»è¿‡æ–­ç‚¹è·Ÿè¸ª, å®šä½åˆ°äº†åŸå› , è§†é¢‘çš„å°ºå¯¸è·å–çš„æœ‰é—®é¢˜, æˆ‘å°è¯•ä¿®æ”¹äº† <code>setVideoRect</code> å‡½æ•°ä¸­çš„ä¸¤è¡Œä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-        mViewWidth = maxWidth;</span><br><span class="line">-        mViewHeight = maxHeight;</span><br><span class="line">+        mViewWidth = <span class="number">1</span>;</span><br><span class="line">+        mViewHeight = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>å¾ˆç¥å¥‡çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜.</p>
<h2 id="é—®é¢˜-5-å¤šæ¬¡è°ƒç”¨å¯èƒ½ä¼šé®æŒ¡-SDK-çš„å¼¹å‡ºç•Œé¢"><a href="#é—®é¢˜-5-å¤šæ¬¡è°ƒç”¨å¯èƒ½ä¼šé®æŒ¡-SDK-çš„å¼¹å‡ºç•Œé¢" class="headerlink" title="é—®é¢˜ 5: å¤šæ¬¡è°ƒç”¨å¯èƒ½ä¼šé®æŒ¡ SDK çš„å¼¹å‡ºç•Œé¢"></a>é—®é¢˜ 5: å¤šæ¬¡è°ƒç”¨å¯èƒ½ä¼šé®æŒ¡ SDK çš„å¼¹å‡ºç•Œé¢</h2><p>æˆ‘ä»¬æ¸¸æˆä¸­æœ‰ä¸€ä¸ªé‡å¯çš„åŠŸèƒ½, æ¯æ¬¡é‡å¯éƒ½ä¼šæ’­æ”¾ä¸€ä¸ªè§†é¢‘, è¿™æ ·æŸäº›æ¸ é“çš„ç™»å½•ç•Œé¢å°±çœ‹ä¸åˆ°äº†, å¦ä¸€ä¸ªä¸æ’­æ”¾è§†å±çš„é¡¹ç›®å°±æ²¡æœ‰é—®é¢˜, å¥½åƒæ˜¯æ¯æ¬¡æ’­æ”¾éƒ½ä¼šæé«˜æ¸¸æˆçš„å±‚çº§.</p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<p>éå†æ‰€æœ‰ window , æ‰¾åˆ° SDK çš„é‚£ä¸ª window, å°†å®ƒçš„ windowLevel æé«˜ä¸€çº§.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="built_in">UIWindow</span> * w <span class="keyword">in</span> [[<span class="built_in">UIApplication</span> sharedApplication]windows])&#123;</span><br><span class="line">    <span class="keyword">if</span> ([w isKindOfClass:<span class="built_in">NSClassFromString</span>(<span class="string">@"XSDKOriginalWindow"</span>)]) &#123;</span><br><span class="line">        [w setWindowLevel:[[[<span class="built_in">UIApplication</span> sharedApplication]keyWindow]windowLevel]+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜-6-è¿˜æœ‰ä»€ä¹ˆé—®é¢˜-éƒ½è¯´äº†å§"><a href="#é—®é¢˜-6-è¿˜æœ‰ä»€ä¹ˆé—®é¢˜-éƒ½è¯´äº†å§" class="headerlink" title="é—®é¢˜ 6: è¿˜æœ‰ä»€ä¹ˆé—®é¢˜, éƒ½è¯´äº†å§"></a>é—®é¢˜ 6: è¿˜æœ‰ä»€ä¹ˆé—®é¢˜, éƒ½è¯´äº†å§</h2><p>å¦‚æœæ’­æ”¾æ—¶å€™æ˜¯é»‘å±ï¼ŒæŠŠæ¸¸æˆåˆ‡åˆ°åå°ï¼Œå†è¿›å…¥æ¸¸æˆå°±èƒ½ä»å¤´æ’­æ”¾ï¼<br>å¦‚æœæ’­æ”¾æ—¶å€™æ­£å¸¸ï¼Œåˆ‡åˆ°åå°å†åˆ‡å›æ¥å°±å˜æˆé»‘å±</p>
<p><a href="http://www.cocoachina.com/bbs/read.php?tid-306892.html" target="_blank" rel="noopener">http://www.cocoachina.com/bbs/read.php?tid-306892.html</a></p>
<p>Cocos2d-x V3.10ç‰ˆæœ¬ä¸­çš„videoplayeré—®é¢˜<br><a href="http://www.voidcn.com/blog/sh15285118586/article/p-5989468.html" target="_blank" rel="noopener">http://www.voidcn.com/blog/sh15285118586/article/p-5989468.html</a></p>
<p>å…³äºcocos2dx 3.x VideoPlayerçš„é—®é¢˜<br><a href="http://blog.sina.com.cn/s/blog_93add5520102w6n9.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_93add5520102w6n9.html</a></p>
<p>cocos2d-xè§†é¢‘æ§ä»¶VideoPlayerçš„ç”¨æˆ·æ“ä½œæ è¿›åº¦æ¡å»é™¤<br><a href="http://blog.csdn.net/pklll000pp44/article/details/51337577" target="_blank" rel="noopener">http://blog.csdn.net/pklll000pp44/article/details/51337577</a></p>
<hr>
<p>è¿˜çœŸçš„æ˜¯é—®é¢˜ä¸€å¤§å †å‘¢! å¤§å®¶æœ€å¥½è¿˜æ˜¯å›å»å’Œç­–åˆ’å¤§å¤§å•†é‡ä¸‹, åˆ«æ’­æ”¾è§†é¢‘äº†.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> videoplayer </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¸€ä¸ªå‘½ä»¤è¡Œçš„ TexturePacker æ‹†è§£å·¥å…·  (äºŒ)]]></title>
      <url>http://blog.justbilt.com/2016/10/29/untp-2/</url>
      <content type="html"><![CDATA[<p>è·ç¦»ç¬¬ä¸€ç‰ˆçš„ <code>untp</code> å‘å¸ƒå·²ç»æœ‰ä¸€å¹´åŠçš„æ—¶é—´äº†, åœ¨è¿™ä¸ªé¡¹ç›®ä¸Šæˆ‘æ”¶è·äº†å¾ˆå¤šçš„ç¬¬ä¸€æ¬¡:</p>
<blockquote>
<p>ç¬¬ä¸€æ¬¡æœ‰ä¸€ä¸ªé¡¹ç›®çš„ star æ•°è¶…è¿‡ 50<br>ç¬¬ä¸€æ¬¡å¾€ pypi ä¸Šä¸Šä¼ é¡¹ç›®<br>ç¬¬ä¸€æ¬¡å¦‚æ­¤è®¤çœŸçš„ç»´æŠ¤ä¸€ä¸ªé¡¹ç›®<br>â€¦</p>
</blockquote>
<p>è¿™ç¯‡æ–‡ç« å·²ç»æ˜¯å…³äº untp çš„ç¬¬ä¸‰ç¯‡æ–‡ç« äº†, æ‰€æœ‰çš„æ–‡ç« åˆ—è¡¨å¯ä»¥<a href="/tags/untp">æŸ¥çœ‹è¿™é‡Œ</a>. ä¸‹é¢æˆ‘æ¥è®²è®² untp æœ€è¿‘çš„å‡ æ¬¡æ›´æ–°ä»¥åŠåç»­çš„ä¸€ä¸ªç»´æŠ¤è®¡åˆ’.</p>
<a id="more"></a>
<h1 id="ä¸€-æ›´æ–°"><a href="#ä¸€-æ›´æ–°" class="headerlink" title="ä¸€. æ›´æ–°"></a>ä¸€. æ›´æ–°</h1><h2 id="1-1-3"><a href="#1-1-3" class="headerlink" title="1.1.3"></a>1.1.3</h2><ol>
<li>æ–°å¢: æ”¯æŒ CocoStudio v0 å¯¼å‡ºçš„åŠ¨ç”»æ ¼å¼</li>
</ol>
<h2 id="1-1-2"><a href="#1-1-2" class="headerlink" title="1.1.2"></a>1.1.2</h2><ol>
<li>æ–°å¢: æ‹†è§£æ–‡ä»¶å¤¹ä¹Ÿæ”¯æŒæŒ‡å®šè¾“å‡ºç›®å½•äº†</li>
<li>æ–°å¢: å•å…ƒæµ‹è¯•, ä»¥åå‘ç‰ˆæœ¬ä¼šç¨³å¾ˆå¤š</li>
</ol>
<h2 id="1-1-1"><a href="#1-1-1" class="headerlink" title="1.1.1"></a>1.1.1</h2><ol>
<li>ä¿®å¤: <code>plist + jpg</code> ä¼šæ‹†è§£å¤±è´¥çš„ bug</li>
</ol>
<h2 id="1-1-0"><a href="#1-1-0" class="headerlink" title="1.1.0"></a>1.1.0</h2><ol>
<li>æ·»åŠ äº†ç®€æ˜“ GUI ç•Œé¢çš„æ”¯æŒ, å·²ç»ä¸èƒ½è¯´æ˜¯ <em>A command line tool</em> äº†</li>
<li>åŒæ—¶å…¼å®¹äº† Python2 å’Œ Python3</li>
</ol>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fktqhfw5m8j30eo07c0t6.jpg" alt=""></p>
<p>å®‰è£…æœ€æ–°ç‰ˆæœ¬å, è¾“å…¥ <code>untp</code> ä¸åŠ ä»»ä½•å‚æ•°å°±ä¼šæ‰“å¼€ GUI ç•Œé¢, ä¸€ä¸ªæŒ‰é’®æ‹†è§£å•ä¸ªæ–‡ä»¶, ä¸€ä¸ªæŒ‰é’®æ‹†è§£æ–‡ä»¶å¤¹, ä¸‹æ–¹æ˜¯æ—¥å¿—çª—å£.</p>
<h2 id="1-0-9"><a href="#1-0-9" class="headerlink" title="1.0.9"></a>1.0.9</h2><ol>
<li>ä¿®å¤: è§£æ plist æ—¶å› ä¸ºæ•°æ®ä¸­å«æœ‰ç©ºç™½ç¬¦å·å¯¼è‡´è§£æå¤±è´¥çš„ bug</li>
</ol>
<h2 id="1-0-8"><a href="#1-0-8" class="headerlink" title="1.0.8"></a>1.0.8</h2><ol>
<li>æ–°å¢: æ”¯æŒ cocos2d-0.99.4 v1 æ ¼å¼æ”¯æŒ</li>
</ol>
<h2 id="1-0-7"><a href="#1-0-7" class="headerlink" title="1.0.7"></a>1.0.7</h2><ol>
<li>ä¿®å¤: è§£ææ–‡ä»¶è¿”å›å€¼é”™è¯¯å¯¼è‡´è§£æå¤±è´¥</li>
</ol>
<h2 id="1-0-6"><a href="#1-0-6" class="headerlink" title="1.0.6"></a>1.0.6</h2><ol>
<li>æ–°å¢: å¯ä»¥å°† fnt è½¬åŒ–ä¸ºå›¾ç‰‡</li>
<li>ä¿®å¤: å°† pvr è½¬åŒ–ä¸º png æ—¶ä¼šæ±¡æŸ“åŸå§‹ç›®å½•</li>
<li>ä¿®å¤: å½“ plist ä¸­çš„å›¾ç‰‡å«æœ‰è·¯å¾„æ—¶æ— æ³•æ­£ç¡®ç”Ÿæˆå›¾ç‰‡</li>
<li>ä¿®å¤: å½“ offset ä¸º float å€¼æ—¶è§£æ plist å‡ºé”™</li>
</ol>
<h2 id="1-0-5"><a href="#1-0-5" class="headerlink" title="1.0.5"></a>1.0.5</h2><ol>
<li>æ‹†è§£å•ä¸ªæ–‡ä»¶æ—¶æ”¯æŒ <code>-o</code> å‚æ•°æŒ‡å®šè¾“å‡ºç›®å½•</li>
<li>å¯ä»¥åœ¨ <code>python</code> ä¸­ <code>import</code></li>
<li>æ”¯æŒ cocos2d/cocos2d-x v3 æ ¼å¼</li>
</ol>
<h2 id="1-0-4"><a href="#1-0-4" class="headerlink" title="1.0.4"></a>1.0.4</h2><ol>
<li>ä½¿ç”¨ argparse è§£æè°ƒç”¨å‚æ•°, æ”¯æŒæ›´å¤šé€‰é¡¹</li>
<li>æ•è·å›¾ç‰‡æ‰“å¼€å¼‚å¸¸, ç¨‹åºæ›´åŠ å¥å£®</li>
<li>æ”¯æŒæ–‡ä»¶å¤¹é€’å½’æŸ¥æ‰¾æ‰€æœ‰ plist æ‹†è§£</li>
</ol>
<h2 id="1-0-3"><a href="#1-0-3" class="headerlink" title="1.0.3"></a>1.0.3</h2><ol>
<li>ä¿®å¤ä¾èµ– Pillow æ¨¡å—ç‰ˆæœ¬å¤§äº 3.0 æ—¶å›¾ç‰‡è¾“å‡ºé”™è¯¯</li>
</ol>
<h2 id="1-0-2"><a href="#1-0-2" class="headerlink" title="1.0.2"></a>1.0.2</h2><ol>
<li>å…¼å®¹ python3</li>
<li>æ”¾å¼ƒä¹‹å‰çš„æ‰“åŒ…å‘å¸ƒ, æ”¹ä¸º pypi å‘å¸ƒ</li>
<li>ä¿®å¤ä¸€å¤„è·¯å¾„é”™è¯¯</li>
<li>æ ¹æ® python code style ä¼˜åŒ–ä»£ç </li>
<li>pvr,pvr.czz æ ¼å¼æ”¯æŒ (éœ€è¦å®‰è£… <code>TexturePacker</code> å‘½ä»¤è¡Œå·¥å…·)</li>
</ol>
<h1 id="äºŒ-åç»­è®¡åˆ’"><a href="#äºŒ-åç»­è®¡åˆ’" class="headerlink" title="äºŒ. åç»­è®¡åˆ’"></a>äºŒ. åç»­è®¡åˆ’</h1><p>untp è¿™ä¸ªé¡¹ç›®æœ€åˆæ¥æºäºé¡¹ç›®ä¸­çš„ä¸€ä¸ªéœ€æ±‚, æ‰€ä»¥å¼€å§‹åªæ˜¯ä¸ºäº†è‡ªç”¨, å¼€æºä¹‹åå‘ç°æœ‰èƒ½å¸®åŠ©ä¸€äº›äºº, é¡ºä¾¿å®ç°ä¸€ä¸‹ä»–ä»¬çš„ä¸€äº›å°éœ€æ±‚, è‡ªæˆ‘æ›´æ–°åŠ¨åŠ›å¹¶ä¸æ˜¯å¾ˆè¶³, å› æ­¤æ›´æ–°çš„é¢‘ç‡ä¸æ˜¯å¾ˆé«˜.</p>
<p>ä¹‹å‰çš„å‘å±•ç­–ç•¥æˆ‘ä¸€ç›´éƒ½æ˜¯æŒ‰ç€æ›´ä¾¿æ·å®‰è£…, æ›´æ–¹ä¾¿ä½¿ç”¨æ–¹å‘ä¸Šèµ°çš„, ä»ä¸€å¼€å§‹çš„ PyInstaller æ‰“åŒ…åˆ°åé¢çš„ä¸Šä¼ åˆ° pypi , ä»å¼€å§‹åªæ”¯æŒå•ä¸€æ–‡ä»¶åˆ°æ”¯æŒç›®å½•, éƒ½æ˜¯æŒ‰ç…§è¿™ä¸ªæ€è·¯æçš„.è‡³äºåé¢å¦‚ä½•å‘å±•æˆ‘ä¹Ÿæ²¡æœ‰å¾ˆå¥½çš„æƒ³æ³•, æˆ–è®¸è®©å®ƒåœç•™åœ¨è¿™ä¸€ç‰ˆä¹Ÿå¾ˆå¥½. ä»Šå¤©çœ‹åˆ°å¼ å°é¾™çš„ä¸€ç¯‡å†…éƒ¨åˆ†äº«, ä¸€ä¸ªå¥½çš„å·¥å…·å°±åº”è¯¥åªæ˜¯ä¸€ä¸ªå·¥å…·, æƒ³åˆ°å°±ç”¨, ç”¨å®Œå°±èµ°, ä¸è¦æƒ³ç€æŠŠç”¨æˆ·é»ä½.</p>
<p>æ‰€ä»¥, untp å°±åªæ˜¯ä¸€ä¸ªæ‹†è§£å¤§å›¾çš„å·¥å…·, ç»å¯¹ä¸åšå…¶ä»–çš„åŠŸèƒ½. åœ¨è¿™ä¸ªåŸåˆ™çš„åŸºç¡€ä¸Š, æœ‰è¿™ä¹ˆå‡ ä¸ªæ–¹å‘å»æ:</p>
<ol>
<li><del>GUI ç•Œé¢çš„æ”¯æŒ</del> supported since version 1.1.0</li>
<li>æ”¯æŒæ›´å¤šçš„æ ¼å¼</li>
</ol>
<p>æˆ‘æƒ³ä½¿ç”¨è¿™ä¸ªå·¥å…·çš„äººå¯èƒ½ä¸ä¸€å®šæ˜¯ç¨‹åºå‘˜, ä»–ä»¬ä¸ä¸€å®šæ‡‚ pip , ä¸ä¸€å®šä¼šæ‰“å¼€ç»ˆç«¯. æ‰€ä»¥ä¸€ä¸ª GUI çš„ç•Œé¢å°±å¾ˆé‡è¦äº†. ç¬¬äºŒä¸ªæ˜¯å¯ä»¥è®©æ›´å¤šå¼•æ“çš„å¼€å‘è€…æ¥ä½¿ç”¨, ç°åœ¨åªæ”¯æŒ cocos æ˜¯æœ‰äº›ç‹­éš˜äº†, å¯¹è‡ªå·±ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½åœ°çš„é”»ç‚¼.</p>
<p>å¦‚æœä½ è¿˜æœ‰æ›´å¥½çš„å»ºè®®, æ¬¢è¿åœ¨è¯„è®ºé‡Œæˆ–è€… <a href="https://github.com/justbilt/untp/issues" target="_blank" rel="noopener">issue</a> ä¸­æå‡º.</p>
<h1 id="ä¸‰-ä¸­æ–‡ä½¿ç”¨è¯´æ˜-æŒç»­æ›´æ–°"><a href="#ä¸‰-ä¸­æ–‡ä½¿ç”¨è¯´æ˜-æŒç»­æ›´æ–°" class="headerlink" title="ä¸‰. ä¸­æ–‡ä½¿ç”¨è¯´æ˜(æŒç»­æ›´æ–°)"></a>ä¸‰. ä¸­æ–‡ä½¿ç”¨è¯´æ˜(æŒç»­æ›´æ–°)</h1><h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h2><p>ç°åœ¨å¯ä»¥é‡‡ç”¨ä¸¤ç§æ–¹å¼å®‰è£…, åœ¨ç»ˆç«¯ä¸­é”®å…¥ <code>pip install untp</code> æˆ–è€… clone ä»£ç åˆ°æœ¬åœ°, åœ¨æ ¹ç›®å½• <code>python setup install</code> .</p>
<h2 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2. ä½¿ç”¨"></a>2. ä½¿ç”¨</h2><p>å½“æˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­é”®å…¥ <code>untp -h</code> å, ä¼šå¾—åˆ°ä¸‹é¢è¿™æ®µè¾“å‡º:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">usage:</span><br><span class="line">untp ../btn.plist</span><br><span class="line">untp ../btn.plist -i ../btn.png</span><br><span class="line">untp ../data</span><br><span class="line">untp ../data -r</span><br><span class="line">positional arguments:</span><br><span class="line">  path                  plist/fnt file name or directory</span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help            show this help message and exit</span><br><span class="line">  -o output, --output output</span><br><span class="line">                        specified output directory</span><br><span class="line">For file:</span><br><span class="line">  -i image_file, --image_file image_file</span><br><span class="line">                        specified image file for plist</span><br><span class="line">For directory:</span><br><span class="line">  -r, --recursive</span><br></pre></td></tr></table></figure>
<p>å¯¹äºå•ä¸ª plist æ–‡ä»¶, å¯ä»¥ <code>untp xxx.plist</code> æ¥æ‹†è§£å®ƒ, ä¼šè¯»å– plist ä¸­é…ç½®çš„å›¾ç‰‡è¾“å‡ºåˆ°åŒåçš„ç›®å½•ä¸­, å¯ä»¥ä½¿ç”¨ <code>-i</code> æŒ‡å®šå›¾ç‰‡.</p>
<p>å¯¹äºç›®å½•, ä½¿ç”¨ <code>untp path</code> path æ˜¯åŒ…å« <code>plist</code> æ–‡ä»¶çš„ç›®å½•, å¯ä»¥ä½¿ç”¨ <code>-r</code> å‚æ•°æŒ‡å®šéå†å­ç›®å½•.</p>
<p>ä»¥ä¸Šä¸¤ç§éƒ½å¯ä»¥ä½¿ç”¨ <code>-o/--output</code> æŒ‡å®šè¾“å‡ºç›®å½•.</p>
<p>(ä»¥ä¸Š)</p>
]]></content>
      
        
        <tags>
            
            <tag> Tool </tag>
            
            <tag> untp </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x utf8 æ”¯æŒ]]></title>
      <url>http://blog.justbilt.com/2016/09/23/quickx-utf8-support/</url>
      <content type="html"><![CDATA[<h1 id="ä¸€-éœ€æ±‚"><a href="#ä¸€-éœ€æ±‚" class="headerlink" title="ä¸€. éœ€æ±‚"></a>ä¸€. éœ€æ±‚</h1><h2 id="1-è®¡ç®—ç©å®¶åå­—å­—ç¬¦æ•°"><a href="#1-è®¡ç®—ç©å®¶åå­—å­—ç¬¦æ•°" class="headerlink" title="1. è®¡ç®—ç©å®¶åå­—å­—ç¬¦æ•°"></a>1. è®¡ç®—ç©å®¶åå­—å­—ç¬¦æ•°</h2><p>å¯¹äºè¿™ä¸ªéœ€æ±‚ä¸€èˆ¬æƒ…å†µä¸‹ <code>string.len</code> æˆ– quick è‡ªå¸¦çš„ <code>string.utf8len</code> å°±èƒ½æ»¡è¶³, ä½†æ˜¯å¦‚æœéœ€æ±‚æ˜¯:</p>
<blockquote>
<p>å¯¹äºåƒ ä¸­æ–‡/æ—¥æ–‡/éŸ©æ–‡ è¿™æ ·çš„æ–¹å—å­—ä¸€ä¸ªå  2 ä¸ªé•¿åº¦, å…¶ä»–å­—ç¬¦å  1 ä¸ªé•¿åº¦.</p>
</blockquote>
<p>è¯¥å¦‚ä½•æ»¡è¶³å‘¢ ? </p>
<a id="more"></a>
<h2 id="2-å±è”½-emoji-è¡¨æƒ…"><a href="#2-å±è”½-emoji-è¡¨æƒ…" class="headerlink" title="2. å±è”½ emoji è¡¨æƒ…"></a>2. å±è”½ emoji è¡¨æƒ…</h2><p>æˆ‘ä»¬æ¸¸æˆçš„èŠå¤©/èµ·åéƒ½æ˜¯ä¸å…è®¸è¾“å…¥ emoji è¡¨æƒ…çš„, é‚£ä¹ˆè¯¥å¦‚ä½•åˆ¤æ–­ç©å®¶è¾“å…¥çš„æ–‡å­—ä¸­åŒ…å« emoji è¡¨æƒ…å‘¢ ? </p>
<p>åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç« (<a href="/2016/05/01/quickx-editbox-util/#u4E8C-__u5C4F_u853D_Emoji__u8F93_u5165">Quick-Cocos2d-x EditBox å‡ ä¸ªå°æŠ€å·§</a>)ä¸­æœ‰æåˆ°è¿‡è¿™ä¸ªéœ€æ±‚, å½“æ—¶åˆ†æäº†ä¸‹æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆ:</p>
<ol>
<li>æ— æ³•è¾“å…¥, å¼¹å‡ºé”®ç›˜ç‚¹å‡»è¡¨æƒ…æ²¡æœ‰ååº”</li>
<li>è¾“å…¥å®Œæˆå, æ¸¸æˆå†…ç‚¹å‡»æäº¤æ—¶æç¤ºéæ³•</li>
</ol>
<p>æœ¬æ¥æ‰“ç®—æ˜¯ä½¿ç”¨<strong>æ–¹æ³•2</strong>çš„, è‹¦äºæ— æ³•åœ¨ lua è¿™è¾¹è¯†åˆ«å‡º emoji , æ‰€ä»¥åªèƒ½æ›²çº¿æ•‘å›½çš„ä½¿ç”¨çš„<strong>æ–¹æ³•1</strong>, æ¯ä¸ªå¹³å°å¾—å•ç‹¬å®ç°ä¸è¯´, è¿˜å®¹æ˜“å‡º bug, å‡ºäº† bug äº¦æ— æ³•çƒ­æ›´æ–°ä¿®å¤.</p>
<p>æœ€è¿‘è¿˜çœŸæ˜¯é‡åˆ°äº† bug , ä¼šå¯¼è‡´åœ¨ ios ä¸Šæ— æ³•ä½¿ç”¨<strong>ä¹å®«æ ¼</strong>è¾“å…¥æ³•.</p>
<hr>
<p>ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜, å¦‚æœæ”¯æŒ utf8 çš„è¯, æˆ‘ä»¬å¯ä»¥éå†æ•´ä¸ªå­—ç¬¦ä¸², åˆ¤æ–­æ¯ä¸ªå­—ç¬¦çš„ <code>codepoint</code> æ˜¯å¦åœ¨æŸä¸ªç åŒºä¸­. æ‰€ä»¥æˆ‘ä»¬éœ€è¦å®ç°è¿™ä¹ˆå‡ ä¸ªæ¥å£:</p>
<ol>
<li>utf8 é•¿åº¦è®¡ç®—</li>
<li>éå† utf8</li>
<li>utf8 char/byte å®ç°</li>
</ol>
<h1 id="äºŒ-å®ç°"><a href="#äºŒ-å®ç°" class="headerlink" title="äºŒ. å®ç°"></a>äºŒ. å®ç°</h1><h2 id="1-ä½¿ç”¨-clib-å®ç°"><a href="#1-ä½¿ç”¨-clib-å®ç°" class="headerlink" title="1. ä½¿ç”¨ clib å®ç°"></a>1. ä½¿ç”¨ clib å®ç°</h2><p>Google æœç´¢ <code>lua utf8</code> å¾ˆå¿«å‘ç°äº† <a href="/2016/05/01/quickx-editbox-util/#u4E8C-__u5C4F_u853D_Emoji__u8F93_u5165">luautf8</a> è¿™ä¸ªé¡¹ç›®, 100 å¤šä¸ª star , å¯¹äºä¸€ä¸ª lua é¡¹ç›®, å·²ç»ç®—å¾ˆå¤šäº†. å®ç°ä¹Ÿå¾ˆç®€å•, å°± <code>unidata.h</code> å’Œ <code>lutf8lib.c</code> ä¸¤ä¸ªæ–‡ä»¶.</p>
<p>ä¸‹é¢æˆ‘ä»¬åœ¨ quick ä¸­é›†æˆè¿™ä¸ªé¡¹ç›®, æˆ‘ä»¬åœ¨ <code>quick-cocos2d-x/external/lua</code> ç›®å½•å…ˆæ–°å»ºä¸€ä¸ª <code>utf8</code> ç›®å½•, å°†ä¸Šé¢æåˆ°çš„é‚£ä¸¤ä¸ªæ–‡ä»¶ä¸‹è½½ä¸‹æ¥æ”¾è¿›å», ä¿®æ”¹ <code>lutf8lib.c:1303</code> è¡Œ:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  lua_createtable(L, 0, sizeof(libs)/sizeof(libs[0]));</span></span><br><span class="line"><span class="comment">//  luaL_register(L, NULL, libs);</span></span><br><span class="line">  luaL_openlib(L, <span class="string">"utf8"</span>, libs, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†åœ¨åˆ«çš„æ–‡ä»¶ä¸­èƒ½å¤Ÿè®¿é—®åˆ° <code>luaopen_utf8</code> å‡½æ•°, æˆ‘ä»¬è¿˜éœ€è¦æ–°å»ºä¸€ä¸ª <code>utf8lib.h</code> å¤´æ–‡ä»¶:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> LUAUTF8_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LUAUTF8_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"lua.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> LUALIB_API</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LUALIB_API extern</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*-------------------------------------------------------------------------*\</span></span><br><span class="line"><span class="comment">* Initializes the library.</span></span><br><span class="line"><span class="comment">\*-------------------------------------------------------------------------*/</span></span><br><span class="line"><span class="function">LUALIB_API <span class="keyword">int</span> <span class="title">luaopen_utf8</span><span class="params">(lua_State *L)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* LUAUTF8_H */</span></span></span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥æ³¨å†Œè¿™ä¸ªåº“äº†, ä¿®æ”¹ <code>cocos/scripting/lua-bindings/manual/network/lua_extensions.c</code> :</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"utf8/lutf8lib.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">luaopen_lua_extensions</span><span class="params">(lua_State *L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    luaopen_utf8(L);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶æˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹ç¼–è¯‘è„šæœ¬, ä½¿å¾—åœ¨ä¸åŒå¹³å°ä¸Šèƒ½å¤Ÿç¼–è¯‘é€šè¿‡, Android éœ€è¦ä¿®æ”¹</p>
<p> <code>cocos/scripting/lua-bindings/proj.android/Android.mk</code> æ–‡ä»¶:</p>
<figure class="highlight mk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_SRC_FILES += ../manual/network/lua_cocos2dx_network_manual.cpp \</span><br><span class="line">                   ../../../../external/lua/luasocket/usocket.c \</span><br><span class="line">                   ../../../../external/lua/utf8/lutf8lib.c</span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>LOCAL_SRC_FILES</code> æœ«å°¾åŠ ä¸Š <code>lutf8lib.c</code> .</p>
<p>iOS/Mac çš„è¯, åœ¨ XCode ä¸­å°†æ•´ä¸ª <code>utf8</code> ç›®å½•åŠ å…¥è¿›æ¥å°±å¯ä»¥å‘€, å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1f838r4uoz1j207e03u74f.jpg" alt=""></p>
<h2 id="2-çº¯-lua-å®ç°"><a href="#2-çº¯-lua-å®ç°" class="headerlink" title="2. çº¯ lua å®ç°"></a>2. çº¯ lua å®ç°</h2><p>å¦‚æœä¸€åˆ‡æŒ‰è®¡åˆ’èµ°çš„è¯, æ˜¯ä¸ä¼šæœ‰è¿™ä¹ˆä¸€æ­¥çš„, ç„¶è€Œå¤©æ„éš¾æµ‹, è¯´å¥½çš„å†·æ›´æ–°å˜æˆäº†å˜æˆäº†çƒ­æ›´æ–°. è‹¥æ˜¯è¿˜æƒ³ä¿ç•™è¿™ä¸ªåŠŸèƒ½çš„è¯, åªèƒ½å¯»æ‰¾çº¯ lua çš„è§£å†³æ–¹æ¡ˆäº†. è™½ç„¶èµ°äº†ä¸å°‘å¼¯è·¯, æµªè´¹äº†å¤§é‡çš„æ—¶é—´, æœ€ç»ˆè¿˜æ˜¯è®©æˆ‘æ‰¾åˆ°äº†: </p>
<p><a href="https://github.com/Stepets/utf8.lua" target="_blank" rel="noopener">https://github.com/Stepets/utf8.lua</a></p>
<p>å°†é¡¹ç›®ä¸­çš„ <code>utf8.lua</code> ä¸‹è½½ä¸‹æ¥æ”¾åˆ°ä½ å·¥ç¨‹ä¸­å°±å¯ä»¥å•¦, å°±æ˜¯è¿™ä¹ˆç®€å•.</p>
<h2 id="3-å…¼å®¹"><a href="#3-å…¼å®¹" class="headerlink" title="3. å…¼å®¹"></a>3. å…¼å®¹</h2><p>æŒ‰è¯´æœ‰äº†çº¯ lua çš„å®ç°å, æˆ‘ä»¬å°±å¯ä»¥æ”¾å¼ƒ c ä»£ç çš„å®ç°äº†, ä½†æ˜¯æƒ³èµ·åš python çš„æ—¶å€™, æœ‰å¥½å¤šåº“çš„å®ç°ä¸ºäº†æé«˜æ•ˆç‡, éƒ½ä¼šæœ‰ä¸€ä»½ c/c++ çš„å®ç°ä¼˜å…ˆä½¿ç”¨. æˆ‘ä»¬æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥è¿™æ ·å­æ, ä¼˜å…ˆä½¿ç”¨ clib çš„å®ç°, è‹¥æ˜¯æ²¡æœ‰å†è€ƒè™‘ lua çš„å®ç° ? é¦–å…ˆ, æˆ‘ä»¬è¦å¯¹æ¯”ä¸€ä¸‹è¿™ä¸¤ä¸ªåº“çš„æ•ˆç‡å¯¹æ¯”.</p>
<p>è®¾è®¡äº†ä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¡ˆä¾‹, éå†ä¸€ä¸ª utf8 çš„å­—ç¬¦ä¸², è®¡ç®—è€—æ—¶, å¾—å‡ºäº†è¿™æ ·ä¸€ä»½æ•°æ®:</p>
<table>
<thead>
<tr>
<th>å­—ç¬¦æ•°</th>
<th>è€—æ—¶clib</th>
<th>è€—æ—¶lua</th>
<th>å€æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>2.0999999999938e-05</td>
<td>6.8000000000068e-05</td>
<td>3.2380952381081</td>
</tr>
<tr>
<td>138</td>
<td>0.00018899999999999</td>
<td>0.00095199999999995</td>
<td>5.0370370370369</td>
</tr>
<tr>
<td>2919</td>
<td>0.001868</td>
<td>0.01553</td>
<td>8.3137044967881</td>
</tr>
</tbody>
</table>
<p>å¯ä»¥çœ‹åˆ°è‡³å°‘ä¹Ÿæœ‰ 3 å€çš„é€Ÿåº¦æå‡, è€Œä¸”éšç€å­—ç¬¦æ•°è¶Šæ¥è¶Šå¤š, é€Ÿåº¦å·®è·ä¼šæ›´å¤§. </p>
<p>è¿™ä¸ªæ–¹æ¡ˆæ˜¯å¯è¡Œçš„, æˆ‘ä»¬å¯ç”¨å¦‚ä¸‹ä»£ç åšå…¼å®¹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">type</span>(utf8) ~= <span class="string">"table"</span> <span class="keyword">then</span></span><br><span class="line">    utf8 = <span class="built_in">require</span>(<span class="string">"your/path/of.utf8"</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ä¸¤ç§å®ç°éå†å­—ç¬¦ä¸²çš„ api ç•¥æœ‰ä¸åŒ, éœ€è¦åŒ…è£…å…¼å®¹ä¸€ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">utf8.<span class="built_in">foreach</span> = <span class="function"><span class="keyword">function</span><span class="params">(_str, _func)</span></span></span><br><span class="line">    <span class="keyword">local</span> index = <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> utf8.<span class="built_in">next</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">for</span> pos, code <span class="keyword">in</span> utf8.<span class="built_in">next</span>, _str <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">if</span> _func(index, utf8.<span class="built_in">char</span>(code), code, pos) <span class="keyword">then</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            index = index + <span class="number">1</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">elseif</span> utf8.gensub <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">char</span>,pos <span class="keyword">in</span> utf8.gensub(_str) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">if</span> _func(index, <span class="built_in">char</span>, utf8.<span class="built_in">byte</span>(<span class="built_in">char</span>), pos) <span class="keyword">then</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            index = index + <span class="number">1</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">assert</span>(<span class="literal">false</span>, <span class="string">"no utf8 supports!"</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•:"></a>é™„å½•:</h1><p>é™„ä¸Šæˆ‘ä»¬åˆ¤æ–­ç©å®¶å§“åå’Œ emoji çš„ä»£ç , æ¯”è¾ƒç®€å•, è‹¥æœ‰ä¸å¯¹ä¹‹å¤„, æ¬¢è¿æŒ‡æ­£.</p>
<h2 id="ç©å®¶å§“åé•¿åº¦åˆ¤æ–­"><a href="#ç©å®¶å§“åé•¿åº¦åˆ¤æ–­" class="headerlink" title="ç©å®¶å§“åé•¿åº¦åˆ¤æ–­"></a>ç©å®¶å§“åé•¿åº¦åˆ¤æ–­</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> length = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">utf8.<span class="built_in">foreach</span>(text, <span class="function"><span class="keyword">function</span><span class="params">(index, char, code, pos)</span></span></span><br><span class="line">    <span class="comment">-- ä¸­æ—¥éŸ©æ–‡å­—ä¸€ä¸ªå­—ç¬¦ç®—ä¸¤ä¸ªé•¿åº¦</span></span><br><span class="line">    <span class="keyword">if</span> code &gt;= <span class="number">0x3040</span> <span class="keyword">and</span> code &lt;= <span class="number">0x9fff</span> <span class="keyword">then</span></span><br><span class="line">        length = length + <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        length = length + <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br></pre></td></tr></table></figure>
<h2 id="emoji-è¡¨æƒ…åˆ¤æ–­"><a href="#emoji-è¡¨æƒ…åˆ¤æ–­" class="headerlink" title="emoji è¡¨æƒ…åˆ¤æ–­"></a>emoji è¡¨æƒ…åˆ¤æ–­</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">checkContainsEomji</span><span class="params">(text)</span></span></span><br><span class="line">    <span class="keyword">local</span> contain = <span class="literal">false</span></span><br><span class="line">    utf8.<span class="built_in">foreach</span>(text, <span class="function"><span class="keyword">function</span><span class="params">(index, char, code, pos)</span></span></span><br><span class="line">        <span class="comment">-- [^\u0000-\u25ff\u27c0-\uD7FF\uE000-\uFFFF]</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ((code &gt;= <span class="number">0x0000</span> <span class="keyword">and</span> code &lt;= <span class="number">0x25ff</span>) <span class="keyword">or</span> (code &gt;= <span class="number">0x27c0</span> <span class="keyword">and</span> code &lt;= <span class="number">0xD7FF</span>) <span class="keyword">or</span> (code &gt;= <span class="number">0xE000</span> <span class="keyword">and</span> code &lt;= <span class="number">0xFFFF</span>)) <span class="keyword">then</span></span><br><span class="line">            contain = <span class="literal">true</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">    <span class="keyword">return</span> contain</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> utf8 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æœ€è¿‘é‡åˆ°çš„å‡ ä¸ª Quick-cocos2d-x çœŸæœºå´©æºƒ(äºŒ)]]></title>
      <url>http://blog.justbilt.com/2016/09/10/quickx-crash-on-phone-2/</url>
      <content type="html"><![CDATA[<p>å¤§æ¦‚æ˜¯ 8 æœˆä¸­æ—¬çš„æ—¶å€™, æˆ‘ä»¬é¡¹ç›®å‘ç”Ÿäº†ä¸€ä¸ªå¾ˆä¸¥é‡çš„çº¿ä¸Šäº‹æ•…. åœ¨ç‰ˆæœ¬æ›´æ–°ä¹‹å, éƒ¨åˆ† Android ç©å®¶åé¦ˆç‚¹å‡»æŒ‰é’®å¼€å§‹æ¸¸æˆæˆ–æ´»åŠ¨æŒ‰é’®ä¼šé—ªé€€.</p>
<p>å¼€å§‹æ”¶åˆ°è¿™ä¸ªåé¦ˆæ—¶, å¹¶æ²¡æœ‰å¤ªåœ¨æ„, å¿ƒæƒ³æ˜¯ä¸æ˜¯æœºå‹é€‚é…æœ‰é—®é¢˜ ? åŠ ä¸Šå½“æ—¶æœ‰åˆ«çš„å·¥ä½œåœ¨å¿™, å°±æ²¡æœ‰å»ç†ä¼š. å¤§æ¦‚ä¸€ä¸ªå°æ—¶å, ç©å®¶çš„é‚®ä»¶åƒé›ªèŠ±ä¸€æ ·çº·çº·è€Œè‡³, æˆ‘æ‰å¼€å§‹æ„è¯†åˆ°, æ›´æ–°å‡ºé—®é¢˜äº†.</p>
<a id="more"></a>
<p>æ±‡æ€»äº†ä¸€ä¸‹ç©å®¶çš„åé¦ˆ:</p>
<ol>
<li>æ–°æ³¨å†Œè´¦å·æ²¡æœ‰é—®é¢˜, è€è´¦å·ä¼šå´©æºƒ</li>
<li>æ–°æœåŠ¡å™¨æ²¡æœ‰é—®é¢˜, è€æœåŠ¡å™¨å´©æºƒ</li>
<li>åˆ é™¤æ¸¸æˆé‡è£…åå°±æ²¡æœ‰é—®é¢˜äº†</li>
</ol>
<p>çœ‹ç€è¿™äº›æ¡ä»¶, æœ‰ç»éªŒçš„è€å¸æœºå¯èƒ½å·²ç»çœ‹å‡ºå€ªç«¯äº†, ä½†å½“æ—¶æˆ‘å¹¶æ²¡æœ‰çœ‹å‡º. æˆ‘ä»¬å¹³æ—¶æµ‹è¯•çš„æ—¶å€™, å¤šæ•°éƒ½ä¼šæ–°æ³¨å†Œä¸€ä¸ªè´¦å·, æˆ–è€…å°†åŸå…ˆçš„è€åŒ…åˆ é™¤æ‰, æ‰€ä»¥ Q&amp;A å¹¶æ²¡æœ‰æµ‹è¯•å‡ºè¿™ä¸ªé—®é¢˜, ä¹Ÿæ²¡æœ‰åŠæ³•å¤ç°è¿™ä¸ªæˆ‘é—®é¢˜.</p>
<p>æˆ‘ä»¬æ¸¸æˆæ˜¯é›†æˆäº†ä¸¤ä¸ªé”™è¯¯ç»Ÿè®¡sdkçš„, ä¸€ä¸ªæ˜¯ Bugtags, ä¸€ä¸ªæ˜¯ umeng é”™è¯¯æ”¶é›†, ä½†æ˜¯è¿™ä¸¤ä¸ªéƒ½æ˜¯æ²¡æœ‰åŠæ³•æ”¶é›†åˆ° native å±‚é¢çš„ crash çš„. </p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23jw1f7xim4h1aaj21b50ej0ul.jpg" alt=""></p>
<p>æ­£å½“æˆ‘ä¸€ç­¹è«å±•çš„æ—¶å€™, è¿è¥äººå‘˜å‘æ¥äº† umeng çš„è¿™ä¸ªé”™è¯¯åˆ—è¡¨, æˆ‘æç„¶å¤§æ‚Ÿ:</p>
<blockquote>
<p>æœ¬åœ°å­˜æ¡£å‡ºé—®é¢˜äº†</p>
</blockquote>
<p>å› ä¸ºæˆ‘ä»¬çš„ç©å®¶å­˜æ¡£æ˜¯ä»¥ <code>æœåŠ¡å™¨id+ç©å®¶id</code> å½¢å¼å­˜å…¥çš„, æ‰€ä»¥ä¸Šé¢åˆ—ä¸¾çš„é—®é¢˜ä¸€ä¸‹å­å°±è§£é‡Šçš„é€šäº†.</p>
<h1 id="ä¸€-ç”¨-getStringForKey-å»è·å–ä¸€ä¸ª-bool-å‹çš„å­˜æ¡£"><a href="#ä¸€-ç”¨-getStringForKey-å»è·å–ä¸€ä¸ª-bool-å‹çš„å­˜æ¡£" class="headerlink" title="ä¸€. ç”¨ getStringForKey å»è·å–ä¸€ä¸ª bool å‹çš„å­˜æ¡£"></a>ä¸€. ç”¨ getStringForKey å»è·å–ä¸€ä¸ª bool å‹çš„å­˜æ¡£</h1><p>åå°çœ‹åˆ°çš„é”™è¯¯æ—¥å¿—æ˜¯è¿™ä¸ªæ ·å­çš„:</p>
<blockquote>
<p>java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Boolean</p>
</blockquote>
<p><img src="/face/yilianmengbi.jpg" alt=""></p>
<p>è¿™ä¹Ÿå¯ä»¥? è¿™ä¸ªé”™è¯¯é—»æ‰€æœªé—», åªèƒ½è¯´ Android é‚£è¾¹ç±»å‹æ£€æµ‹å¤ªä¸¥æ ¼äº†, åŒæ—¶ cococ è¯»å–å­˜æ¡£æ—¶æ²¡æœ‰åšå¼‚å¸¸å¤„ç†.</p>
<p>æœ‰äº†æ–¹å‘å°±å¥½åŠäº†, æˆ‘æœç´¢äº†ä»£ç ä¸­æ‰€æœ‰ç”¨åˆ° <code>getStringForKey</code> çš„åœ°æ–¹, åŠ ä¸Šå´©æºƒå‡ºç°çš„æ—¶æœº, å¾ˆå¿«å®šä½äº†è¿™ä¸ªé”™è¯¯å‘ç”Ÿçš„åŸå› .</p>
<p>å›¢é˜Ÿçš„ä¸­çš„ä¸€ä½æˆå‘˜, è¿™æ¬¡æ›´æ–°æ—¶æ›´æ¢è¿‡å­˜æ¡£çš„ç±»å‹, ä¹‹å‰çš„æŸä¸€ä¸ªæ•°æ®æ˜¯ä»¥ <code>setBoolForKey/getBoolForKey</code>, ç°åœ¨æ›´æ¢æˆäº† <code>setStringForKey/getStringForKey</code>, è¿™ä¸ªé—®é¢˜ä¸èƒ½æ€ªä»–, è‹¥æ˜¯æˆ‘ä¹Ÿä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜.</p>
<p>ä¿®æ”¹ä¹Ÿå¾ˆç®€å•, æˆ‘æ¢äº†ä¸€ä¸ªæ–° key å» å­˜å–/è¯»å– è¿™ä¸ªå­˜æ¡£.</p>
<h1 id="äºŒ-setSpriteFrame-â€œa-pngâ€-ä¼ å…¥ä¸å­˜åœ¨çš„-Sprite-Frmae-Name-å°±ä¼šå´©æºƒ"><a href="#äºŒ-setSpriteFrame-â€œa-pngâ€-ä¼ å…¥ä¸å­˜åœ¨çš„-Sprite-Frmae-Name-å°±ä¼šå´©æºƒ" class="headerlink" title="äºŒ. setSpriteFrame(â€œa.pngâ€) ä¼ å…¥ä¸å­˜åœ¨çš„ Sprite Frmae Name å°±ä¼šå´©æºƒ"></a>äºŒ. setSpriteFrame(â€œa.pngâ€) ä¼ å…¥ä¸å­˜åœ¨çš„ Sprite Frmae Name å°±ä¼šå´©æºƒ</h1><p>è¿™ä¸ªé—®é¢˜ä»¥å‰æˆ‘æ²¡æœ‰é‡åˆ°è¿‡, æˆ‘ç”šè‡³éƒ½ä¸çŸ¥é“ setSpriteFrame å¯ä»¥ä¼ å…¥ Sprite Frmae Name, æˆ‘æ¯æ¬¡éƒ½æ˜¯ ä» SpriteFrameCache ä¸­è·å–ä¸€ä¸ª <code>SpriteFrame</code> å¯¹è±¡ä¼ å…¥çš„.</p>
<p>å¯¼è‡´è¿™ä¸ªé—®é¢˜å‘ç”ŸåŸå› æ˜¯æˆ‘ä»¬å˜åŒ–äº†å›¾ç‰‡æ‰“åŒ…ç­–ç•¥, ä¹‹å‰ç”¨çš„æ˜¯çº¹ç†å›¾é›†, ç°åœ¨æ”¹ä¸ºç¢ç‰‡çº¹ç†äº†. åŸç†è¿™äº›å›¾ç‰‡éƒ½åœ¨ä¸€ä¸ªçº¹ç†å›¾é›†ä¸Š, åœ¨æ¸¸æˆå¼€å§‹æ—¶å·²ç» loading è¿‡äº†, æ‰€ä»¥ä¸ä¼šæœ‰é—®é¢˜. ä½†æ˜¯æ”¹ä¸ºç¢å›¾å°±ä¼šæ‰¾ä¸åˆ°äº†.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newSpriteFrame</span><span class="params">(_name)</span></span></span><br><span class="line">    <span class="built_in">assert</span>(_name <span class="keyword">and</span> _name ~= <span class="string">""</span>)</span><br><span class="line">    <span class="comment">-- å°è¯•åœ¨å¤§å›¾ä¸­æ‰¾</span></span><br><span class="line">    <span class="keyword">local</span> frame = cc.SpriteFrameCache:getInstance():getSpriteFrame(_name)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> frame <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">local</span> texture = cc.Director:getInstance():getTextureCache():addImage(_name)</span><br><span class="line">        <span class="keyword">if</span> texture <span class="keyword">then</span></span><br><span class="line">            frame = cc.SpriteFrame:createWithTexture(texture, cc.rect(<span class="number">0</span>, <span class="number">0</span>, texture:getContentSize().width, texture:getContentSize().height))</span><br><span class="line">            cc.SpriteFrameCache:getInstance():addSpriteFrame(frame, _name)</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"[ERROR]no such file:"</span>, _name)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> frame</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å°è£…äº†è¿™ä¸ªå‡½æ•°æ¥å…¼å®¹è¿™ä¸ª <code>çº¹ç†å›¾é›†/ç¢ç‰‡çº¹ç†</code>, è¿™æ ·è¿™ä¸ªé—®é¢˜å°±è§£å†³äº†.</p>
<h1 id="åæ€"><a href="#åæ€" class="headerlink" title="åæ€"></a>åæ€</h1><p>æ¯ç»å†ä¸€æ¬¡äº‹æ•…, æ€»è¦æœ‰æ‰€æ”¶è·, é™¤äº†ä¸‹æ¬¡åŒæ ·çš„é—®é¢˜ä¸å†å‘ç”Ÿ, æµç¨‹ä¸Šæ˜¯å¦è¿˜æœ‰ä»€ä¹ˆå€¼å¾—ä¼˜åŒ–çš„åœ°æ–¹ ?</p>
<h2 id="1-é‡è§†çº¿ä¸Šé”™è¯¯"><a href="#1-é‡è§†çº¿ä¸Šé”™è¯¯" class="headerlink" title="1. é‡è§†çº¿ä¸Šé”™è¯¯"></a>1. é‡è§†çº¿ä¸Šé”™è¯¯</h2><p>ç”±äºæˆ‘ä¸€å¼€å¯¹è¿™ä¸ªé”™è¯¯çš„è½»è§†, å¯¼è‡´é—®é¢˜æ²¡æœ‰åœ¨ç¬¬ä¸€æ—¶é—´æ§åˆ¶ä½, æŸå¤±çš„ä¸åªæ˜¯æ”¶å…¥, æ›´æ˜¯ç©å®¶å¯¹æˆ‘ä»¬ä¿¡å¿ƒ, å¦‚æœä¸€ä¸ªæ¸¸æˆç»å¸¸å‡ºäº‹æ•…, ä½ è¿˜ä¼šå»ç©å—?</p>
<p>é”™è¯¯ç‡å¯¹æˆ‘ä»¬è€Œè¨€åªæ˜¯ä¸€ä¸ªæ•°å­—, æ˜¯ä¸€ä¸ªæ¦‚ç‡, ä½†æ˜¯å…·ä½“åˆ°æŸä¸€ä¸ªå‘ç”Ÿæ•…éšœçš„ç©å®¶, å¯¹ä»–è€Œè¨€å°±æ˜¯ 100% , å°±æ˜¯ç„¦æ€¥, æ„¤æ€’.</p>
<h2 id="2-çœŸå®çš„çº¿ä¸Šç¯å¢ƒæµ‹è¯•"><a href="#2-çœŸå®çš„çº¿ä¸Šç¯å¢ƒæµ‹è¯•" class="headerlink" title="2. çœŸå®çš„çº¿ä¸Šç¯å¢ƒæµ‹è¯•"></a>2. çœŸå®çš„çº¿ä¸Šç¯å¢ƒæµ‹è¯•</h2><p>è¿™ä¸ªé—®é¢˜å‘ç”Ÿ, æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯æˆ‘ä»¬çš„æµ‹è¯•æ²¡æœ‰åœ¨ä¸€ä¸ªçœŸå®çš„ç¯å¢ƒä¸­å»æµ‹è¯•, åº”è¯¥ä¿è¯ä¸€ä¸ªæ‰‹æœºåªå®‰è£…çº¿ä¸ŠåŒ…, æ¨¡æ‹ŸçœŸå®ç©å®¶, æ¯å¤©å»ç©ä¸€æ®µæ—¶é—´.</p>
<h2 id="3-é”™è¯¯æ”¶é›†ç³»ç»Ÿçš„é€‰æ‹©"><a href="#3-é”™è¯¯æ”¶é›†ç³»ç»Ÿçš„é€‰æ‹©" class="headerlink" title="3. é”™è¯¯æ”¶é›†ç³»ç»Ÿçš„é€‰æ‹©"></a>3. é”™è¯¯æ”¶é›†ç³»ç»Ÿçš„é€‰æ‹©</h2><p>æˆ‘ä»¬é‡‡ç”¨çš„ bugtags ä¸å…·æœ‰å®Œå…¨å®Œæ•´çš„é”™è¯¯æ”¶é›†èƒ½åŠ›, å¯¹é”™è¯¯çš„æ£€ç´¢ä¹Ÿå¾ˆå¼±, ç”šè‡³ä¸å¦‚å…è´¹ bugly . ä¸ºæ­¤æˆ‘è¦ä»˜ä¸€å®šè´£ä»», å½“åˆé€‰æ‹©çš„æ—¶å€™, æ²¡æœ‰å®Œæ•´çš„è°ƒç ”å¯¹æ¯”è¿‡, åªæ˜¯çœ‹åˆ°è¿™ä¸ªè¿˜ä¸é”™å°±é€‰æ‹©äº†.</p>
<p>åšå‡ºåˆ¤æ–­å‰ä¸€å®šè¦æ…é‡æ€è€ƒ.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> crash </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æœ€è¿‘æ iOS ç‰ˆé‡åˆ°çš„ä¸€äº›é—®é¢˜å’ŒæŠ€å·§ (ä¸‰)]]></title>
      <url>http://blog.justbilt.com/2016/09/05/ios-dev-tips-3/</url>
      <content type="html"><![CDATA[<h1 id="ä¸€-iOS-å†…è´­è¿”å›å•†å“æ— æ•ˆ-invalid-product"><a href="#ä¸€-iOS-å†…è´­è¿”å›å•†å“æ— æ•ˆ-invalid-product" class="headerlink" title="ä¸€. iOS å†…è´­è¿”å›å•†å“æ— æ•ˆ invalid product"></a>ä¸€. iOS å†…è´­è¿”å›å•†å“æ— æ•ˆ invalid product</h1><p>æˆ‘ä½¿ç”¨ Quick-cocos2d-x å†…ç½®çš„ store ç±»è¯·æ±‚å•†å“ä¿¡æ¯æ—¶, æ”¶åˆ°è¿™æ ·çš„é”™è¯¯:</p>
<blockquote>
<p>nvalidProductIdentifiers [CCStore_obj]<br>[CCStore_obj] productsRequestDidReceiveResponse() invalid pid: com.xxx.xxx</p>
</blockquote>
<p>é¦–å…ˆ, <strong>æ£€æŸ¥ä½ è¯·æ±‚çš„å•†å“ id åœ¨ iTunes åå°æ˜¯å¦åˆ›å»º</strong>, æ˜¯å¦æ‹¼å†™é”™è¯¯. å¦‚æœæ²¡æœ‰é—®é¢˜, é‚£ä¹ˆå°±ä¸å¤ªå¥½åŠäº†, ä¼šæœ‰å¾ˆå¤šåŸå› å¯¼è‡´è¿™ä¸ªé—®é¢˜.</p>
<p>ZZB_Amoy åšå®¢çš„<a href="http://blog.sina.com.cn/s/blog_a6a46b330101dgju.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>æ€»ç»“äº†ä¸‹å¯èƒ½çš„åŸå› , å¦‚ä¸‹:</p>
<blockquote>
<ul>
<li>åˆ›å»ºçš„App IDæ˜¯å¦å¯ç”¨äº†IAPåŠŸèƒ½ã€‚</li>
<li>å•†å“ä¿¡æ¯æ˜¯å¦é…ç½®åˆ°iTurn Connectï¼Œå¹¶åˆ°è¾¾â€œReady to Submitâ€çŠ¶æ€ã€‚</li>
<li>åœ¨iTurn Connectä¸­åˆ›å»ºTest Userï¼Œå¹¶æ”¶å–é‚®ä»¶æ¿€æ´»ã€‚ä¹‹åç™»å½•åˆ°æµ‹è¯•ç”¨æ‰‹æœºçš„è®¾ç½®é¡µé¢ä¸­ï¼ˆStoreé€‰é¡¹ï¼‰ã€‚</li>
<li>Appçš„Bundle Idæ˜¯å¦å’Œåå°é…ç½®çš„App Idä¸€è‡´ã€‚</li>
<li>æ˜¯å¦åˆ›å»ºç›¸åº”çš„provisioning profileï¼Œå¹¶ç”¨æ­¤ç­¾åAppã€‚</li>
<li>iTurn Connectåå°é…ç½®å®Œå•†å“ä¿¡æ¯åï¼Œæ˜¯å¦ç­‰å¾…è‹¥å¹²å°æ—¶ç”Ÿæ•ˆã€‚</li>
<li>SKProductsRequestè¯·æ±‚çš„å•†å“Idå¿…é¡»å’ŒiTurn Connectä¸­é…ç½®çš„ä¸€è‡´ã€‚ï¼ˆå¦‚ï¼šcom.test.product.xxxï¼‰</li>
<li>iTunes Connectä¸­é…ç½®çš„é“¶è¡Œä¿¡æ¯æ˜¯å¦æ­£ç¡®ã€‚</li>
<li>æ˜¯å¦å…ˆåˆ é™¤æ—§Appï¼Œå†é‡æ–°ç¼–è¯‘ç”Ÿæˆæ–°çš„ã€‚</li>
<li>è¯·ä¸è¦ä½¿ç”¨è¶Šç‹±æ‰‹æœºæµ‹è¯•ã€‚</li>
</ul>
</blockquote>
<p>ä¸‹é¢è¯´è¯´æˆ‘ä¸¤æ¬¡é‡åˆ°è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆ:</p>
<ol>
<li>å¦‚æœæ¸¸æˆå‘å¸ƒåŒºåŸŸä¸­æ²¡æœ‰æ‰‹æœºä¸­ App Store å½“å‰åŒºçš„è¯, éœ€è¦å…ˆç™»é™†ä¸‹å¯¹åº”åŒºåŸŸåˆ›å»ºçš„æµ‹è¯•è´¦å·, å°†å•†åº—åˆ‡æ¢åˆ°å¯¹åº”åŒºåŸŸ.</li>
<li>å®Œå–„è‹¹æœå¼€å‘è€…è´¦å·æ‰€èƒ½å®Œå–„çš„ä¿¡æ¯, å¦‚ä»˜æ¬¾ä¿¡æ¯å‘€ä»€ä¹ˆçš„, ç„¶åè«åå…¶å¦™å°±è§£å†³äº†.</li>
<li>å•†å“ id å¤§å°å†™é”™è¯¯, åœ¨ chrome æœç´¢æ—¶æ˜¯å¿½ç•¥å¤§å°çš„.</li>
</ol>
<blockquote>
<p>æ³¨ï¼šåœ¨æµ‹è¯•é˜¶æ®µï¼Œå¯ä»¥ä¸ç”¨ä¸Šä¼ APPè½¯ä»¶åŒ…ï¼Œä½†å¿…é¡»åˆ›å»ºæµ‹è¯•ç”¨Apple Idï¼Œå¹¶åœ¨æ‰‹æœºè®¾ç½®ä¸­ï¼ˆstoreé€‰é¡¹ï¼‰ç™»å½•ã€‚</p>
</blockquote>
<h1 id="äºŒ-iOS-è¿è¡Œå´©æºƒ-unrecognized-selector-sent-to-instance"><a href="#äºŒ-iOS-è¿è¡Œå´©æºƒ-unrecognized-selector-sent-to-instance" class="headerlink" title="äºŒ. iOS è¿è¡Œå´©æºƒ unrecognized selector sent to instance"></a>äºŒ. iOS è¿è¡Œå´©æºƒ unrecognized selector sent to instance</h1><p>è¿è¡Œæ¸¸æˆè¿‡ç¨‹ä¸­æ”¶åˆ°å¦‚ä¸‹é”™è¯¯:</p>
<blockquote>
<p>[1515:710439] -[AppController window]: unrecognized selector sent to instance 0x2c85c00<br>libc++abi.dylib: terminate_handler unexpectedly threw an exception</p>
</blockquote>
<p>è¿™ä¸ªåœ¨æ¥å…¥æŸä¸€ä¸ªå¹³å° sdk æ—¶é‡åˆ°çš„é—®é¢˜, äºæ˜¯ä¾¿é—®äº†ä¸‹ä»–ä»¬çš„æŠ€æœ¯, å¾ˆå¿«è§£å†³äº†é—®é¢˜. </p>
<h4 id="1-ä¿®æ”¹-AppController-h-ä¸­-window-å˜é‡çš„å£°æ˜å½¢å¼"><a href="#1-ä¿®æ”¹-AppController-h-ä¸­-window-å˜é‡çš„å£°æ˜å½¢å¼" class="headerlink" title="1. ä¿®æ”¹ AppController.h ä¸­ window å˜é‡çš„å£°æ˜å½¢å¼"></a>1. ä¿®æ”¹ AppController.h ä¸­ window å˜é‡çš„å£°æ˜å½¢å¼</h4><p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1f7j62j0mfuj20dw02n3yy.jpg" alt=""></p>
<h4 id="2-ä¿®æ”¹-AppController-mm"><a href="#2-ä¿®æ”¹-AppController-mm" class="headerlink" title="2. ä¿®æ”¹ AppController.mm"></a>2. ä¿®æ”¹ AppController.mm</h4><p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1f7j665yyacj207901zq32.jpg" alt=""></p>
<p>è™½ç„¶é—®é¢˜è§£å†³äº†, ä½†æ˜¯æˆ‘å¹¶ä¸æ˜ç™½å„ç§ç¼˜ç”±. Google äº†ä¸‹, å¤§æ¦‚æ˜ç™½äº†, åŸæ¥å¦‚æ­¤. ä»é”™è¯¯ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™å¥ <code>[AppController window]</code> , ä»è¯­æ³•æ¥çœ‹, è¿™æ˜¯è¦è°ƒç”¨ AppController çš„ window å‡½æ•°, ä½†æ˜¯åœ¨æˆ‘ä»¬ä¹‹å‰çš„å†™æ³•ä¸­æ²¡æœ‰å®ç°è¿™ä¸ªå‡½æ•°, ä¾¿å‡ºé”™äº†. è€Œä½¿ç”¨ <code>@property</code> è¿™ä¸ªä¸œè¥¿, ä¼šè‡ªåŠ¨å¸®ä½ å®ç°ä¸€ä¸ª <code>window/setWindow</code> å‡½æ•°, è¿™æ ·å°±ä¸ä¼šæ‰¾ä¸åˆ°è¿™ä¸ªå‡½æ•°äº†.</p>
<h1 id="ä¸‰-æ¸¸æˆåœ¨ä½äº-ios9-çš„ç³»ç»Ÿå¯åŠ¨å´©æºƒ"><a href="#ä¸‰-æ¸¸æˆåœ¨ä½äº-ios9-çš„ç³»ç»Ÿå¯åŠ¨å´©æºƒ" class="headerlink" title="ä¸‰. æ¸¸æˆåœ¨ä½äº ios9 çš„ç³»ç»Ÿå¯åŠ¨å´©æºƒ"></a>ä¸‰. æ¸¸æˆåœ¨ä½äº ios9 çš„ç³»ç»Ÿå¯åŠ¨å´©æºƒ</h1><p>è¿™ä¸ªä¹Ÿæ˜¯åœ¨æ¥å…¥ç¬¬ä¸‰æ–¹ sdk æ—¶é‡åˆ°çš„é—®é¢˜, æ¸¸æˆä¸€å¯åŠ¨å°±ä¼šå´©æºƒ, æ”¶åˆ°é”™è¯¯å¦‚ä¸‹:</p>
<blockquote>
<p>dyld: Symbol not found: _OBJC<em>CLASS</em>$_SFSafariViewController<br>  Referenced from: /var/mobile/Applications/CF4146B4-3F79-4644-86CA-F19E52E64BAA/superarmoreddivision.app/superarmoreddivision<br>  Expected in: /System/Library/Frameworks/SafariServices.framework/SafariServices<br> in /var/mobile/Applications/CF4146B4-3F79-4644-86CA-F19E52E64BAA/superarmoreddivision.app/superarmoreddivision</p>
</blockquote>
<p>Google äº†ä¸€ä¸‹, æ²¡æœ‰ä»»ä½•äººé‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜, è¿™å°±ååˆ†æ£˜æ‰‹äº†, å®Œå…¨ä¸çŸ¥ä»ä½•å…¥æ‰‹. ç»è¿‡ä¸€ç•ªæ¢ç´¢, æ‰¾åˆ°äº†å‡ ä¸ªæœ‰ç”¨çš„çº¿ç´¢:</p>
<ol>
<li>SFSafariViewController è¿™ä¸ªç±»æ˜¯ ios 9 æ‰å¼•å…¥çš„, è¿™å’Œæˆ‘ä»¬å·²çŸ¥çš„ä¿¡æ¯ç›¸ç¬¦.</li>
<li>æ‰€å¹¸çš„æ˜¯æˆ‘ä»¬çš„æ¸¸æˆæœ‰å¤šä¸ª Scheme , æ¯ä¸ª Scheme æ¥å…¥ä¸åŒçš„ sdk . å…¶ä»–çš„ Scheme çš„éƒ½å¯ä»¥æ­£å¸¸è¿è¡Œ.</li>
</ol>
<p>è¿™å°±å¯ä»¥è‚¯å®šæ˜¯æŸä¸ª sdk ä¸­ä½¿ç”¨äº† <code>SFSafariViewController</code> è¿™ä¸ªç±», ä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰åŠæ³•å®šä½æ˜¯é‚£ä¸ª sdk . æˆ‘ä¸çŸ¥é“æ˜¯å¦æœ‰ä¸€ä¸ªå‘½ä»¤æŸ¥æ‰¾ç¬¦å·å¼•ç”¨, å› æ­¤åªèƒ½é‡‡ç”¨æœ€ç¬¨çš„æ’é™¤æ³•äº†, æˆ‘å°†å¼•å…¥çš„ sdk ä¾æ¬¡åˆ é™¤, çœ‹æ˜¯å¦èƒ½å¤Ÿè¿è¡Œ.</p>
<p>æœ€ç»ˆå®šä½åˆ°äº†æŸä¸ªå¹¿å‘Šç»Ÿè®¡ sdk , åœ¨è¯¢é—®å…¶ ios æŠ€æœ¯äººå‘˜åå¾—åˆ°äº†è§£å†³æ–¹æ¡ˆ. åŸæ¥ä»–ä»¬ sdk éœ€è¦<strong>ä»¥ <code>optional</code> çš„å½¢å¼å¼•å…¥ <code>SafariServices.framework</code></strong>.</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23gw1f7kanujs5rj20ol018jrf.jpg" alt=""></p>
<p>éƒ½æ€ªæˆ‘æ²¡æœ‰ä»”ç»†é˜…è¯»æ–‡æ¡£, ç™½ç™½è€½è¯¯äº†ä¸€æ®µæ—¶é—´, ä¸‹æ¬¡ä¸€å®šè¦æ³¨æ„!</p>
<h1 id="å››-Facebook-ç™»å½•å´©æºƒ"><a href="#å››-Facebook-ç™»å½•å´©æºƒ" class="headerlink" title="å››. Facebook ç™»å½•å´©æºƒ"></a>å››. Facebook ç™»å½•å´©æºƒ</h1><p>é›†æˆ Facebook sdk æ—¶, è°ƒç”¨ç™»å½•æ¥å£æ¸¸æˆå°±ä¼šå´©æºƒ, è¿™ä¸ªé—®é¢˜ Google ä¸€ä¸‹å°±èƒ½è§£å†³, è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•, åœ¨ Info.plist ä¸­åŠ å…¥ä¸‹é¢å‡ è¡Œä»£ç å³å¯:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>LSApplicationQueriesSchemes<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>fbapi<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>fb-messenger-api<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>fbauth2<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>fbshareextension<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Stackoverflow ä¸Šçš„ç­”æ¡ˆå¯ä»¥<a href="http://stackoverflow.com/a/33489214" target="_blank" rel="noopener">ç§»æ­¥è¿™é‡Œ</a>, Facebook å®˜ç½‘ä¸Šä¹Ÿ<a href="https://developers.facebook.com/docs/ios/ios9" target="_blank" rel="noopener">ç»™äº†è§£ç­”</a>.</p>
<h1 id="äº”-ios9-çŠ¶æ€æ æ— æ³•éšè—"><a href="#äº”-ios9-çŠ¶æ€æ æ— æ³•éšè—" class="headerlink" title="äº”. ios9 çŠ¶æ€æ æ— æ³•éšè—"></a>äº”. ios9 çŠ¶æ€æ æ— æ³•éšè—</h1><p>éšè—çŠ¶æ€æ åœ¨ ios9 ä¸Šæ¢äº†ä¸€ç§æ–¹å¼, è¿˜æ˜¯éœ€è¦åœ¨ Info.plist ä¸­è¿›è¡Œé…ç½®:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>UIStatusBarHidden<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>UIViewControllerBasedStatusBarAppearance<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">false</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>Stackoverflow ä¸Šçš„ç­”æ¡ˆå¯ä»¥<a href="http://stackoverflow.com/a/32965748" target="_blank" rel="noopener">ç§»æ­¥è¿™é‡Œ</a>.</p>
<h1 id="å…­-showAlert-è¯¡å¼‚å´©æºƒ"><a href="#å…­-showAlert-è¯¡å¼‚å´©æºƒ" class="headerlink" title="å…­. showAlert è¯¡å¼‚å´©æºƒ"></a>å…­. showAlert è¯¡å¼‚å´©æºƒ</h1><p>æ¸¸æˆå†…çš„ä¸€äº›å¼¹æ¡†ä¸ºäº†ä¿è¯åœ¨æ¸¸æˆçš„æœ€ä¸Šå±‚æ˜¾ç¤º, å·æ‡’ä½¿ç”¨äº† Quick-cocos2d-x æä¾›çš„ <code>device.showAlert</code> æ¥å£. showAlert å†…éƒ¨ä½¿ç”¨ <code>UIAlertView</code> å®ç°, è¿è¡Œä¸€ç›´è‰¯å¥½, æœ‰ä¸€å¤©çªç„¶å°±ä¸è¡Œäº†, ä¸€è°ƒç”¨å°±å´©æºƒ. </p>
<p>å„ç§åŠæ³•éƒ½è¯•è¿‡äº†, ç½‘ä¸Šéƒ½è¯´æ˜¯çº¿ç¨‹å®‰å…¨é—®é¢˜, æˆ‘è¯•äº†ä¸€ä¸‹å„ç§å¤„ç†éƒ½ä¸è¡Œ, æ‰“æ–­ç‚¹è·Ÿè¸ªåˆ°æœ€åº•å±‚ä¹Ÿæ— æµäºäº‹. å‡ è¿‘ç»æœ›ä¹‹æ—¶, @bin çš„ä¸€å¥è¯æé†’äº†æˆ‘:</p>
<blockquote>
<p>ä¼šä¸æ˜¯å±å¹•æ–¹å‘çš„é—®é¢˜ ? </p>
</blockquote>
<p>æœ€ç»ˆä¸€ç•ªå°è¯•, åˆ é™¤äº† <code>RootViewController.mm</code> ä¸­å‡ ä¸ªå±å¹•æ–¹å‘ç›¸å…³çš„å‡½æ•°:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">*/</span><br><span class="line"><span class="comment">// Override to allow orientations other than the default portrait orientation.</span></span><br><span class="line"><span class="comment">// This method is deprecated on ios6</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)shouldAutorotateToInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)interfaceOrientation &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (ConfigParser::getInstance()-&gt;isLanscape()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UIInterfaceOrientationIsLandscape</span>( interfaceOrientation );</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UIInterfaceOrientationIsPortrait</span>( interfaceOrientation );</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// For ios6, use supportedInterfaceOrientations &amp; shouldAutorotate instead</span></span><br><span class="line">- (<span class="built_in">NSUInteger</span>) supportedInterfaceOrientations&#123;</span><br><span class="line"><span class="meta">#ifdef __IPHONE_6_0</span></span><br><span class="line">    <span class="keyword">if</span> (ConfigParser::getInstance()-&gt;isLanscape()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UIInterfaceOrientationMaskLandscape</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UIInterfaceOrientationMaskPortraitUpsideDown</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#endif</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>) shouldAutorotate &#123;</span><br><span class="line">    <span class="keyword">if</span> (ConfigParser::getInstance()-&gt;isLanscape()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ª bug å‡ºç°ä¹‹è¯¡å¼‚, è§£å†³æ–¹æ¡ˆä¹‹è¯¡å¼‚, åœ¨æˆ‘é‡åˆ°çš„ bug ä¸­ä¹Ÿç®—æ˜¯å¾ˆå°‘è§äº†.</p>
]]></content>
      
        
        <tags>
            
            <tag> iOS </tag>
            
            <tag> iOS-Dev-Tips </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ›´ç®€æ´çš„ lua é€»è¾‘ä»£ç ]]></title>
      <url>http://blog.justbilt.com/2016/06/26/terse-lua-code/</url>
      <content type="html"><![CDATA[<p>çˆ±å› æ–¯å¦çš„è´¨èƒ½æ–¹ç¨‹ <code>E=MC^2</code>, ç”¨åœ¨ç¼–ç¨‹ç•ŒåŒæ ·é€‚ç”¨ <code>Error = More Code ^ 2</code>. ä»£ç è¶Šå¤š, å‡ºé”™çš„å¯èƒ½æ€§å°±æ›´å¤§, è¿™ä¸ªç»“è®ºå¾ˆæ­£ç¡®å‘€. é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨æ›´å°‘çš„ä»£ç å®ç°åŒæ ·çš„éœ€æ±‚å‘¢ ?</p>
<p>ä¸€. æ™®é€šæŠ€</p>
<h2 id="1-bool-å€¼ä¸-if-è¯­å¥çš„æ‹©å†³"><a href="#1-bool-å€¼ä¸-if-è¯­å¥çš„æ‹©å†³" class="headerlink" title="1. bool å€¼ä¸ if è¯­å¥çš„æ‹©å†³"></a>1. bool å€¼ä¸ if è¯­å¥çš„æ‹©å†³</h2><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç :</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> monthly_is_taken = app.player:getAttribute(<span class="string">"monthly_is_taken"</span>)</span><br><span class="line"><span class="keyword">if</span> monthly_is_taken == <span class="literal">true</span> <span class="keyword">then</span></span><br><span class="line">    self._monthly_take:setButtonEnabled(<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    self._monthly_take:setButtonEnabled(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æ˜¾ç„¶è¿™ä¸ª if è¯­å¥æ˜¯æ²¡æœ‰å¿…è¦çš„, æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ bool è¿›è¡Œå‡½æ•°å‚æ•°ä¼ é€’:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> monthly_is_taken = app.player:getAttribute(<span class="string">"monthly_is_taken"</span>)</span><br><span class="line">self._monthly_take:setButtonEnabled(monthly_is_taken)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‡å°‘äº† %60 çš„ä»£ç , é€»è¾‘åè€Œå˜å¾—æ›´æ¸…æ™°äº†.</p>
<h2 id="2-å‡å°‘éå¿…é¡»çš„ä¸­é—´å˜é‡"><a href="#2-å‡å°‘éå¿…é¡»çš„ä¸­é—´å˜é‡" class="headerlink" title="2. å‡å°‘éå¿…é¡»çš„ä¸­é—´å˜é‡"></a>2. å‡å°‘éå¿…é¡»çš„ä¸­é—´å˜é‡</h2><p>æˆ‘ä»¬éƒ½æ˜ç™½äº†ä¸­é—´å˜é‡çš„æ„ä¹‰, ä¸»è¦æ˜¯ä¸ºæé«˜ä»£ç çš„å¯è¯»æ€§. ä½†æ˜¯æœ‰æ—¶å€™ä¸­é—´å˜é‡çš„å¤ªå¤š, åœ¨å¢åŠ ç é‡çš„åŒæ—¶, ä¹Ÿä¼šæ‰“æ–­æˆ‘ä»¬çš„æˆ‘ä»¬çš„æ€è·¯.</p>
<p>æ¯”å¦‚æˆ‘ä»¬è¦ç®—ä¸€ä¸ªç­‰å·®æ•°åˆ—çš„å’Œ, æˆ‘ä»¬éƒ½çŸ¥é“ä½¿ç”¨å…¬å¼ <code>(é¦–é¡¹+æœ«é¡¹)*é¡¹æ•°/2</code>, æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªå®ç°:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> array = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>&#125;</span><br><span class="line"><span class="keyword">local</span> array_len = #array</span><br><span class="line"><span class="keyword">local</span> first_element = array[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">local</span> last_element = array[array_len]</span><br><span class="line"><span class="keyword">local</span> sum = (first_element+last_element)*array_len/<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>å°±ä¸å¦‚ä¸‹é¢è¿™ä¸ªå®ç°:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> array = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>&#125;</span><br><span class="line"><span class="keyword">local</span> sum = (array[<span class="number">1</span>]+array[#array])*#array/<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„è¯, æˆ‘ä»¬ä¸Šä¸€ä¸ªç¤ºä¾‹çš„ä»£ç å¯ä»¥è¿›ä¸€æ­¥ç²¾ç®€:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self._monthly_take:setButtonEnabled(app.player:getAttribute(<span class="string">"monthly_is_taken"</span>))</span><br></pre></td></tr></table></figure>
<h2 id="3-ä½¿ç”¨-elseif-ä¼˜åŒ–-if-è¯­å¥"><a href="#3-ä½¿ç”¨-elseif-ä¼˜åŒ–-if-è¯­å¥" class="headerlink" title="3. ä½¿ç”¨ elseif ä¼˜åŒ– if è¯­å¥"></a>3. ä½¿ç”¨ elseif ä¼˜åŒ– if è¯­å¥</h2><p>å¦‚æœæ˜¯é€»è¾‘ç›¸æ‚–çš„åˆ¤æ–­æ¡ä»¶, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ elseif è¯­å¥è¿æ¥, è€Œä¸ç”¨å¤šä¸ª if è¯­å¥. </p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> self.item_id == <span class="string">"43"</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- do some thing</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> self.item_id == <span class="string">"69"</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- do some thing</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> self.item_id == <span class="string">"75"</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- do some thing</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸º:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> self.item_id == <span class="string">"43"</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- do some thing</span></span><br><span class="line"><span class="keyword">elseif</span> self.item_id == <span class="string">"69"</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- do some thing</span></span><br><span class="line"><span class="keyword">elseif</span> self.item_id == <span class="string">"75"</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- do some thing</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¿®æ”¹å, å¯¹é€»è¾‘çš„æ‰§è¡Œæ—¶é—´ä¹Ÿä¼˜åŒ–å“Ÿ, å› ä¸ºä¸€ä½†æœ‰ä¸€ä¸ª if è¯­å¥å‘½ä¸­, åé¢çš„ elseif éƒ½ä¸ä¼šå†å»åˆ¤æ–­äº†.</p>
<h2 id="4-ä½¿ç”¨-config-ä¼˜åŒ–-if-elseif-è¯­å¥"><a href="#4-ä½¿ç”¨-config-ä¼˜åŒ–-if-elseif-è¯­å¥" class="headerlink" title="4. ä½¿ç”¨ config ä¼˜åŒ– if-elseif è¯­å¥"></a>4. ä½¿ç”¨ config ä¼˜åŒ– if-elseif è¯­å¥</h2><p>å¦‚æœä¸€ä¸ªé€»è¾‘ä¸­æœ‰å¤§é‡çš„ if-elseif è¯­å¥, æˆ‘ä¹ˆå°±å¯ä»¥ä½¿ç”¨ config çš„å½¢å¼æ›¿æ¢æ‰å®ƒ, ä½¿å¾—é€»è¾‘æ›´åŠ ç®€æ´.</p>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç¤ºä¾‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> _data.<span class="built_in">type</span> == GameEnum.MailType.MAIL_TYPE_SYSTEM <span class="keyword">then</span></span><br><span class="line">    self._title:setString(_data.content.content.subtype)</span><br><span class="line">    self._name:setString(TextEnum.CNReset.SYSTEM)</span><br><span class="line">    self.title = TextEnum.CNReset.SYSTEM_INFORMATION</span><br><span class="line"><span class="keyword">elseif</span> _data.<span class="built_in">type</span> == GameEnum.MailType.MAIL_TYPE_ALLIANCE_KICK <span class="keyword">then</span></span><br><span class="line">    self._title:setString(TextEnum.CNReset.KICK)</span><br><span class="line">    self._name:setString(TextEnum.CNReset.SYSTEM)</span><br><span class="line">    self.title = TextEnum.CNReset.KICK</span><br><span class="line"><span class="keyword">elseif</span> _data.<span class="built_in">type</span> == GameEnum.MailType.MAIL_TYPE_ALLIANCE_JOIN <span class="keyword">then</span></span><br><span class="line">    self._title:setString(TextEnum.CNReset.JOIN_IN)</span><br><span class="line">    self._name:setString(TextEnum.CNReset.SYSTEM)</span><br><span class="line">    self.title = TextEnum.CNReset.JOIN_IN</span><br><span class="line"><span class="keyword">elseif</span> _data.<span class="built_in">type</span> == GameEnum.MailType.MAIL_TYPE_ALLIANCE_REJECT <span class="keyword">then</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€æ®µå…³äºé‚®ä»¶æ ‡é¢˜çš„é€»è¾‘, è¿™é‡ŒåªèŠ‚é€‰å‡ºäº† 1/4 çš„ä»£ç , çœŸçš„æ˜¯åˆè‡­åˆé•¿. æˆ‘ä»¬å¯ä»¥è¿™æ ·å­å»ä¼˜åŒ–å®ƒ:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> CONFIG = &#123;</span><br><span class="line">    [GameEnum.MailType.MAIL_TYPE_SYSTEM] = &#123;title = XXX, name = XXX&#125;,</span><br><span class="line">    [GameEnum.MailType.MAIL_TYPE_ALLIANCE_KICK] = &#123;title = XXX, name = XXX&#125;,</span><br><span class="line">    [GameEnum.MailType.MAIL_TYPE_ALLIANCE_JOIN] = &#123;title = XXX, name = XXX&#125;,</span><br><span class="line">    [GameEnum.MailType.MAIL_TYPE_ALLIANCE_REJECT] = &#123;title = XXX, name = XXX&#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> <span class="built_in">config</span> = CONFIG[_data.<span class="built_in">type</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">config</span> <span class="keyword">then</span></span><br><span class="line">    self._title:setString(<span class="built_in">config</span>.title)</span><br><span class="line">    self._name:setString(<span class="built_in">config</span>.name)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å› ä¸ºåªæ˜¯ä»£ç èŠ‚é€‰, æ‰€ä»¥ä¸Šé¢ä¿®æ”¹æ˜¯ä¸€æ®µä¼ªä»£ç , ä½†æ˜¯çœ‹èµ·æ¥è¶…çº§æ¸…çˆ½çš„æœ‰æœ¨æœ‰! å¯¹äºä¸€å¼€å§‹æ— æ³•ç¡®å®šçš„æ•°æ®å¦‚ä½•é…ç½®å‘¢? æˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ª <code>function</code>, ç”¨çš„æ—¶å€™å–å‡ºæ¥è°ƒç”¨å°±å¯ä»¥å•¦.</p>
<h1 id="äºŒ-é»‘ç§‘æŠ€"><a href="#äºŒ-é»‘ç§‘æŠ€" class="headerlink" title="äºŒ. é»‘ç§‘æŠ€"></a>äºŒ. é»‘ç§‘æŠ€</h1><h2 id="1-æ•°æ®é»˜è®¤å€¼çš„è®¾å®š"><a href="#1-æ•°æ®é»˜è®¤å€¼çš„è®¾å®š" class="headerlink" title="1. æ•°æ®é»˜è®¤å€¼çš„è®¾å®š"></a>1. æ•°æ®é»˜è®¤å€¼çš„è®¾å®š</h2><p>å½“æˆ‘ä»¬æ‹¿åˆ°ä¸€æ®µæ•°æ®å, æ€»æ˜¯è¦å…ˆé¢„å¤„ç†æ•°æ®, åé¢æ‰æ˜¯ä½¿ç”¨æ•°æ®. é¢„å¤„ç†é˜¶æ®µå¾ˆé‡è¦çš„ä¸€æ­¥å°±æ˜¯æŸäº›æ•°æ®çš„é»˜è®¤å€¼.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum3</span><span class="params">(_num1, _num2, _num3)</span></span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> _num1 <span class="keyword">then</span></span><br><span class="line">        _num1 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> _num2 <span class="keyword">then</span></span><br><span class="line">        _num2 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> _num3 <span class="keyword">then</span></span><br><span class="line">        _num3 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> _num1 +ã€€_num2 + _num3</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å¾ˆç¹çæ˜¯ä¸æ˜¯, è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ and å’Œ or æ¥ä¼˜åŒ–é»˜è®¤å€¼çš„è®¾ç½®:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum3</span><span class="params">(_num1, _num2, _num3)</span></span></span><br><span class="line">    _num1 = _num1 <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">    _num2 = _num2 <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">    _num3 = _num3 <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> _num1 +ã€€_num2 + _num3</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å½“ <code>or</code> çš„å‰é¢éƒ¨åˆ†æ˜¯ <code>nil</code> æˆ–è€… <code>false</code> çš„æƒ…å†µä¸‹, è¿”å›è¿™ä¸ªè¡¨è¾¾å¼çš„å€¼åé¢éƒ¨åˆ†. ä¸‹é¢æˆ‘åˆ—ä¸¾ä¸€ä¸‹å¸¸ç”¨ç±»å‹çš„é»˜è®¤å€¼ç”¨æ³•:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- number</span></span><br><span class="line">a = a <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line"><span class="comment">-- string</span></span><br><span class="line">a = a <span class="keyword">or</span> <span class="string">""</span> </span><br><span class="line"><span class="comment">-- function</span></span><br><span class="line">a = a <span class="keyword">or</span> <span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- table</span></span><br><span class="line">a = a <span class="keyword">or</span> &#123;&#125;</span><br><span class="line"><span class="comment">-- boolean</span></span><br><span class="line">a = a == <span class="literal">nil</span> <span class="keyword">and</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå€¼å¾—ä¸€æçš„æ˜¯ <code>boolean</code> ç±»å‹, å¦‚æœå¸Œæœ›é»˜è®¤å€¼æ˜¯ false è¯, å°±ä¸éœ€è¦é»˜è®¤å€¼, å› ä¸º nil å’Œ false å¯¹äºåˆ¤æ–­æ¥è¯´ä»¥æ„ä¹‰ä¸€è‡´. è€Œå¦‚æœå¸Œæœ›é»˜è®¤å€¼æ˜¯ true çš„è¯, å¹¶ä¸æ˜¯ <code>a = a or true</code>, è€Œæ˜¯ <code>a == nil and true</code>, å¤§å®¶å¯ä»¥ç»†æƒ³ä¸€ä¸‹å…¶ä¸­çš„å«ä¹‰.</p>
<h2 id="2-table-ä¸­å…ƒç´ çš„åˆå§‹åŒ–"><a href="#2-table-ä¸­å…ƒç´ çš„åˆå§‹åŒ–" class="headerlink" title="2. table ä¸­å…ƒç´ çš„åˆå§‹åŒ–"></a>2. table ä¸­å…ƒç´ çš„åˆå§‹åŒ–</h2><p>æ¯”å¦‚æˆ‘ä»¬è¦ç»Ÿè®¡ä¸€ä¸ªåˆ—è¡¨ä¸­, æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> list = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">local</span> counter = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(list) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> counter[v] <span class="keyword">then</span></span><br><span class="line">        counter[v] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    counter[v] = counter[v] + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å› ä¸º <code>counter</code> ä¸å¯èƒ½æå‰åˆå§‹åŒ–å¥½, æ‰€ä»¥æ€»æ˜¯è¦åˆ¤æ–­å­˜ä¸å­˜åœ¨è¿™ä¸ªå…ƒç´ , æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨ä¸Šé¢æåˆ°çš„æŠ€å·§åšè¿™ä¸ªäº‹æƒ…:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> list = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">local</span> counter = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(list) <span class="keyword">do</span></span><br><span class="line">    counter[v] = (counter[v] <span class="keyword">or</span> <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æ˜¯ä¸æ˜¯å˜å¾—å¾ˆç®€æ´ ?</p>
]]></content>
      
        
        <tags>
            
            <tag> code-style </tag>
            
            <tag> neat-freak </tag>
            
            <tag> Lua </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æœ€è¿‘æ iOS ç‰ˆé‡åˆ°çš„ä¸€äº›é—®é¢˜å’ŒæŠ€å·§ (äºŒ)]]></title>
      <url>http://blog.justbilt.com/2016/06/26/ios-dev-tips-2/</url>
      <content type="html"><![CDATA[<h2 id="ä¸€-XCode-Could-not-find-Developer-Disk-Image"><a href="#ä¸€-XCode-Could-not-find-Developer-Disk-Image" class="headerlink" title="ä¸€. XCode: Could not find Developer Disk Image"></a>ä¸€. XCode: Could not find Developer Disk Image</h2><p><img src="http://static.zybuluo.com/justbilt/84lvyg8n11lmtefi02pirqup/101138-1ab6ab96d37904bd.jpeg" alt="101138-1ab6ab96d37904bd.jpeg-4.5kB"><br><strong>è§£å†³æ–¹æ¡ˆ:</strong><br><a href="http://www.jianshu.com/p/3930df903a44" target="_blank" rel="noopener">http://www.jianshu.com/p/3930df903a44</a><br>è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯å› ä¸ºä½  XCode æ²¡æœ‰ä¸‹è½½å¯¹åº” iOS çš„ SDK å¯¼è‡´, ä¸€èˆ¬æƒ…å†µéœ€è¦åŒæ­¥æ›´æ–° XCode.</p>
<h2 id="äºŒ-XCode-æ— æ³•å¯¼å‡º-Archive-çš„é¡¹ç›®"><a href="#äºŒ-XCode-æ— æ³•å¯¼å‡º-Archive-çš„é¡¹ç›®" class="headerlink" title="äºŒ. XCode: æ— æ³•å¯¼å‡º Archive çš„é¡¹ç›®"></a>äºŒ. XCode: æ— æ³•å¯¼å‡º Archive çš„é¡¹ç›®</h2><p>è¿™ä¸ªé—®é¢˜æœ‰å¯èƒ½æ˜¯ä½ é¡¹ç›® Team é€‰æ‹©çš„æ˜¯ä¸€ä¸ªæ²¡æœ‰å¼€å‘è€…èµ„æ ¼çš„è´¦å·å¯¼è‡´çš„, è™½ç„¶å¯ä»¥æ­£å¸¸å¼€å‘, çœŸæœºè°ƒè¯•, ä½†æ˜¯æ˜¯ä¸èƒ½å‘å¸ƒçš„, æ‰€ä»¥ä¹Ÿæ— æ³• Export .<br><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<ol>
<li>æ›´æ¢ä¸€ä¸ªæœ‰å¼€å‘è€…èµ„æ ¼çš„è´¦å·é‡æ–° Archive å¯¼å‡º, ä½†æ˜¯ Bundle ID å°±å¾—æ¢ä¸€ä¸ªäº†.</li>
<li>é€šè¿‡å‘½ä»¤è¡Œå·¥å…·å¯¼å‡º.<br>åœ¨ Organizer ä¸­æ‰¾åˆ°ä½ æƒ³å¯¼å‡ºçš„ Archive, å³é”®é€‰æ‹©åœ¨æ–‡ä»¶å¤¹ä¸­æ˜¾ç¤º, å¤åˆ¶è·¯å¾„, æ‰“å¼€ç»ˆç«¯:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcodebuild -exportArchive -exportFormat ipa -archivePath your-archive-file-name.xcarchive -exportPath ~/Desktop/test.ipa</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="ä¸‰-XCode-App-Installation-failed"><a href="#ä¸‰-XCode-App-Installation-failed" class="headerlink" title="ä¸‰. XCode: App Installation failed"></a>ä¸‰. XCode: App Installation failed</h2><p><img src="http://static.zybuluo.com/justbilt/kl9sahl74sqfnxgjem57f390/Unknown.png" alt="Unknown.png-45.1kB"><br>å¾ˆå¯èƒ½æ˜¯ä¹‹å‰æ‰‹æœºå·²ç»è£…è¿‡ä¸€ä¸ªåŒ Bundle ID çš„åº”ç”¨, ä½†æ˜¯ç°åœ¨æ¢äº†ç­¾å.<br><strong>è§£å†³æ–¹æ¡ˆ:</strong><br>åˆ æ‰æ‰‹æœºå·²ç»å®‰è£…çš„é‚£ä¸ªåº”ç”¨å°±å¯ä»¥å•¦.</p>
<h2 id="å››-XCode-Failed-to-code-sign-â€œxxxxâ€"><a href="#å››-XCode-Failed-to-code-sign-â€œxxxxâ€" class="headerlink" title="å››. XCode: Failed to code sign â€œxxxxâ€"></a>å››. XCode: Failed to code sign â€œxxxxâ€</h2><p><img src="http://static.zybuluo.com/justbilt/eb80q3re93fflmiuhygk4f1m/QQ20160626-0.png" alt="QQ20160626-0.png-437.7kB"><br>ç­¾åå¤±è´¥äº†, è¿™ç§æƒ…å†µä¸€èˆ¬å‘ç”Ÿåœ¨ä½¿ç”¨åˆ«äººç»™çš„è¯ä¹¦æ‰“åŒ…æ—¶. è¿™æ—¶å€™æˆ‘ä»¬é¡¹ç›® <code>Build Setting &gt; Code Signing Identity</code> å°±ä¸èƒ½é€‰æ‹© <code>iOS Developer</code>, è€Œæ˜¯è¦é€‰æ‹©å¯¼å…¥çš„ç­¾åæ–‡ä»¶.</p>
<h2 id="äº”-å†…è´­-æ— æ³•è¿æ¥åˆ°-iTunes-Store"><a href="#äº”-å†…è´­-æ— æ³•è¿æ¥åˆ°-iTunes-Store" class="headerlink" title="äº”. å†…è´­: æ— æ³•è¿æ¥åˆ° iTunes Store"></a>äº”. å†…è´­: æ— æ³•è¿æ¥åˆ° iTunes Store</h2><p>å¦‚æœæ²¡æœ‰å‘å¸ƒåº”ç”¨çš„è¯, éœ€è¦ç”¨æ²™ç›’æµ‹è¯•è´¦å·æ¥æµ‹è¯•. æˆ‘ä»¬éœ€è¦å…ˆåœ¨ <code>è®¾ç½®&gt;iTunes Store å’Œ App Store</code>ä¸­ <strong>æ³¨é”€è´¦å·</strong>, ç„¶åæ‰“å¼€æ¸¸æˆ, å¼€å§‹è´­ä¹°, è¿™æ—¶å€™è¾“å…¥ä½ çš„æµ‹è¯•è´¦å·. æˆåŠŸåå¦‚æœæœ‰è·³è½¬ App Store çš„è¯æˆ–è€…ç»‘å®šä»˜æ¬¾æ–¹å¼çš„è¯, ä¸åŒç†ä¼š, å†è¿”å›åº”ç”¨è´­ä¹°å°±å¯ä»¥äº†.</p>
<h2 id="å…­-å´©æºƒ-showAlert-å´©æºƒ"><a href="#å…­-å´©æºƒ-showAlert-å´©æºƒ" class="headerlink" title="å…­. å´©æºƒ: showAlert å´©æºƒ"></a>å…­. å´©æºƒ: showAlert å´©æºƒ</h2><p>æŸä¸€æ¬¡çªç„¶, ä¸€æ—¦è°ƒç”¨ Quick-cocos2d-x æä¾›çš„ <code>device.showAlert</code> å°±ä¼šå´©æºƒ, æ–­ç‚¹è°ƒè¯•æ— æœ, å´©æºƒæ—¶æç¤ºçš„å†…å®¹ä¹Ÿä¸å°½ç›¸åŒ.<br><strong>è§£å†³æ–¹æ¡ˆ:</strong><br>åˆ é™¤ <code>RootViewController.mm</code> ä¸­æ‰€æœ‰å’Œå±å¹•æ–¹å‘ä»£ç , å°±è§£å†³å•¦.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)shouldAutorotateToInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)interfaceOrientation</span><br><span class="line">- (<span class="built_in">NSUInteger</span>) supportedInterfaceOrientations</span><br><span class="line">- (<span class="built_in">BOOL</span>) shouldAutorotate</span><br><span class="line">- (<span class="keyword">void</span>)didRotateFromInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)fromInterfaceOrientation</span><br></pre></td></tr></table></figure>
<h2 id="ä¸ƒ-å´©æºƒ-iOS-9-2-æ’­æ”¾è§†é¢‘å´©æºƒ"><a href="#ä¸ƒ-å´©æºƒ-iOS-9-2-æ’­æ”¾è§†é¢‘å´©æºƒ" class="headerlink" title="ä¸ƒ. å´©æºƒ: iOS 9.2+ æ’­æ”¾è§†é¢‘å´©æºƒ"></a>ä¸ƒ. å´©æºƒ: iOS 9.2+ æ’­æ”¾è§†é¢‘å´©æºƒ</h2><p>æ„Ÿè°¢ @å­é¾™å±±äºº å¤§ç¥æä¾›çš„è§£å†³æ–¹æ¡ˆ, <a href="https://github.com/cocos2d/cocos2d-x/issues/14855" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹</a>.</p>
<p>å°† <code>UIVideoPlayer-ios.mm</code> æ–‡ä»¶ <code>~VideoPlayer()</code> å‡½æ•°ä¸­çš„ <code>dealloc</code> ä¿®æ”¹ä¸º <code>release</code> å³å¯.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-        [((<span class="built_in">UIVideoViewWrapperIos</span>*)_videoView) dealloc];</span><br><span class="line">+        [((<span class="built_in">UIVideoViewWrapperIos</span>*)_videoView) release];</span><br></pre></td></tr></table></figure>
]]></content>
      
        
        <tags>
            
            <tag> iOS </tag>
            
            <tag> iOS-Dev-Tips </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x é€‚é… IPV6]]></title>
      <url>http://blog.justbilt.com/2016/06/19/quickx-ipv6/</url>
      <content type="html"><![CDATA[<h1 id="ä¸€-IPV6-æ˜¯å•¥"><a href="#ä¸€-IPV6-æ˜¯å•¥" class="headerlink" title="ä¸€. IPV6 æ˜¯å•¥ ?"></a>ä¸€. IPV6 æ˜¯å•¥ ?</h1><p>è¿™ä¸¤å¤©ä¸€ä¸ªè¿è¥çš„åŒäº‹è·‘è¿‡æ¥é—®æˆ‘:</p>
<blockquote>
<p>ä»–: å’±ä»¬çš„æ¸¸æˆé€‚é…é‚£å•¥ VIP6 äº†ä¹ˆ?<br>æˆ‘: â€¦.</p>
</blockquote>
<p>è‹¹æœå•†åº—åœ¨å„¿ç«¥èŠ‚ä¹‹åå°±ä¸å…è®¸æœªé€‚é… IPV6 çš„åº”ç”¨ä¸Šæ¶äº†, IPV6 æ˜¯å•¥ ? éœ€è¦åšäº›ä»€ä¹ˆå‘¢ ? </p>
<a id="more"></a>
<p>çœ‹å®Œè¿™ä¸¤ç¯‡æ–‡ç« å°±æ˜ç™½äº†:</p>
<p><a href="http://www.jianshu.com/p/a6bab07c4062" target="_blank" rel="noopener">iOSåº”ç”¨æ”¯æŒIPV6ï¼Œå°±é‚£ç‚¹äº‹å„¿</a><br><a href="http://www.jianshu.com/p/69ed4489762c" target="_blank" rel="noopener">é’ˆå¯¹è‹¹æœæœ€æ–°å®¡æ ¸è¦æ±‚ä¸ºåº”ç”¨å…¼å®¹IPv6</a></p>
<p>è™½ç„¶è¿™ä¸¤ç¯‡æ–‡ç« æ˜¯é’ˆå¯¹åº”ç”¨çš„, ä½†æ˜¯ä»ä¸­æˆ‘ä»¬ä¹Ÿèƒ½äº†è§£å¤§æ¦‚çš„åšæ³•:</p>
<ol>
<li>ä¸å»ºè®®ä½¿ç”¨åº•å±‚çš„ç½‘ç»œAPI</li>
<li>ä¸è¦ç”¨IPåœ°å€</li>
</ol>
<h1 id="äºŒ-COCOS2D-X-é€‚é…-IPV6"><a href="#äºŒ-COCOS2D-X-é€‚é…-IPV6" class="headerlink" title="äºŒ. COCOS2D-X é€‚é… IPV6"></a>äºŒ. COCOS2D-X é€‚é… IPV6</h1><p>cocos ä¾èµ–çš„ä¸‰æ–¹åº“æ¶‰åŠåˆ° IPV6 é—®é¢˜çš„åº“ä¸º <code>curl</code>, <code>websocket</code>, cocos è‡ªå·±æä¾›çš„æ¨¡å—éœ€è¦é€‚é…çš„æœ‰: </p>
<ol>
<li>HttpClient</li>
<li>AssetsManagerEx</li>
<li>SocketIO</li>
<li>WebSocket</li>
<li>Console</li>
<li>ScriptingCore</li>
</ol>
<p>cocos å®˜æ–¹ä¹Ÿç¬¬ä¸€æ—¶é—´é€‚é…äº† IPV6, å…·ä½“å†…å®¹å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« :<a href="https://mp.weixin.qq.com/s?__biz=MjM5ODAxNTM2NA==&amp;mid=2659642350&amp;idx=1&amp;sn=a7db1bb86e965f8408c1687f73b23c7e&amp;scene=1&amp;srcid=0619ztJlty4HuLRBOll0Yr6V&amp;key=18e81ac7415f67c4acff47973e6979565cda32dd8f6c87dca6f733d6e6b4118817536543eb3844b8c890968fdbb06eed&amp;ascene=0&amp;uin=Mjk2MDM0NjgyMA%3D%3D&amp;devicetype=iMac+MacBookAir6%2C2+OSX+OSX+10.10.5+build(14F1021)&amp;version=11020201&amp;pass_ticket=WECSEWT6jaVZNRKNNwilauFgBa%2FhDiF9DioAiHKmly2CArsnkf%2FQbQJchxVf%2F7bk" target="_blank" rel="noopener">å„¿ç«¥èŠ‚åè‹¹æœçˆ¸çˆ¸åªçˆ±IPv6 Cocos2d-xç¬¬ä¸€æ—¶é—´æ”¯æŒ</a>, é‡Œé¢æè¿°çš„å¾ˆç®€å•:</p>
<blockquote>
<p>å¦‚æœä½ éœ€è¦æ”¯æŒçº¯IPv6ç½‘ç»œï¼Œåªéœ€è¦æ›´æ–°CURLå’Œlibwebsocketç½‘ç»œã€‚</p>
</blockquote>
<p>è®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹.</p>
<h2 id="1-ä¸‹è½½-cocos2d-x-3rd-party-libs-bin"><a href="#1-ä¸‹è½½-cocos2d-x-3rd-party-libs-bin" class="headerlink" title="1. ä¸‹è½½ cocos2d-x-3rd-party-libs-bin"></a>1. ä¸‹è½½ cocos2d-x-3rd-party-libs-bin</h2><p>è¿™ä¸€æ­¥çœ‹ä¼¼å¾ˆç®€å•, å®åˆ™ä¸ç„¶. ä½ ä¸ä¼šæƒ³åˆ°ä» github ä¸Šä¸‹è½½ä¸€ä¸ª 100 å¤š MB çš„æ–‡ä»¶æ˜¯å¤šéº½å›°éš¾, ä¸ºæ­¤æˆ‘èŠ±è´¹äº†è¿‘ 2ä¸ªå°æ—¶çš„æ—¶é—´.</p>
<p>æˆ‘ä¸‹è½½çš„æ˜¯ 99 ç‰ˆçš„, è§£å‹ä»£ç”¨.</p>
<h2 id="2-æ›´æ–°-curl"><a href="#2-æ›´æ–°-curl" class="headerlink" title="2. æ›´æ–° curl"></a>2. æ›´æ–° curl</h2><p>æ‹·è´è§£å‹å‡ºæ¥çš„æ–‡ä»¶å¤¹ä¸­çš„ <code>curl</code> ç›®å½•åˆ° <code>quick-cocos2d-x/external</code>, æ›¿æ¢åŸæ¥çš„ <code>curl</code> ç›®å½•.</p>
<p>æ‰“å¼€ xcode, ç¼–è¯‘, å‘ç°æœ‰ 100 å¤šä¸ªé”™è¯¯:</p>
<p><img src="http://static.zybuluo.com/justbilt/6b752pk1bzragqhjgbl2llky/image_1alkfke1vag91ccc1p15179c1jtcm.png" alt="image_1alkfke1vag91ccc1p15179c1jtcm.png-113.9kB"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Undefined symbols for architecture i386:</span><br><span class="line">  &quot;_ASN1_INTEGER_get&quot;, referenced from:</span><br><span class="line">      _ossl_connect_common in libcocos2d iOS.a(libcurl_la-openssl.o)</span><br><span class="line">  &quot;_ASN1_STRING_data&quot;, referenced from:</span><br><span class="line">      _ossl_connect_common in libcocos2d iOS.a(libcurl_la-openssl.o)</span><br><span class="line">  &quot;_ASN1_STRING_length&quot;, referenced from:</span><br><span class="line">      _ossl_connect_common in libcocos2d iOS.a(libcurl_la-openssl.o)</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>ä¸è¦æƒŠæ…Œ, è¿™æ˜¯å› ä¸ºæ–°ç‰ˆæœ¬ curl å¤šäº†ä¸€äº›é™æ€åº“, æˆ‘ä»¬éœ€è¦å¼•å…¥å®ƒä»¬, åœ¨ XCode é¡¹ç›®è¾“æ‰¾åˆ° <code>cocos2d_lib &gt; external &gt; curl &gt; ios</code> ç›®å½•ä¸Šå³é”®, é€‰æ‹© <code>Add Files to &#39;cocos2d_lib.xcodeproj&#39;</code>:</p>
<p><img src="http://static.zybuluo.com/justbilt/1c0jehn0zxvrj7u3pf2cugam/image_1alkfv73t446cr3sc41r6r1hqj13.png" alt="image_1alkfv73t446cr3sc41r6r1hqj13.png-238.8kB"></p>
<p>é€‰ä¸­ <code>libcrypto.a</code> å’Œ <code>libssl.a</code>, targets é€‰æ‹© <code>libcocos2d iOS</code>, ç¡®å®š, é‡æ–°ç¼–è¯‘, æå®š.</p>
<h2 id="3-æ›´æ–°-websocket"><a href="#3-æ›´æ–°-websocket" class="headerlink" title="3. æ›´æ–° websocket"></a>3. æ›´æ–° websocket</h2><blockquote>
<p>æ³¨: æˆ‘ä»¬é¡¹ç›®å¹¶æ²¡æœ‰ç”¨åˆ° websocket , æ‰€ä»¥è¿™é‡Œåªæ˜¯æåˆ°ç¼–è¯‘é€šè¿‡, è¿è¡Œæ—¶æœ‰æœ¨æœ‰é—®é¢˜å°±ä¸åˆ°çŸ¥é“äº†!</p>
</blockquote>
<p>å’Œ curl ç±»ä¼¼, æ‹·è´ cocos2d-x-3rd-party-libs ä¸­çš„ <code>websockets</code> ç›®å½•åˆ° <code>quick-cocos2d-x/external</code>, æ›¿æ¢åŸæ¥çš„ <code>websockets</code> ç›®å½•.</p>
<p>å› ä¸ºæœ€æ–°ç‰ˆçš„ websockets api å˜åŒ–æŒºå¤§, æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ cocos <a href="https://github.com/cocos2d/cocos2d-x/tree/v3/cocos/network" target="_blank" rel="noopener">æœ€æ–°çš„</a> WebSocket.h å’Œ WebSocket.cpp æ›¿æ¢ quick-cocos2d-x/cocos/network ä¸­çš„ <code>WebSocket</code> .</p>
<p>ç¼–è¯‘, ä¼šæœ‰ä¸€å¤„é”™è¯¯å‘ç”Ÿåœ¨ <code>WebSocket::WebSocket()</code> ä¸­, å› ä¸º quick ä¸­å¹¶æ²¡æœ‰ <code>Director::EVENT_RESET</code> æ¶ˆæ¯, æˆ‘ä»¬æ³¨é‡Šæ‰è¿™æ®µä»£ç å³å¯.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// reserve data buffer to avoid allocate memory frequently</span></span><br><span class="line">    _receivedData.reserve(WS_RESERVE_RECEIVE_BUFFER_SIZE);</span><br><span class="line">    <span class="keyword">if</span> (__websocketInstances == <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        __websocketInstances = <span class="keyword">new</span> (<span class="built_in">std</span>::nothrow) <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;WebSocket*&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    __websocketInstances-&gt;push_back(<span class="keyword">this</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    std::shared_ptr&lt;std::atomic&lt;bool&gt;&gt; isDestroyed = _isDestroyed;</span></span><br><span class="line"><span class="comment">//    _resetDirectorListener = Director::getInstance()-&gt;getEventDispatcher()-&gt;addCustomEventListener(Director::EVENT_RESET, [this, isDestroyed](EventCustom*)&#123;</span></span><br><span class="line"><span class="comment">//        if (*isDestroyed)</span></span><br><span class="line"><span class="comment">//            return;</span></span><br><span class="line"><span class="comment">//        close();</span></span><br><span class="line"><span class="comment">//    &#125;);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰-QUICK-COCOS2D-X-é€‚é…-IPV6"><a href="#ä¸‰-QUICK-COCOS2D-X-é€‚é…-IPV6" class="headerlink" title="ä¸‰. QUICK-COCOS2D-X é€‚é… IPV6"></a>ä¸‰. QUICK-COCOS2D-X é€‚é… IPV6</h1><h2 id="1-å¦‚ä½•é€‚é…"><a href="#1-å¦‚ä½•é€‚é…" class="headerlink" title="1. å¦‚ä½•é€‚é…"></a>1. å¦‚ä½•é€‚é…</h2><p>Quick-Cocos2d-x ä¸­ä¸»è¦æ˜¯ luasocket çš„é€‚é…, é€‚é…çš„æ–¹æ³•å°±æ˜¯é€‰æ‹©æ€§çš„è°ƒç”¨ <code>socket.tcp6()</code> å’Œ <code>socket.tcp()</code>, udp ä¹Ÿæ˜¯å¦‚æ­¤.</p>
<p>Quick-Cocos2d-x ä¸­è°ƒåˆ›å»º socket æ˜¯åœ¨ <code>SocketTCP:connect</code> å‡½æ•°ä¸­, å¹¶æ²¡æœ‰é¢„ç•™ ipv6 å‚æ•°, æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SocketTCP:connect</span><span class="params">(__host, __port, __retryConnectWhenFailure, __ipv6)</span></span></span><br><span class="line">    <span class="keyword">if</span> __host <span class="keyword">then</span> self.host = __host <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> __port <span class="keyword">then</span> self.port = __port <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> __retryConnectWhenFailure ~= <span class="literal">nil</span> <span class="keyword">then</span> self.isRetryConnect = __retryConnectWhenFailure <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">assert</span>(self.host <span class="keyword">or</span> self.port, <span class="string">"Host and port are necessary!"</span>)</span><br><span class="line">    <span class="comment">--printInfo("%s.connect(%s, %d)", self.name, self.host, self.port)</span></span><br><span class="line">    <span class="keyword">if</span> __ipv6 <span class="keyword">then</span></span><br><span class="line">        self.tcp = socket.tcp6()</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        self.tcp = socket.tcp()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    self.tcp:settimeout(<span class="number">0</span>)</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>ç„¶å, å¦‚æœè¦è¿æ¥ ipv6 çš„æœåŠ¡å™¨çš„è¯, <code>__ipv6</code> å€¼ä¼  <code>true</code> å³å¯.</p>
<h2 id="2-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæœåŠ¡å™¨æ˜¯-ipv6-è¿˜æ˜¯-ipv4"><a href="#2-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæœåŠ¡å™¨æ˜¯-ipv6-è¿˜æ˜¯-ipv4" class="headerlink" title="2. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæœåŠ¡å™¨æ˜¯ ipv6 è¿˜æ˜¯ ipv4"></a>2. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæœåŠ¡å™¨æ˜¯ ipv6 è¿˜æ˜¯ ipv4</h2><p>lua ä¸­ socket çš„ dns æ¨¡å—æä¾›äº†ä¸€ä¸ªå‡½æ•° <code>getaddrinfo</code>, å¯ä»¥è¿”å›ä¸€ä¸ªæœåŠ¡å™¨çš„ dns è§£æç»“æœæ•°ç»„, å…¶ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„å­—æ®µå°±æ˜¯ <code>family</code>, æœ‰ <code>inet</code> å’Œ <code>inet6</code> ä¸¤ä¸ªå€¼å¯é€‰.</p>
<p>å¤§å®¶å¯ä»¥è¿è¡Œ <code>dump(socket.dns.getaddrinfo(&quot;ipv6-test.com&quot;))</code> çœ‹ä¸‹ç»“æœ:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- <span class="string">"&lt;var&gt;"</span> = &#123;</span><br><span class="line">-     <span class="number">1</span> = &#123;</span><br><span class="line">-         <span class="string">"addr"</span>   = <span class="string">"5.135.165.173"</span></span><br><span class="line">-         <span class="string">"family"</span> = <span class="string">"inet"</span></span><br><span class="line">-     &#125;</span><br><span class="line">-     <span class="number">2</span> = &#123;</span><br><span class="line">-         <span class="string">"addr"</span>   = <span class="string">"2001:41d0:8:e8ad::1"</span></span><br><span class="line">-         <span class="string">"family"</span> = <span class="string">"inet6"</span></span><br><span class="line">-     &#125;</span><br><span class="line">- &#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬éå†ä¸€ä¸‹è¿™ä¸ªç»“æœ, å¦‚æœå…¶ä¸­æœ‰ <code>&quot;family&quot; = &quot;inet6&quot;</code> çš„è§£æ, å°±å¯ä»¥ä½¿ç”¨ ipv6 è¿›è¡Œè¿æ¥äº†, ä»£ç å®ç°å¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">isSupportIpv6</span><span class="params">(_domain)</span></span></span><br><span class="line">    <span class="keyword">local</span> result = socket.dns.getaddrinfo(_domain)</span><br><span class="line">    <span class="keyword">local</span> ipv6 = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">if</span> result <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(result) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">if</span> v.family == <span class="string">"inet6"</span> <span class="keyword">then</span></span><br><span class="line">                ipv6 = <span class="literal">true</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> ipv6</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å°†è¿™ä¸ªå‡½æ•°çš„ç»“æœä½œä¸º <code>SocketTCP:connect</code> çš„æœ€åä¸€ä¸ªå‚æ•°ä¼ å…¥å³å¯.</p>
<h1 id="å››-è¿˜æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„"><a href="#å››-è¿˜æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„" class="headerlink" title="å››. è¿˜æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„"></a>å››. è¿˜æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„</h1><h2 id="1-ä¸€å®šè¦ä½¿ç”¨ä½¿ç”¨åŸŸå"><a href="#1-ä¸€å®šè¦ä½¿ç”¨ä½¿ç”¨åŸŸå" class="headerlink" title="1. ä¸€å®šè¦ä½¿ç”¨ä½¿ç”¨åŸŸå"></a>1. ä¸€å®šè¦ä½¿ç”¨ä½¿ç”¨åŸŸå</h2><p>å‘è‹¹æœæå®¡çš„æœåŠ¡å™¨ä¸€å®šè¦ä½¿ç”¨åŸŸå, æ‰€æœ‰çš„åœ°æ–¹éƒ½æ˜¯å¦‚æ­¤, åŒ…æ‹¬ http è¯·æ±‚, çƒ­æ›´æ–°è¿”å›çš„ <code>version.md</code> åœ°å€.</p>
<h2 id="2-åšå¥½å…¼å®¹æ€§æµ‹è¯•"><a href="#2-åšå¥½å…¼å®¹æ€§æµ‹è¯•" class="headerlink" title="2. åšå¥½å…¼å®¹æ€§æµ‹è¯•"></a>2. åšå¥½å…¼å®¹æ€§æµ‹è¯•</h2><p>æµ‹è¯• IPV6 ONLY çš„æ—¶å€™ä½¿ç”¨æœ€æ–°çš„ iOS 9.3 åšæµ‹è¯•, è‹¹æœä»–ä»¬å®¡æ ¸çš„æ—¶å€™ä¹Ÿæ˜¯åªå®¡æ ¸æœ€æ–°çš„ç³»ç»Ÿæ˜¯å¦æ­£å¸¸. </p>
<p>ä½†æ˜¯æˆ‘ä»¬å®ç°çš„æ—¶å€™è¦å…¼å®¹çš„ä¸åŒçš„ç³»ç»Ÿ, ç½‘ç»œç¯å¢ƒ(<code>IPV6 å…¼å®¹</code> å’Œ <code>IPV6 ONLY</code>), å› ä¸ºç”¨æˆ·çš„ç½‘ç»œå¯èƒ½æ˜¯å„ç§å„æ ·æ ·, è¿™äº›ç»„åˆéƒ½è¦æµ‹è¯•åˆ°.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> iOS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x ä½¿ç”¨é™æ€åº“åŠ é€Ÿ iOS æ‰“åŒ…]]></title>
      <url>http://blog.justbilt.com/2016/05/29/quickx-ios-static-lib/</url>
      <content type="html"><![CDATA[<p>Quick-Cocos2d-x é¡¹ç›®çš„ iOS å·¥ç¨‹ä½¿ç”¨ <code>Tgarget Dependencise</code> ä¾èµ– <code>cocos2d_lib</code> å’Œ <code>cocos_lua_bindings</code> å·¥ç¨‹.</p>
<p><img src="http://static.zybuluo.com/justbilt/i0vtatej9k1wx2d9ck8fmqhy/QQ20160529-0.png" alt="QQ20160529-0.png-27kB"></p>
<p>è¿™æ ·å­åœ¨ iOS Archive æ—¶ä¼šé‡æ–°ç¼–è¯‘è¿™ä¸¤ä¸ªé¡¹ç›®, ååˆ†ç—›è‹¦, å°¤å…¶æ˜¯ä¸€æ¬¡å‡ºä¸ƒå…«ä¸ªæ¸ é“çš„åŒ…, å¥½å‡ ä¸ªå°æ—¶å°±è€—åœ¨é‡Œé¢äº†.</p>
<p>ä¸ºä»€ä¹ˆä¸ç”¨é™æ€åº“, ç¼–è¯‘å‡º .a , ä½¿ç”¨æ—¶ç›´æ¥é“¾æ¥å°±å¯ä»¥äº†å˜›.</p>
<h1 id="ä¸€-ç¼–è¯‘é™æ€åº“"><a href="#ä¸€-ç¼–è¯‘é™æ€åº“" class="headerlink" title="ä¸€. ç¼–è¯‘é™æ€åº“"></a>ä¸€. ç¼–è¯‘é™æ€åº“</h1><p>æ‰¾äº†ä¸€ä¸‹, åŸæ¥æ—©å·²ç»æœ‰å°ä¼™ä¼´æƒ³åˆ°äº†è¿™ç‚¹, è¿™ç¯‡æ–‡ç«  <a href="http://www.nicnocquee.com/2016/01/20/build-cocos2d-x-fat-static-library.html" target="_blank" rel="noopener">Build cocos2d-x fat static library</a> å°±ç‰¹åˆ«æ£’. ä»ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ä¸€ä¸ªç‰¹åˆ«æœ‰ç”¨çš„è„šæœ¬ <a href="https://gist.github.com/nicnocquee/9dc4c4a128d7c0bafe23#file-buildstaticlib-sh" target="_blank" rel="noopener">buildstaticlib.sh</a>, å¯ä»¥ç›´æ¥ä½¿ç”¨ xcode å·¥ç¨‹ç¼–è¯‘å‡ºé™æ€åº“.</p>
<p>ä¸è¿‡è¿™ä¸ªè„šæœ¬åªèƒ½ç¼–è¯‘å‡º <code>Release</code> ç‰ˆ, æˆ‘ä¿®æ”¹ä¸‹å¯ä»¥ä¼ å…¥ <code>configuration</code>, è¿™æ ·æˆ‘ä»¬å¯ä»¥åˆ†åˆ«ç¼–è¯‘å‡º Debug å’Œ Release ç‰ˆçš„é™æ€åº“å•¦, æˆ‘ä¿®æ”¹åçš„<a href="https://gist.github.com/justbilt/e84e3e83984dd0ad4e005525b7bc1033" target="_blank" rel="noopener">æ–‡ä»¶åœ¨è¿™é‡Œ</a>.</p>
<p>å› ä¸ºæˆ‘ä»¬è¦ç¼–è¯‘å‡ºå¤šä¸ªé™æ€åº“, æ‰€æœ‰åˆå†™äº†å¦ä¸€ä¸ªè„šæœ¬ <code>build.sh</code> è°ƒç”¨ <code>buildstaticlib.sh</code> , å†…å®¹å¦‚ä¸‹:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">./buildstaticlib.sh <span class="variable">$QUICK_V3_ROOT</span>/cocos/scripting/lua-bindings/proj.ios_mac/cocos2d_lua_bindings.xcodeproj <span class="string">"libluacocos2d iOS"</span> <span class="string">"Release"</span></span><br><span class="line"></span><br><span class="line">./buildstaticlib.sh <span class="variable">$QUICK_V3_ROOT</span>/build/cocos2d_libs.xcodeproj <span class="string">"libcocos2d iOS"</span> <span class="string">"Release"</span></span><br><span class="line"></span><br><span class="line">./buildstaticlib.sh <span class="variable">$QUICK_V3_ROOT</span>/cocos/scripting/lua-bindings/proj.ios_mac/cocos2d_lua_bindings.xcodeproj <span class="string">"libluacocos2d iOS"</span> <span class="string">"Debug"</span></span><br><span class="line"></span><br><span class="line">./buildstaticlib.sh <span class="variable">$QUICK_V3_ROOT</span>/build/cocos2d_libs.xcodeproj <span class="string">"libcocos2d iOS"</span> <span class="string">"Debug"</span></span><br></pre></td></tr></table></figure>
<p>è¿è¡ŒæˆåŠŸåä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆ 4 ä¸ª .a æ–‡ä»¶, ä¸‹ä¸€æ­¥ä¸­å°†ä¼šç”¨åˆ°.<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ build.sh</span><br><span class="line">â”œâ”€â”€ buildstaticlib.sh</span><br><span class="line">â”œâ”€â”€ libcocos2d\ iOS-debug.a</span><br><span class="line">â”œâ”€â”€ libcocos2d\ iOS.a</span><br><span class="line">â”œâ”€â”€ libluacocos2d\ iOS-debug.a</span><br><span class="line">â””â”€â”€ libluacocos2d\ iOS.a</span><br></pre></td></tr></table></figure></p>
<h1 id="äºŒ-ä½¿ç”¨é™æ€åº“"><a href="#äºŒ-ä½¿ç”¨é™æ€åº“" class="headerlink" title="äºŒ. ä½¿ç”¨é™æ€åº“"></a>äºŒ. ä½¿ç”¨é™æ€åº“</h1><p>ä½¿ç”¨ XCode æ‰“å¼€ <code>proj.ios_mac</code> ç›®å½•ä¸‹çš„ <code>xxx.xcodeproj</code> å·¥ç¨‹.</p>
<h2 id="1-ç§»é™¤-Tgarget-Dependencise"><a href="#1-ç§»é™¤-Tgarget-Dependencise" class="headerlink" title="1. ç§»é™¤ Tgarget Dependencise"></a>1. ç§»é™¤ Tgarget Dependencise</h2><p>é¦–å…ˆç§»é™¤å¯¹ <code>cocos2d_lib</code> å’Œ <code>cocos_lua_bindings</code> å·¥ç¨‹çš„ä¾èµ–, å³é”®ç‚¹å‡» <code>Delete</code> ç„¶åé€‰æ‹© <code>Remove reference</code> å°±å¯ä»¥.</p>
<p><img src="http://static.zybuluo.com/justbilt/3d9eiua1tind8aycakjwymgl/QQ20160529-1.png" alt="QQ20160529-1.png-49.2kB"></p>
<h2 id="2-æ·»åŠ -Other-Linker-Flags"><a href="#2-æ·»åŠ -Other-Linker-Flags" class="headerlink" title="2. æ·»åŠ  Other Linker Flags"></a>2. æ·»åŠ  Other Linker Flags</h2><p>æˆ‘ä»¬é™æ€åº“çš„ä¾èµ–æ˜¯åœ¨è¿™é‡Œæ·»åŠ çš„, åœ¨ Debug å’Œ Release é€‰é¡¹ä¸­åˆ†åˆ«åŠ å…¥å¯¹åº”çš„é™æ€åº“.<br><img src="http://static.zybuluo.com/justbilt/5g1o6ozh1j4dlybcjftfybnr/QQ20160529-3.png" alt="QQ20160529-3.png-117.8kB"></p>
<p>è¿™æ ·å°±å®Œæˆå•¦, å°è¯•ä¸€ä¸‹ Archive çš„é€Ÿåº¦å§ !</p>
<h1 id="ä¸‰-å…¶ä»–"><a href="#ä¸‰-å…¶ä»–" class="headerlink" title="ä¸‰. å…¶ä»–"></a>ä¸‰. å…¶ä»–</h1><h2 id="1-è°ƒè¯•ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒ"><a href="#1-è°ƒè¯•ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒ" class="headerlink" title="1. è°ƒè¯•ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒ"></a>1. è°ƒè¯•ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒ</h2><p>æˆ‘ä»¬æ”¹æˆé™æ€åº“å, è°ƒè¯• cocos å¼•æ“çš„ä»£ç ä¼šå¤šæœ‰ä¸ä¾¿, è€Œä¸”ä¸€æ—¦ä¿®æ”¹äº† cocos çš„ä»£ç , å°±å¾—é‡æ–°ç”Ÿæˆé™æ€åº“, å¯¹äºå¼€å‘é˜¶æ®µå¤ªä¸å‹å¥½äº†.</p>
<p>æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆ, å°±æ˜¯å†å»ºç«‹ä¸€ä¸ª debug å·¥ç¨‹, è¿™ä¸ªå·¥ç¨‹ä¾æ—§ä½¿ç”¨ä¾èµ–é¡¹ç›®çš„æ–¹å¼ç¼–è¯‘ cocos , è°ƒè¯•æµç¨‹å’Œä»¥å‰ä¸€è‡´. ä¸Šçº¿æ‰“åŒ…æ—¶åˆ™ä½¿ç”¨æˆ‘ä»¬çš„é™æ€åº“ç‰ˆæœ¬, å¤šæ¸ é“ä¹Ÿåšåœ¨è¿™ä¸ªå·¥ç¨‹ä¸­, äº«å—é™æ€åº“å¸¦æ¥çš„ç¼–è¯‘åŠ é€Ÿ.</p>
<p>æœ€ç»ˆæˆ‘ä»¬çš„ç›®å½•ç»“æ„æ˜¯è¿™ä¸ªæ ·å­çš„:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ runtime-src</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ Classes</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ proj.android</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ proj.android_no_anysdk</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ proj.android_studio</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ proj.ios_mac</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ proj.win32</span><br><span class="line">â”‚Â Â  â””â”€â”€ proj.wp8-xaml</span><br><span class="line">â””â”€â”€ runtime-src-debug</span><br><span class="line">    â”œâ”€â”€ Classes</span><br><span class="line">    â””â”€â”€ proj.ios_mac</span><br></pre></td></tr></table></figure>
<h2 id="2-ç”Ÿäº§ç¯å¢ƒå·¥ç¨‹ç˜¦èº«"><a href="#2-ç”Ÿäº§ç¯å¢ƒå·¥ç¨‹ç˜¦èº«" class="headerlink" title="2. ç”Ÿäº§ç¯å¢ƒå·¥ç¨‹ç˜¦èº«"></a>2. ç”Ÿäº§ç¯å¢ƒå·¥ç¨‹ç˜¦èº«</h2><p>è¿™ä¸€æ­¥å¯æœ‰å¯æ— , æˆ‘çš„ä»£ç æ´ç™–åˆçŠ¯äº†, æ‰€ä»¥é¡ºæ‰‹æ”¹äº†ä¸€ä¸‹. </p>
<p>è¿™æ—¶çš„ç”Ÿäº§ç¯å¢ƒé™¤é™æ€åº“å¤–çš„å†…å®¹å’Œè°ƒè¯•ç¯å¢ƒå‡ ä¹ä¸€è‡´, ç„¶è€Œæœ‰ä¸€äº›ä¸œè¥¿æ˜¯æˆ‘ä»¬ç”¨ä¸åˆ°çš„:</p>
<ol>
<li>mac å¹³å°å¯¹åº”çš„å†…å®¹</li>
<li>Classes/runtime ä¸‹çš„å†…å®¹</li>
</ol>
<p>åˆ é™¤è¿™äº›æ—¶æ”¹åŠ¨äº† AppDelegate ä¸­çš„ä¸œè¥¿, è¿™ä¹Ÿä¸Šä¸€æ­¥ä¸ºä»€ä¹ˆä» <code>runtimes-src</code> ç›®å½•å¤åˆ¶äº†ä¸€ä»½.</p>
<h2 id="3-è¿›ä¸€æ­¥åŠ é€Ÿç¼–è¯‘"><a href="#3-è¿›ä¸€æ­¥åŠ é€Ÿç¼–è¯‘" class="headerlink" title="3. è¿›ä¸€æ­¥åŠ é€Ÿç¼–è¯‘"></a>3. è¿›ä¸€æ­¥åŠ é€Ÿç¼–è¯‘</h2><p>è¿™ä¸€æ­¥æˆ‘ä»¬ç›®å‰è¿˜æ²¡æœ‰åš, åªæ˜¯ä¸€ä¸ªæƒ³æ³•.</p>
<p>ä¿®æ”¹å®Œä½¿ç”¨é™æ€åº“å, ç¼–è¯‘é€Ÿåº¦å¾—åˆ°äº†å¾ˆå¤§çš„æå‡, ä½†è¿˜æ²¡æœ‰è¾¾åˆ°æè‡´, å› ä¸º quick ç‰¹æœ‰çš„ c++ æ–‡ä»¶è¿˜æ˜¯ä»¥æ–‡ä»¶å½¢å¼å­˜åœ¨äºå·¥ç¨‹ä¸­çš„. æ‰€æœ‰ Archive çš„æ—¶å€™è¿˜æ˜¯æœ‰ä¸€ç™¾å¤šä¸ªæºæ–‡ä»¶éœ€è¦ç¼–è¯‘.</p>
<p>å¦‚æœæˆ‘ä»¬èƒ½è¿›ä¸€æ­¥æ‹†åˆ†, æ–°å»ºä¸€ä¸ª lib å·¥ç¨‹, å°† quick çš„æºæ–‡ä»¶æ·»åŠ å’Œä¾èµ–é¡¹ç›®æ·»åŠ è¿›å», æˆ‘ä»¬çš„æ¸¸æˆåªä¾èµ–è¿™æ ·çš„ä¸€ä¸ªé™æ€åº“, æ˜¯å¦å¯ä»¥è¾¾åˆ°ä¸€ä¸ªæè‡´çš„ç¼–è¯‘é€Ÿåº¦ ?</p>
<h2 id="4-é™æ€åº“æ–‡ä»¶çš„ç‰ˆæœ¬ç®¡ç†"><a href="#4-é™æ€åº“æ–‡ä»¶çš„ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="4. é™æ€åº“æ–‡ä»¶çš„ç‰ˆæœ¬ç®¡ç†"></a>4. é™æ€åº“æ–‡ä»¶çš„ç‰ˆæœ¬ç®¡ç†</h2><p>åœ¨ç¼–è¯‘å‡º debug ç‰ˆçš„é™æ€åº“ä¹‹å‰, æˆ‘è¿˜æœ‰æƒ³æ³•å°†è¿™å‡ ä¸ªé™æ€åº“å‹ç¼©ä¸Šä¼ åˆ° git ä¸Š, ç¼–è¯‘å‡º debug ç‰ˆä¹‹å, æˆ‘å°±ä¸€ä¸ªæƒ³æ³•, ignore them !</p>
<p>æ‰€ä»¥æˆ‘æœ€ç»ˆçš„ç­–ç•¥ å°†è¿™å‡ ä¸ª .a åœ¨ git ä¸Šå¿½ç•¥æ‰, åŒæ—¶åœ¨é‚£ä¸ªç›®å½•ä¿ç•™äº†ä¸€ä¸ªç¼–è¯‘è„šæœ¬, è°è¦ç”¨åˆ° iOS é¡¹ç›®çš„æ—¶å€™, å‘ç°æ²¡æœ‰ .a , è‡ªå·±è¿è¡Œè„šæœ¬ç¼–è¯‘ä¸€ä»½å°±å¯ä»¥å•¦ !</p>
<h2 id="5-ç¼–è¯‘è„šæœ¬ä¼˜åŒ–"><a href="#5-ç¼–è¯‘è„šæœ¬ä¼˜åŒ–" class="headerlink" title="5. ç¼–è¯‘è„šæœ¬ä¼˜åŒ– ?"></a>5. ç¼–è¯‘è„šæœ¬ä¼˜åŒ– ?</h2><p>ç°åœ¨é‚£ä¸ªç¼–è¯‘è„šæœ¬ä¼šç¼–è¯‘å‡ºä¸€ä¸ª <code>fat</code>(armv7 armv7s arm64 i386 x86_64) ç‰ˆçš„é™æ€åº“, å†…éƒ¨å®ç°å…¶å®æ˜¯ç¼–è¯‘äº†å¥½å¤šæ¬¡, å¯¼è‡´ç°åœ¨ç¼–è¯‘æ—¶é—´éå¸¸é•¿.</p>
<p>æ€è€ƒ:</p>
<ol>
<li>æ˜¯å¦æœ‰å¿…è¦ç¼–å‡º <code>i386 x86_64</code> ç‰ˆæœ¬ ?</li>
<li>çœ‹åˆ°è™¾ç¥çš„ä¸€ç¯‡æ–‡ç« è²Œä¼¼è¯´å¯ä»¥ä»¥ armv7+arm64, i386+x86_64 ç»„åˆä¸¤æ¬¡æ‰“å‡ºæ‰€æœ‰ç‰ˆæœ¬.</li>
</ol>
<h2 id="6-æœ€ç»ˆ-Archive-å‡ºçš„åŒ…ä¼šæ¯”ä½¿ç”¨æºæ–‡ä»¶å¤§"><a href="#6-æœ€ç»ˆ-Archive-å‡ºçš„åŒ…ä¼šæ¯”ä½¿ç”¨æºæ–‡ä»¶å¤§" class="headerlink" title="6. æœ€ç»ˆ Archive å‡ºçš„åŒ…ä¼šæ¯”ä½¿ç”¨æºæ–‡ä»¶å¤§ ?"></a>6. æœ€ç»ˆ Archive å‡ºçš„åŒ…ä¼šæ¯”ä½¿ç”¨æºæ–‡ä»¶å¤§ ?</h2><p>çœ‹åˆ°ç½‘ä¸Šæœ‰è¿‡è¿™ä¸ªè¯´æ³•, æˆ‘æ²¡æœ‰åœ¨ä¿®æ”¹å‰ååˆ†åˆ« Archive å¯¹æ¯”åŒ…ä½“, ä¸å¤ªä¸¥è°¨. </p>
<p>ä½†å’Œæˆ‘ä¹‹å‰æŸä¸€æ¬¡çš„åŒ…ç›¸æ¯”, åªå¤§äº†å‡ ç™¾KB, è¿˜ä¸å¤ªç¡®å®šæ˜¯ä¸æ˜¯ä¸ä½¿ç”¨é™æ€åº“æœ‰å…³ç³», å¤§å®¶åœ¨ä¿®æ”¹æ—¶å¯ä»¥æ³¨æ„å¯¹æ¯”ä¸€ä¸‹.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> iOS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[cocos2d-x ä¼˜åŒ–æ¸¸æˆèµ„æºä½“ç§¯]]></title>
      <url>http://blog.justbilt.com/2016/05/08/compress-res/</url>
      <content type="html"><![CDATA[<h1 id="ä¸€-åˆ é™¤æ— ç”¨èµ„æº"><a href="#ä¸€-åˆ é™¤æ— ç”¨èµ„æº" class="headerlink" title="ä¸€. åˆ é™¤æ— ç”¨èµ„æº"></a>ä¸€. åˆ é™¤æ— ç”¨èµ„æº</h1><p>åœ¨æˆ‘ä»¬ç‰ˆæœ¬è¿­ä»£çš„è¿‡ç¨‹ä¸­, æ€»æœ‰ä¸€äº›å›¾ç‰‡è¢«åºŸå¼ƒæ‰, å¦‚æœå½“æ—¶å¿˜è®°åˆ é™¤çš„è¯, ä¹…è€Œä¹…ä¹‹ä¹Ÿå°±å¿˜è®°äº†. å¦‚æœåœ¨ä¸Šçº¿å‰ä¸åšä¸€æ¬¡æ•´ç†çš„è¯, å®ƒä»¬å°±ä¼šæ®‹å­˜åœ¨ä½ çš„èµ„æºä¸­, æµªè´¹åŒ…çš„ä½“ç§¯.</p>
<p>ä¸ºé¿å…è¿™ç§æƒ…å†µ, æˆ‘ä»¬å¯ä»¥åšçš„æ˜¯:</p>
<h2 id="1-åºŸå¼ƒçš„å›¾ç‰‡ä¸€å®šè¦åŠæ—¶åˆ é™¤"><a href="#1-åºŸå¼ƒçš„å›¾ç‰‡ä¸€å®šè¦åŠæ—¶åˆ é™¤" class="headerlink" title="1. åºŸå¼ƒçš„å›¾ç‰‡ä¸€å®šè¦åŠæ—¶åˆ é™¤"></a>1. åºŸå¼ƒçš„å›¾ç‰‡ä¸€å®šè¦åŠæ—¶åˆ é™¤</h2><h2 id="2-ç¼–å†™åºŸå¼ƒèµ„æºæŸ¥æ‰¾å·¥å…·"><a href="#2-ç¼–å†™åºŸå¼ƒèµ„æºæŸ¥æ‰¾å·¥å…·" class="headerlink" title="2. ç¼–å†™åºŸå¼ƒèµ„æºæŸ¥æ‰¾å·¥å…·"></a>2. ç¼–å†™åºŸå¼ƒèµ„æºæŸ¥æ‰¾å·¥å…·</h2><p>å¯ä»¥ç”¨åˆ°çš„ç³»ç»Ÿå‘½ä»¤æ˜¯ <code>ack</code>, æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>brew install ack</code> å®‰è£…, ä½¿ç”¨çš„æ•ˆæœ:</p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1f3upxy29uej20iy083gna.jpg" alt=""></p>
<p>å…³äº ack çš„æ›´å¤šç”¨æ³•è¯·<a href="http://beyondgrep.com/documentation/" target="_blank" rel="noopener">ç§»æ­¥è¿™é‡Œ</a>.</p>
<h1 id="äºŒ-ä½¿ç”¨æ›¿ä»£å¯¹è±¡"><a href="#äºŒ-ä½¿ç”¨æ›¿ä»£å¯¹è±¡" class="headerlink" title="äºŒ. ä½¿ç”¨æ›¿ä»£å¯¹è±¡"></a>äºŒ. ä½¿ç”¨æ›¿ä»£å¯¹è±¡</h1><h2 id="1-ä½¿ç”¨9å›¾"><a href="#1-ä½¿ç”¨9å›¾" class="headerlink" title="1. ä½¿ç”¨9å›¾"></a>1. ä½¿ç”¨9å›¾</h2><p>å¤§å®¶éƒ½çŸ¥é“å›¾ç‰‡åœ¨æ‹‰ä¼¸çš„è¿‡ç¨‹ä¸­ä¼šå¤±çœŸ, é‚£ä¹ˆå¦‚ä½•é¿å…è¿™ä¸ªæƒ…å†µå‘¢? ä½¿ç”¨9å›¾. </p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1f3uqafyaevj206t04mjrj.jpg" alt=""></p>
<p>æ³¨: é…å›¾æ¥è‡ª<a href="http://mux.baidu.com/?p=1506" target="_blank" rel="noopener">http://mux.baidu.com/?p=1506</a></p>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†ä¸€å¼ å¾ˆå¤§çš„å›¾ç¼©å°åˆ°å¾ˆå°, ç„¶åä½¿ç”¨9å›¾æ‹‰ä¼¸, èµ·åˆ°èŠ‚çœèµ„æºçš„ç›®çš„. 9å›¾åœ¨ cocos ä¸­çš„å¯¹è±¡æ˜¯ <code>Scale9Sprite</code>, å…·ä½“ç”¨æ³•å¯ä»¥å‚è€ƒ<a href="http://shahdza.blog.51cto.com/2410787/1543284" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>.</p>
<h2 id="2-é€šè¿‡ä¿®æ”¹è‰²è°ƒå®ç°èµ„æºå¤ç”¨"><a href="#2-é€šè¿‡ä¿®æ”¹è‰²è°ƒå®ç°èµ„æºå¤ç”¨" class="headerlink" title="2. é€šè¿‡ä¿®æ”¹è‰²è°ƒå®ç°èµ„æºå¤ç”¨"></a>2. é€šè¿‡ä¿®æ”¹è‰²è°ƒå®ç°èµ„æºå¤ç”¨</h2><p>çŸ¥ä¹ä¸Šæœ‰ä¸€ç¯‡é—®é¢˜è®²çš„å°±æ˜¯è¿™ä¸ª:<br><a href="https://www.zhihu.com/question/31133351" target="_blank" rel="noopener">æ‹³çš‡ä¸­çš„äººç‰©å˜è‰²æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</a><br><a href="http://daily.zhihu.com/story/4797855" target="_blank" rel="noopener">çŸ¥ä¹æ—¥æŠ¥ä¸Šçš„è¿™ç¯‡</a></p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1f3uqjn3tz0j20ig08at9r.jpg" alt=""></p>
<p>cocos2d-x ç‰ˆç”± <a href="https://fusijie.github.io/2015/05/27/sprite-with-hue/" target="_blank" rel="noopener">@å¶å°”eç½‘äº‹</a> å¤§ç¥å®ç°, å¯¹åº”çš„å¯¹è±¡æ˜¯ <code>SpriteWithHue</code>, ç›®å‰å·²ç»é»˜è®¤é›†æˆåˆ°äº† cocos2d-x ä¸­.</p>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†åŸæ¥åªæ˜¯è‰²è°ƒå·®å¼‚çš„å›¾ç‰‡ç”¨ç¨‹åºæ¥å®ç°å•¦~</p>
<h2 id="3-ä½¿ç”¨å¹³é“º"><a href="#3-ä½¿ç”¨å¹³é“º" class="headerlink" title="3. ä½¿ç”¨å¹³é“º"></a>3. ä½¿ç”¨å¹³é“º</h2><p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1f3ur1pd7j5j20m8069tbd.jpg" alt=""></p>
<p>æ³¨: é…å›¾æ¥è‡ª<a href="http://bullteacher.com/7-textures.html" target="_blank" rel="noopener">http://bullteacher.com/7-textures.html</a></p>
<p>æ¸¸æˆä¸­çš„æœ‰äº›å›¾ç‰‡å®Œå…¨å¯ä»¥é€šè¿‡å¹³é“ºå®ç°, è¿™æ ·çš„è¯æˆ‘ä»¬å°±å¯ä»¥è®©ç¾æœ¯åªå‡ºä¸€ä¸ªå¹³é“ºå•å…ƒçš„å›¾ç‰‡,åœ¨ç¨‹åºä¸­å»å®ç°å¹³é“º.</p>
<p>é¦–å…ˆ, å¹³é“ºçš„è¿™ä¸ªåŠŸèƒ½æ˜¯ opengl å±‚é¢å°±æ”¯æŒçš„, è¯¦æƒ…å¤§å®¶å¯ä»¥<a href="http://bullteacher.com/7-textures.html" target="_blank" rel="noopener">ç§»æ­¥è¿™é‡Œ</a>, cocos2d-x ä¸­å®ç°å¹³é“ºå¾ˆç®€å•:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- é¦–å…ˆ, ä½¿ç”¨å¹³é“ºå•å…ƒå›¾ç‰‡åˆ›å»ºä¸€ä¸ªç²¾çµ</span></span><br><span class="line"><span class="keyword">local</span> sprite = cc.Sprite:<span class="built_in">create</span>(<span class="string">"your_repeat_image.png"</span>)</span><br><span class="line"><span class="comment">-- ç„¶å, è®¾ç½®çº¹ç†å‚æ•°</span></span><br><span class="line">sprite:getTexture():setTexParameters(gl.LINEAR, gl.LINEAR, gl.REPEAT, gl.REPEAT)</span><br><span class="line"><span class="comment">-- æœ€å, å°†è¿™ä¸ªç²¾çµçš„çº¹ç†çŸ©å½¢è®¾ç½®ä¸ºæˆ‘ä»¬æƒ³è¦çš„å¤§å°</span></span><br><span class="line">sprite:setTextureRect(cc.rect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1024</span>,<span class="number">1024</span>))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„:ã€€å¹³é“ºå•å…ƒå›¾ç‰‡çš„å°ºå¯¸åªèƒ½æ˜¯2çš„å¹‚</p>
</blockquote>
<h1 id="ä¸‰-å‹ç¼©"><a href="#ä¸‰-å‹ç¼©" class="headerlink" title="ä¸‰. å‹ç¼©"></a>ä¸‰. å‹ç¼©</h1><h2 id="1-æ— æŸå‹ç¼©"><a href="#1-æ— æŸå‹ç¼©" class="headerlink" title="1. æ— æŸå‹ç¼©"></a>1. æ— æŸå‹ç¼©</h2><p>æ— æŸå‹ç¼©è¿˜æ˜¯ååˆ†å€¼å¾—æ¨èçš„, å®ƒçš„åŸç†çŸ¥ä¹ä¸Š<a href="https://www.zhihu.com/question/23752454" target="_blank" rel="noopener">è¿™ä¸ªç­”æ¡ˆ</a>è®²çš„å¾ˆæ¸…æ™°, æˆ‘èŠ‚é€‰å…¶ä¸­çš„å…³é”®æ–‡å­—:</p>
<blockquote>
<p>1.æ ¸å¿ƒåŸç†å¾ˆç®€å•ï¼Œé€šä¿—çš„è§£é‡Šä¸€ä¸‹ï¼Œå°±æ˜¯ç”±äºPNGæ ¼å¼çš„çµæ´»æ€§ï¼Œä»–å¯ä»¥æœ‰å¾ˆå¤šç§æ–¹å¼è¡¨ç¤ºåŒä¸€å¼ å›¾ç‰‡ï¼Œä¸åŒæ–¹å¼æœ‰æ—¶å°±ä¼šå¯¼è‡´æ–‡ä»¶å¤§å°ä¸ä¸€æ ·â€¦<br>2.è¿˜æœ‰ä¸€ç‚¹æ˜¯PNGé‡‡ç”¨çš„æ˜¯deflateç®—æ³•ï¼Œä¹Ÿéå¸¸çš„çµæ´»ï¼Œä»–çš„å‹ç¼©ç‡å’Œencoderçš„å®ç°æœ‰å…³ï¼Œä¸åŒçš„encoderä½¿ç”¨çš„æ—¶é—´ï¼Œå‹ç¼©å‡ºæ¥çš„å¤§å°éƒ½ä¸ä¸€æ ·â€¦<br>3.å½“ç„¶é™¤äº†ä¸Šé¢è¿™ä¸¤ç‚¹æ˜¯çœŸæ­£çš„æ— æŸå‹ç¼©ä»¥å¤–ï¼Œè¿˜æœ‰å‡å°PNGæ–‡ä»¶å¤§å°çš„æ–¹å¼å°±æ˜¯å»é™¤ä¸€äº›å¯¹å›¾ç‰‡æœ¬èº«æ²¡æœ‰ä»»ä½•å½±å“çš„metadataâ€¦</p>
</blockquote>
<p>æ‰€ä»¥æ— æŸå‹ç¼©çº¯ç²¹æ˜¯å•æ–¹é¢çš„å—ç›Š, <strong>æ˜¯ä¸€å®šè¦åšçš„</strong>.</p>
<p>æˆ‘ä»¬æ— æŸå‹ç¼©ä¸»è¦ç”¨åˆ°çš„å·¥å…·: <a href="https://imageoptim.com/mac" target="_blank" rel="noopener">ImageOptim</a></p>
<h2 id="2-æœ‰æŸå‹ç¼©"><a href="#2-æœ‰æŸå‹ç¼©" class="headerlink" title="2. æœ‰æŸå‹ç¼©"></a>2. æœ‰æŸå‹ç¼©</h2><p><img src="http://ww1.sinaimg.cn/large/7f870d23gw1f3uvav83k9j20g707fabp.jpg" alt=""></p>
<p>æœ‰æŸå‹ç¼©ä¼šæŸå¤±ä¸€éƒ¨åˆ†çš„å›¾ç‰‡è´¨é‡, ä½†å¸¦æ¥çš„å—ç›Šè¿˜æ˜¯ååˆ†å¯è§‚çš„. è¿™æ˜¯ä¸€ä¸ªæŠ‰æ‹©çš„è¿‡ç¨‹, ä»¥æœ€å°çš„ä»£ä»·è·å–æœ€å¤§çš„å—ç›Š, ç”šè‡³ä¸èƒ½æ‰¹é‡å¤„ç†, å¯èƒ½éœ€è¦ä¸€å¼ ä¸€å¼ çš„äººè‚‰å¯¹æ¯”å‹ç¼©.</p>
<p>æˆ‘ä»¬æœ‰æŸå‹ç¼©ä¸»è¦ç”¨åˆ°çš„å·¥å…·: <a href="http://ppduck.com/" target="_blank" rel="noopener">PPé¸­</a></p>
<h1 id="å››-é€‰æ‹©æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼"><a href="#å››-é€‰æ‹©æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼" class="headerlink" title="å››. é€‰æ‹©æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼"></a>å››. é€‰æ‹©æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼</h1><h2 id="1-å°†æ— -alpha-é€šé“çš„-png-å›¾ç‰‡å­˜å‚¨ä¸º-jpg"><a href="#1-å°†æ— -alpha-é€šé“çš„-png-å›¾ç‰‡å­˜å‚¨ä¸º-jpg" class="headerlink" title="1. å°†æ—  alpha é€šé“çš„ png å›¾ç‰‡å­˜å‚¨ä¸º jpg"></a>1. å°†æ—  alpha é€šé“çš„ png å›¾ç‰‡å­˜å‚¨ä¸º jpg</h2><h2 id="2-é€‰ç”¨å‹ç¼©ç‡æ›´é«˜çš„å›¾ç‰‡æ ¼å¼"><a href="#2-é€‰ç”¨å‹ç¼©ç‡æ›´é«˜çš„å›¾ç‰‡æ ¼å¼" class="headerlink" title="2. é€‰ç”¨å‹ç¼©ç‡æ›´é«˜çš„å›¾ç‰‡æ ¼å¼"></a>2. é€‰ç”¨å‹ç¼©ç‡æ›´é«˜çš„å›¾ç‰‡æ ¼å¼</h2><h1 id="äº”-å…¶ä»–"><a href="#äº”-å…¶ä»–" class="headerlink" title="äº”. å…¶ä»–"></a>äº”. å…¶ä»–</h1><h2 id="1-åœ†å½¢å›¾ç‰‡åªä½¿ç”¨-1-4"><a href="#1-åœ†å½¢å›¾ç‰‡åªä½¿ç”¨-1-4" class="headerlink" title="1. åœ†å½¢å›¾ç‰‡åªä½¿ç”¨ 1/4"></a>1. åœ†å½¢å›¾ç‰‡åªä½¿ç”¨ 1/4</h2><p>ç„¶ååœ¨ç¨‹åºä¸­ç¿»è½¬3æ¬¡,å¾—åˆ°å…¶ä»–è§’åº¦çš„å›¾ç‰‡. ä¸€èˆ¬ä¼šç”¨åœ¨å›¾ç‰‡å°ºå¯¸ç‰¹åˆ«å¤§çš„åœºæ™¯. </p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1f3uvnfb31aj20hd09v74p.jpg" alt=""></p>
<p>å¦‚ä¸Šå›¾, æˆ‘ä»¬æ¸¸æˆä¸­ä¸€ä¸ªå…¨å±å¹•çš„é›·è¾¾å°±æ˜¯é€šè¿‡è¿™ä¸ªæ–¹æ¡ˆå‡å°‘å›¾ç‰‡ä½“ç§¯çš„.</p>
<h2 id="2-ç¼©å°å›¾ç‰‡"><a href="#2-ç¼©å°å›¾ç‰‡" class="headerlink" title="2. ç¼©å°å›¾ç‰‡"></a>2. ç¼©å°å›¾ç‰‡</h2><p>å°†å±•ç¤ºç²¾åº¦ä¸å¼ºçš„å›¾ç‰‡(æ¯”å¦‚: æ¸¸æˆèƒŒæ™¯ä¸Šçš„å°è£…é¥°, çˆ†ç‚¸çš„åºåˆ—å¸§)ç¼©å°, åœ¨ç¨‹åºä¸­æ”¾å¤§. </p>
<h2 id="3-ç‰¹æ®Šæ–¹æ¡ˆåˆ†ç¦»pngçš„é€æ˜é€šé“"><a href="#3-ç‰¹æ®Šæ–¹æ¡ˆåˆ†ç¦»pngçš„é€æ˜é€šé“" class="headerlink" title="3. ç‰¹æ®Šæ–¹æ¡ˆåˆ†ç¦»pngçš„é€æ˜é€šé“"></a>3. ç‰¹æ®Šæ–¹æ¡ˆåˆ†ç¦»pngçš„é€æ˜é€šé“</h2><p><a href="http://www.cocoachina.com/bbs/read.php?tid-201144.html" target="_blank" rel="noopener">ç”¨jpgå’Œé»‘ç™½è‰²pngä½œä¸ºé®ç½©å®ç°é€æ˜</a><br><a href="http://blog.csdn.net/dawn_moon/article/details/8631783" target="_blank" rel="noopener">ç”¨shaderä½¿å›¾ç‰‡èƒŒæ™¯é€æ˜</a><br><a href="http://www.cnblogs.com/elang/p/4104452.html" target="_blank" rel="noopener">cocos2dxä¸­ä½¿ç”¨JPGå›¾å’Œåªå¸¦Alphaçš„PNGå›¾åˆæˆæ¸²æŸ“</a></p>
<p>æˆ‘ä»¬ä¹‹å‰æ›¾ç»é‡‡å–è¿‡å…¶ä¸­çš„ä¸€ä¸ªæ–¹æ¡ˆ, å°†ä¸€å¼  png å›¾ç‰‡æ‹†åˆ†ä¸º jpg+alpha.png çš„å½¢å¼, æ•´ä½“çš„åŒ…ä½“å°äº†è¿‘ 25% , ä¸è¿‡ä¹Ÿå¸¦æ¥çš„å…¶ä»–çš„ä¸€äº›å‰¯ä½œç”¨.</p>
<p>å»ºè®®å¤§å®¶ä½¿ç”¨è¿™ç±»é»‘ç§‘æŠ€å‰ä¸€å®šè¦åšå¥½è°ƒç ”å’Œæµ‹è¯•ç”¨ä¾‹, è¯„ä¼°ä¸€ä¸‹å®é™…çš„æ”¶ç›Š.</p>
]]></content>
      
        
        <tags>
            
            <tag> æ¸¸æˆå¿ƒå¾— </tag>
            
            <tag> ä¼˜åŒ– </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-cocos2d-x EditBox å‡ ä¸ªå°æŠ€å·§]]></title>
      <url>http://blog.justbilt.com/2016/05/01/quickx-editbox-util/</url>
      <content type="html"><![CDATA[<p>æˆ‘ä»¬é¡¹ç›®ä¸­çš„è¾“å…¥æ¡†ä½¿ç”¨çš„éƒ½æ˜¯ EditBox , ä½†æ˜¯ EditBox è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜, è¿™é‡Œç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆ.</p>
<h1 id="ä¸€-å­—ä½“è¿‡å¤§"><a href="#ä¸€-å­—ä½“è¿‡å¤§" class="headerlink" title="ä¸€. å­—ä½“è¿‡å¤§"></a>ä¸€. å­—ä½“è¿‡å¤§</h1><p>ç”¨è¿‡ EditBox çš„åŒå­¦éƒ½çŸ¥é“è¿™æ ·ä¸€ä¸ªæƒ…å†µ, EditBox åœ¨åˆ›å»ºæ—¶æ˜¯æ— æ³•ä¼ å…¥å­—ä½“å¤§å°çš„, å­—ä½“å¤§å°é»˜è®¤å’Œ EditBox çš„ size ä¸€è‡´. å¦‚æœè¦ä¿®æ”¹å­—ä½“å¤§å°çš„è¯, å°±å¿…é¡»æœ‰ç¨‹åºçš„å‚ä¸, ååˆ†è®¨åŒ.</p>
<p>è€Œæˆ‘ä»¬èªæ˜çš„è®¾è®¡å¸ˆ @å¤§å‹‡åŒå­¦ åˆ™æƒ³åˆ°äº†ä¸€ä¸ªéå¸¸æ£’çš„åŠæ³•, ä½¿ç”¨ä¸€å¼ é€æ˜çš„9å›¾æ¥åˆ›å»º EditBox, åé¢å†æ”¾ç½®ä¸€ä¸ªçœŸå®æ•ˆæœçš„ Scale9Sprite , è¿™æ ·å°±å¯ä»¥å®ç°å­—ä½“æ¯”è¾¹æ¡†å°å¾ˆå¤šçš„è¾“å…¥æ¡†äº†.</p>
<h1 id="äºŒ-å¤šè¡Œè¾“å…¥"><a href="#äºŒ-å¤šè¡Œè¾“å…¥" class="headerlink" title="äºŒ. å¤šè¡Œè¾“å…¥"></a>äºŒ. å¤šè¡Œè¾“å…¥</h1><p>å¤šè¡Œè¾“å…¥æ˜¯ä¸€ä¸ªå¾ˆæœ‰å¿…è¦çš„äº‹æƒ…, æˆ‘ä»¬åœ¨å†™é‚®ä»¶, å†›å›¢å…¬å‘Šç­‰ç•Œé¢éƒ½æœ‰ç±»ä¼¼çš„éœ€æ±‚, ç„¶è€Œ EditBox å¹¶ä¸èƒ½å¾ˆå¥½çš„æ”¯æŒå¤šè¡Œè¾“å…¥, ä¸åŒå¹³å°é—´ä¹Ÿå­˜åœ¨å·®å¼‚, ä¸€ç›´å¾ˆå¤´ç–¼è¿™ä»¶äº‹æƒ…. </p>
<p>ç„¶è€Œå›¢é˜Ÿä¸­å¦å¤–ä¸€ä½æˆå‘˜ @å°é½åŒå­¦ å´ç”¨å¦ä¸€ç§ååˆ†è„‘æ´çš„æ–¹æ¡ˆè§£å†³äº†è¿™ä¸ªé—®é¢˜, ç€å®è®©äººä½©æœ. ä»–çš„æ€è·¯æ˜¯è¿™æ ·å­çš„:</p>
<blockquote>
<p>åˆ›å»ºä¸€ä¸ªå’Œéœ€æ±‚å¤§å°ä¸€è‡´çš„ EditBox, åŒæ—¶åˆ›å»ºä¸€ä¸ª LalbelTTF , å°† dimensions å±æ€§è®¾ç½®ä¸ºéœ€æ±‚å¤§å°. å¤„ç† EditBox ä½¿ä¹‹çœ‹ä¸è§, ä½†åˆèƒ½æ­£å¸¸è¾“å…¥, åŒæ—¶ç›‘å¬è¾“å…¥æ–‡å­—å˜åŒ–äº‹ä»¶, åœ¨äº‹ä»¶ä¸­ä¿®æ”¹ LalbelTTF çš„æ–‡å­—.</p>
</blockquote>
<p>æ ¸å¿ƒå°±æ˜¯è®© EditBox æ‰¿æ‹…åªæ–‡å­—è¾“å…¥çš„åŠŸèƒ½, è€Œè®©å¦å¤–ä¸€ä¸ª LalbelTTF æ¥æ‰¿æ‹…æ–‡å­—æ˜¾ç¤ºçš„åŠŸèƒ½. å®ç°çš„ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">EditBoxUtil.multiline</span><span class="params">(_editbox, _label, _params)</span></span></span><br><span class="line">    _params = _params <span class="keyword">or</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- æœ¬æ¥è¿™ä¸ªåº”è¯¥åªæ˜¯Androidä¸Šçš„è®¾ç½®, ä½†æ˜¯ä¸ºäº†é¿å…å¹³å°çš„å·®å¼‚æ€§, å› æ­¤ç»Ÿä¸€å¤„ç†</span></span><br><span class="line">    _editbox:setCascadeOpacityEnabled(<span class="literal">true</span>)</span><br><span class="line">    _editbox:setOpacity(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> device.platform == <span class="string">"android"</span> <span class="keyword">then</span></span><br><span class="line">        <span class="comment">-- é¿å…æ–‡å­—è¿‡å¤§å¯¼è‡´Androidç³»ç»Ÿå´©æºƒ</span></span><br><span class="line">        _editbox:setFont(<span class="string">"Helvetica"</span>,<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">elseif</span> device.platform == <span class="string">"ios"</span> <span class="keyword">or</span> device.platform == <span class="string">"mac"</span> <span class="keyword">then</span></span><br><span class="line">        _editbox:setFont(<span class="string">"Helvetica"</span>,<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    _editbox:registerScriptEditBoxHandler(<span class="function"><span class="keyword">function</span><span class="params">(event)</span></span>  </span><br><span class="line">        <span class="keyword">if</span> event == <span class="string">"began"</span> <span class="keyword">then</span>  </span><br><span class="line">            _editbox:setText(_label:getString())</span><br><span class="line">        <span class="keyword">elseif</span> event == <span class="string">"changed"</span> <span class="keyword">then</span></span><br><span class="line">            _label:setString(_editbox:getText())</span><br><span class="line">        <span class="keyword">elseif</span> event == <span class="string">"return"</span> <span class="keyword">then</span></span><br><span class="line">            _label:setString(_editbox:getText())</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">if</span> _params.listener <span class="keyword">then</span></span><br><span class="line">            _params.listener(event, _editbox)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç å’Œç®€å•, ä½†èƒŒåæ‰€é‡åˆ°çš„å‘å´ä¸å°‘, ä¸”å¬æˆ‘æ¥é“ä¸€é“:</p>
<h2 id="1-ä¸ºä»€ä¹ˆè¦è°ƒç”¨-setFont"><a href="#1-ä¸ºä»€ä¹ˆè¦è°ƒç”¨-setFont" class="headerlink" title="1. ä¸ºä»€ä¹ˆè¦è°ƒç”¨ setFont"></a>1. ä¸ºä»€ä¹ˆè¦è°ƒç”¨ setFont</h2><p>å¦‚æœåªæ˜¯æƒ³è®¾ç½®å­—ä½“å¤§å°, EditBox æ˜æ˜æœ‰æä¾› <code>setFontSize</code> æ¥å£, ä¸ºä»€ä¹ˆè¦è°ƒç”¨ <code>setFont</code> ? è¯·çœ‹ setFontSize å®ç°:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> EditBox::setFontSize(<span class="keyword">int</span> fontSize)</span><br><span class="line">&#123;</span><br><span class="line">    _fontSize = fontSize;</span><br><span class="line">    <span class="keyword">if</span> (_editBoxImpl != <span class="literal">nullptr</span> &amp;&amp; _fontName.length() &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        _editBoxImpl-&gt;setFont(_fontName.c_str(), _fontSize);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ° setFontSize åœ¨æ²¡æœ‰è®¾ç½®å­—ä½“åç§° <code>_fontName</code> æ—¶æ˜¯æ²¡æœ‰ä½œç”¨çš„.</p>
<h2 id="2-ä¸ºä»€ä¹ˆè¦åˆ†å¹³å°æ¥å®ç°"><a href="#2-ä¸ºä»€ä¹ˆè¦åˆ†å¹³å°æ¥å®ç°" class="headerlink" title="2. ä¸ºä»€ä¹ˆè¦åˆ†å¹³å°æ¥å®ç°"></a>2. ä¸ºä»€ä¹ˆè¦åˆ†å¹³å°æ¥å®ç°</h2><p>åœ¨æ¥å…¥ android å‰,æˆ‘ä»¬æ˜¯æ²¡æœ‰åˆ†å¹³å°å®ç°çš„, åªæ˜¯ <code>setFont(&quot;Helvetica&quot;,0)</code> , åœ¨ iOS ä¸Šæ²¡æœ‰ä»»ä½•é—®é¢˜, ä½†æ˜¯åœ¨ Android ä¸Šä¼š catch åˆ° <code>divide by zero</code> å´©æºƒ, ä¼°è®¡æ˜¯æŸä¸€ä¸ªåœ°æ–¹ç”¨ fontsize åšè¢«é™¤æ•°äº†å§ , äºæ˜¯ Android ä¸Šæ”¹ä¸ºè®¾ç½®é€æ˜åº¦.</p>
<h2 id="3-Android-è¾“å…¥è¿‡å¤šæ–‡å­—åä¼šå´©æºƒ-OOM"><a href="#3-Android-è¾“å…¥è¿‡å¤šæ–‡å­—åä¼šå´©æºƒ-OOM" class="headerlink" title="3. Android è¾“å…¥è¿‡å¤šæ–‡å­—åä¼šå´©æºƒ(OOM)"></a>3. Android è¾“å…¥è¿‡å¤šæ–‡å­—åä¼šå´©æºƒ(OOM)</h2><p>å´©æºƒåœ¨ <code>Cocos2dxBitmap.java</code> çš„ <code>getPixels</code> å‡½æ•°ä¸­:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] getPixels(<span class="keyword">final</span> Bitmap bitmap) &#123;</span><br><span class="line">    <span class="keyword">if</span> (bitmap != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">byte</span>[] pixels = <span class="keyword">new</span> <span class="keyword">byte</span>[bitmap.getWidth() * bitmap.getHeight() * <span class="number">4</span>];</span><br><span class="line">        <span class="keyword">final</span> ByteBuffer buf = ByteBuffer.wrap(pixels);</span><br><span class="line">        buf.order(ByteOrder.nativeOrder());</span><br><span class="line">        bitmap.copyPixelsToBuffer(buf);</span><br><span class="line">        <span class="keyword">return</span> pixels;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ <code>new byte</code> è¿™é‡Œè§¦å‘äº†æŠ¥é”™çš„åŸå› æ˜¯ <code>Out Of Memory</code> å¼‚å¸¸ ! è°ƒè¯•å‘ç° <code>bitmap</code> çš„å®½é«˜æƒŠäººçš„è¾¾åˆ°äº† <code>12000x600</code> ! </p>
<p>ç»è¿‡ @bin çš„æé†’, å‘ç°è¿™é‡Œå¯èƒ½æ˜¯å› ä¸º EditBox å­—ä½“è¿‡å¤§çš„åŸå› , å› ä¸º EditBox ä¼šé»˜è®¤è®¾ç½®å­—ä½“å­—ä½“å¤§å°å’Œ Scale9Sprite çš„ PreferredSize ä¸€ç›´, å°±å¯èƒ½è®¾ç½®å­—ä½“å¤§å°ä¸º 100+ , æ–‡å­—ä¸€å¤šå°ºå¯¸å½“ç„¶å°±ä¸Šå»äº†! æ‰€ä»¥ä¾¿æœ‰äº†è¿™ä¹ˆä¸€è¡Œ:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> device.platform == <span class="string">"android"</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- é¿å…æ–‡å­—è¿‡å¤§å¯¼è‡´Androidç³»ç»Ÿå´©æºƒ</span></span><br><span class="line">    _editbox:setFont(<span class="string">"Helvetica"</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h1 id="äºŒ-å±è”½-Emoji-è¾“å…¥"><a href="#äºŒ-å±è”½-Emoji-è¾“å…¥" class="headerlink" title="äºŒ. å±è”½ Emoji è¾“å…¥"></a>äºŒ. å±è”½ Emoji è¾“å…¥</h1><p>æŒ‰ç…§è¦æ±‚æ¸¸æˆä¸­ç©å®¶å¯ä»¥è¾“å…¥æ–‡å­—çš„åœ°æ–¹éƒ½æ˜¯ä¸èƒ½å¤Ÿè¾“å…¥ Emoji è¡¨æƒ…çš„, åŸå› æœ‰ä¸¤ç‚¹:</p>
<ol>
<li>ä¸åŒç³»ç»Ÿé—´è¡¨ç°å­˜åœ¨å·®å¼‚</li>
<li>EditBox Android ç‰ˆè¾“å…¥ç¡®è®¤åä¼šå˜ä¹±ç </li>
<li>åå°æœç´¢ç©å®¶æ—¶ä¸å¤ªæ–¹ä¾¿</li>
</ol>
<p>å› æ­¤, æˆ‘ä»¬éœ€è¦å±è”½ Emoji è¡¨æƒ…çš„è¾“å…¥, æˆ‘ä»¬æœ‰ä¸¤ç§åšæ³•:</p>
<ol>
<li>æ— æ³•è¾“å…¥, å¼¹å‡ºé”®ç›˜ç‚¹å‡»è¡¨æƒ…æ²¡æœ‰ååº”</li>
<li>è¾“å…¥å®Œæˆå, æ¸¸æˆå†…ç‚¹å‡»æäº¤æ—¶æç¤ºéæ³•</li>
</ol>
<p>æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯ç¬¬äºŒç§æ–¹æ¡ˆ, è¿™ä¸ªæ— æ³•é€šè¿‡çº¯ lua ä»£ç å®ç°, éœ€è¦åˆ†å¹³å°å»åš.</p>
<h2 id="1-iOS"><a href="#1-iOS" class="headerlink" title="1. iOS"></a>1. iOS</h2><p>ä¿®æ”¹ <code>UIEditBoxImpl-ios.mm</code> æ–‡ä»¶çš„ <code>shouldChangeCharactersInRange</code> å‡½æ•°:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)textField:(<span class="built_in">UITextField</span> *) textField shouldChangeCharactersInRange:(<span class="built_in">NSRange</span>)range replacementString:(<span class="built_in">NSString</span> *)string</span><br><span class="line">&#123;</span><br><span class="line">    __block <span class="built_in">BOOL</span> returnValue = <span class="literal">NO</span>;</span><br><span class="line">    [string enumerateSubstringsInRange:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, [string length]) options:<span class="built_in">NSStringEnumerationByComposedCharacterSequences</span> usingBlock:</span><br><span class="line">     ^(<span class="built_in">NSString</span> *substring, <span class="built_in">NSRange</span> substringRange, <span class="built_in">NSRange</span> enclosingRange, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line">         </span><br><span class="line">         <span class="keyword">if</span> ([substring rangeOfCharacterFromSet: [<span class="built_in">NSCharacterSet</span> characterSetWithRange:<span class="built_in">NSMakeRange</span>(<span class="number">0xFE00</span>, <span class="number">16</span>)]].location != <span class="built_in">NSNotFound</span>) &#123;</span><br><span class="line">             returnValue = <span class="literal">YES</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         </span><br><span class="line">         <span class="keyword">const</span> <span class="keyword">unichar</span> high = [substring characterAtIndex: <span class="number">0</span>];</span><br><span class="line">         </span><br><span class="line">         <span class="comment">// Surrogate pair (U+1D000-1F9FF)</span></span><br><span class="line">         <span class="keyword">if</span> (<span class="number">0xD800</span> &lt;= high &amp;&amp; high &lt;= <span class="number">0xDBFF</span>) &#123;</span><br><span class="line">             <span class="keyword">const</span> <span class="keyword">unichar</span> low = [substring characterAtIndex: <span class="number">1</span>];</span><br><span class="line">             <span class="keyword">const</span> <span class="keyword">int</span> codepoint = ((high - <span class="number">0xD800</span>) * <span class="number">0x400</span>) + (low - <span class="number">0xDC00</span>) + <span class="number">0x10000</span>;</span><br><span class="line">             </span><br><span class="line">             returnValue = (<span class="number">0x1D000</span> &lt;= codepoint &amp;&amp; codepoint &lt;= <span class="number">0x1F9FF</span>);</span><br><span class="line">             </span><br><span class="line">             <span class="comment">// Not surrogate pair (U+2100-27BF)</span></span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             returnValue = (<span class="number">0x2100</span> &lt;= high &amp;&amp; high &lt;= <span class="number">0x27BF</span>);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (returnValue) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (getEditBoxImplIOS()-&gt;getMaxLength() &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSUInteger</span> oldLength = [textField.text length];</span><br><span class="line">    <span class="built_in">NSUInteger</span> replacementLength = [string length];</span><br><span class="line">    <span class="built_in">NSUInteger</span> rangeLength = range.length;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSUInteger</span> newLength = oldLength - rangeLength + replacementLength;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> newLength &lt;= getEditBoxImplIOS()-&gt;getMaxLength();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç æ˜¯æˆ‘ä» <a href="https://github.com/woxtu/NSString-RemoveEmoji" target="_blank" rel="noopener">https://github.com/woxtu/NSString-RemoveEmoji</a> ä¸­æå–å‡ºæ¥çš„.</p>
<h2 id="2-Android"><a href="#2-Android" class="headerlink" title="2. Android"></a>2. Android</h2><p>Android ä¸Šçš„å®ç°ä¹Ÿå¾ˆç®€å•, ä¸»è¦æ˜¯éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>InputFilter</code> ç”¨æ¥è¿‡æ»¤ Emoji è¡¨æƒ…. éœ€è¦ä¿®æ”¹ <code>Cocos2dxEditBoxDialog.java</code> æ–‡ä»¶æˆå‘˜å˜é‡æ·»åŠ :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> InputFilter EMOJI_FILTER = <span class="keyword">new</span> InputFilter() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CharSequence <span class="title">filter</span><span class="params">(CharSequence source, <span class="keyword">int</span> start, <span class="keyword">int</span> end, Spanned dest, <span class="keyword">int</span> dstart, <span class="keyword">int</span> dend)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = start; index &lt; end; index++) &#123;</span><br><span class="line">            <span class="keyword">int</span> type = Character.getType(source.charAt(index));</span><br><span class="line">            <span class="keyword">if</span> (type == Character.SURROGATE || type == Character.OTHER_SYMBOL || type == Character.PRIVATE_USE) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ <code>onCreate</code> å‡½æ•° <code>setFilters</code> å¤„é€»è¾‘:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.mMaxLength &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.mInputEditText.setFilters(<span class="keyword">new</span> InputFilter[] &#123; <span class="keyword">new</span> InputFilter.LengthFilter(<span class="keyword">this</span>.mMaxLength), EMOJI_FILTER &#125;);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.mInputEditText.setFilters(<span class="keyword">new</span> InputFilter[] &#123; EMOJI_FILTER &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>å…³äº Emoji çš„ç›¸å…³ä¿®æ”¹éƒ½å·²ç»æ¨é€åˆ°äº† github ä¸Š, <a href="https://github.com/mafiagame/quick-cocos2d-x/commit/8a7c27aedb919e0ae5d178d688b704e620c2c1bb" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a>æŸ¥çœ‹.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> EditBox </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æœ€è¿‘é‡åˆ°çš„å‡ ä¸ª Quick-cocos2d-x  çœŸæœºå´©æºƒ]]></title>
      <url>http://blog.justbilt.com/2016/04/10/quickx-crash-on-phone/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘è¿™æ®µæ—¶é—´é‡åˆ°äº†ä¸¤æ¬¡æ¯”è¾ƒä¸¥é‡çš„çœŸæœºå´©æºƒé—®é¢˜, éƒ½æ˜¯ä¹‹å‰æ‰€æ²¡æœ‰é‡åˆ°è¿‡çš„, ç‰¹æ­¤è®°å½•ä¸€ä¸‹, å¸Œæœ›èƒ½å¸®åŠ©åˆ°é‡åˆ°ç±»ä¼¼é—®é¢˜çš„æœ‹å‹.</p>
<p>ä¹‹æ‰€ä»¥å¼ºè°ƒçœŸæœº, æ˜¯å› ä¸ºè¿™äº›é—®é¢˜åœ¨ player ä¸Šæˆ–è€… debug ç‰ˆæ— æ³•å‡ºç°, åªæœ‰çœŸæ­£è¿è¡Œåœ¨æ‰‹æœºä¸Šæ‰å¯èƒ½é‡åˆ°, å› ä¸ºæœ€åæˆ‘ä»¬ Archive å‡ºæ¥çš„åŒ…éƒ½æ˜¯ release ç‰ˆçš„.</p>
<a id="more"></a>
<h1 id="1-removeFromParent"><a href="#1-removeFromParent" class="headerlink" title="1. removeFromParent"></a>1. removeFromParent</h1><p>removeFromParent() å¤šæ¬¡ä¼šå¯¼è‡´å´©æºƒå¹¶é—ªé€€, å¾ˆéš¾ä»¥æƒ³è±¡æ˜¯å§, åœ¨æˆ‘çš„è®°å¿†ä¸­åº”è¯¥åªæ˜¯æŠ›å‡ºä¸€ä¸ª lua é”™è¯¯. äº‹å®ä¸Š, debug ç‰ˆç¡®å®å¦‚æ­¤, è®©æˆ‘ä»¬çœ‹ä¸€æ®µæµ‹è¯•ä»£ç :</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self._btnLogin:removeFromParent()</span><br><span class="line">self._btnLogin:removeFromParent()</span><br></pre></td></tr></table></figure>
<p>player ä¸Šä¼šæ”¶åˆ°å¦‚ä¸‹çš„ lua é”™è¯¯æç¤º:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LUA ERROR: [<span class="built_in">string</span> <span class="string">"xxx.lua"</span>]:<span class="number">349</span>: invalid <span class="string">'cobj'</span> <span class="keyword">in</span> <span class="function"><span class="keyword">function</span> '<span class="title">lua_cocos2dx_Node_removeFromParentAndCleanup</span>'</span></span><br></pre></td></tr></table></figure>
<p>è®©æˆ‘ä»¬çœ‹ä¸‹æŠ›å‡ºè¿™ä¸ªé”™è¯¯çš„åœ°æ–¹ <code>lua_cocos2dx_Node_removeFromParentAndCleanup</code> :</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> COCOS2D_DEBUG &gt;= 1</span></span><br><span class="line">    <span class="keyword">if</span> (!cobj)</span><br><span class="line">    &#123;</span><br><span class="line">        tolua_error(tolua_S,<span class="string">"invalid 'cobj' in function 'lua_cocos2dx_Node_removeFromParentAndCleanup'"</span>, <span class="literal">nullptr</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€æ¬¡è°ƒç”¨å®Œ removeFromParent(), <code>_btnLogin</code> çš„ c++ å¯¹è±¡å°±å·²ç»è¢«é‡Šæ”¾äº†, å†æ¬¡è°ƒç”¨ <code>cobj</code> å°±æ˜¯ <code>NULL</code> äº†, æ‰€ä»¥å°±ä¼šè¿›å…¥åˆ°è¿™ä¸ªåˆ¤æ–­ä¸­, ä»è€ŒæŠ›å‡ºé”™è¯¯.</p>
<p>ä½†æ˜¯è¿™æ®µä»£ç å´æ˜¯è¿è¡Œåœ¨ COCOS2D_DEBUG å®ä¸­çš„, å°±æ„å‘³ç€è¿™æ®µä»£ç åœ¨ release ç‰ˆæ˜¯ä¸ç”Ÿæ•ˆçš„, æ‰€ä»¥å°±ä¼šæ¥ç€å¾€ä¸‹æ‰§è¡Œ, ä»è€Œå¯¼è‡´å´©æºƒ.</p>
<p>è™½ç„¶æˆ‘ä»¬ä¸å¤ªå¯èƒ½ç›´æ¥ä¼šç”¨ä¸€ä¸ªå¯¹è±¡è°ƒç”¨ removeFromParent å¤šæ¬¡, ä½†æ˜¯åŒ…å« removeFromParent çš„å‡½æ•°è¢«è°ƒç”¨å¤šæ¬¡å´æ˜¯å¾ˆæœ‰å¯èƒ½çš„, æ‰€ä»¥æˆ‘ä»¬ä¸€å®šè¦å…»æˆä¸€ä¸ªå¥½çš„ä¹ æƒ¯, åœ¨ <code>removeFromParent</code> ä¹‹å‰è¦åšåˆ¤ç©ºæ£€æµ‹, ä¹‹åè¦ç«‹åˆ»ç½®ç©º:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> xxx <span class="keyword">then</span></span><br><span class="line">    xxx:removeFromParent()</span><br><span class="line">    xxx = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h1 id="2-Signal-13-was-raised-SIGPIPE"><a href="#2-Signal-13-was-raised-SIGPIPE" class="headerlink" title="2. Signal 13 was raised. SIGPIPE"></a>2. Signal 13 was raised. SIGPIPE</h1><p>å½“æ¸¸æˆåœ¨ iOS ä¸Šä¸åˆ‡æ¢åˆ°åå°ç›´æ¥é”å±ä¸€æ®µæ—¶é—´, ç½‘ç»œèµ„æºå°±ä¼šè¢«ç³»ç»Ÿå›æ”¶æ‰, è¿™æ—¶å€™è§£é”å±å¹•, æ¸¸æˆå¹¶ä¸çŸ¥é“ tcp è¿æ¥å·²ç»æ–­å¼€, å‘é€æ¶ˆæ¯å°±ä¼šè§¦å‘è¿™ä¸ªå´©æºƒ.</p>
<p>è¡¨ç°å‡ºæ¥çš„æ•ˆæœæ˜¯æ‰‹æœºè§£é”ä¸äº†, å¾—ç­‰å¥½ä¹…æ‰å¯ä»¥.</p>
<p>å…³äºå…·ä½“æŠ€æœ¯è§£é‡Š, å¤§å®¶å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« , <a href="http://blog.csdn.net/jia12216/article/details/50844013" target="_blank" rel="noopener">Signal 13 was raisedï¼ˆSIGPIPEç®¡é“ç ´è£‚ï¼‰</a>, æˆ‘è¿™é‡Œé‡ç‚¹è®²è§£å†³æ–¹æ¡ˆ.</p>
<p>ç½‘ä¸Šè¯´æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆ(<a href="http://www.jianshu.com/p/1957d2b18d2c" target="_blank" rel="noopener">å¦‚ä½•åœ¨ iOS ä¸Šé¿å… SIGPIPE ä¿¡å·å¯¼è‡´çš„ crash</a>):</p>
<h2 id="1-åœ¨å…¨å±€èŒƒå›´å†…å¿½ç•¥è¿™ä¸ªä¿¡å·"><a href="#1-åœ¨å…¨å±€èŒƒå›´å†…å¿½ç•¥è¿™ä¸ªä¿¡å·" class="headerlink" title="1. åœ¨å…¨å±€èŒƒå›´å†…å¿½ç•¥è¿™ä¸ªä¿¡å·"></a>1. åœ¨å…¨å±€èŒƒå›´å†…å¿½ç•¥è¿™ä¸ªä¿¡å·</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">signal(SIGPIPE, SIG_IGN);</span><br></pre></td></tr></table></figure>
<h2 id="2-åœ¨ä¸€å¼€å§‹çš„æ—¶å€™è®¾ç½®-socket-ä¸è¦å‘é€-SIGPIPE-ä¿¡å·"><a href="#2-åœ¨ä¸€å¼€å§‹çš„æ—¶å€™è®¾ç½®-socket-ä¸è¦å‘é€-SIGPIPE-ä¿¡å·" class="headerlink" title="2. åœ¨ä¸€å¼€å§‹çš„æ—¶å€™è®¾ç½® socket ä¸è¦å‘é€ SIGPIPE ä¿¡å·"></a>2. åœ¨ä¸€å¼€å§‹çš„æ—¶å€™è®¾ç½® socket ä¸è¦å‘é€ SIGPIPE ä¿¡å·</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> value = <span class="number">1</span>;</span><br><span class="line">setsockopt(sock, SOL_SOCKET, SO_NOSIGPIPE, &amp;value, <span class="keyword">sizeof</span>(value));</span><br></pre></td></tr></table></figure>
<p>å°± 1 æ¥è¯´, cocos æ—©å·²è®¾ç½®äº†å¿½ç•¥, åœ¨ <code>socket_open</code> å‡½æ•°ä¸­, å¹¶ä¸”è¿™çš„æ‰§è¡Œåˆ°äº†. æˆ‘åœ¨ <code>tcp.c</code> ä¸­çš„ <code>tcp_create</code> ä¸­åŠ å…¥ 2 æ–¹æ¡ˆ, ç¡®å®è§£å†³äº†è¿™ä¸ªé—®é¢˜. ä½†æ˜¯ <code>SO_NOSIGPIPE</code> å¹¶ä¸æ˜¯è·¨å¹³å°çš„, æˆ‘å·æ‡’ç›´æ¥ç”¨å®åˆ¤æ–­äº†ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">tcp_create</span><span class="params">(lua_State *L, <span class="keyword">int</span> family)</span> </span>&#123;</span><br><span class="line">    t_socket sock;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *err = inet_trycreate(&amp;sock, family, SOCK_STREAM);</span><br><span class="line">    <span class="comment">/* try to allocate a system socket */</span></span><br><span class="line">    <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">        ...</span><br><span class="line">        </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> CC_TARGET_OS_IPHONE</span></span><br><span class="line">        <span class="keyword">int</span> val = <span class="number">1</span>;</span><br><span class="line">        setsockopt(sock, SOL_SOCKET, SO_NOSIGPIPE, (<span class="keyword">void</span> *)&amp;val, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">        ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> crash </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æœ€è¿‘æ iOS ç‰ˆé‡åˆ°çš„ä¸€äº›é—®é¢˜å’ŒæŠ€å·§]]></title>
      <url>http://blog.justbilt.com/2016/04/04/ios-dev-tips/</url>
      <content type="html"><![CDATA[<h1 id="ä¸€-ç¼–è¯‘è¿è¡Œ"><a href="#ä¸€-ç¼–è¯‘è¿è¡Œ" class="headerlink" title="ä¸€. ç¼–è¯‘è¿è¡Œ"></a>ä¸€. ç¼–è¯‘è¿è¡Œ</h1><h2 id="1-è¿è¡Œæ—¶æç¤º-identity-æ— æ•ˆ"><a href="#1-è¿è¡Œæ—¶æç¤º-identity-æ— æ•ˆ" class="headerlink" title="1. è¿è¡Œæ—¶æç¤º identity æ— æ•ˆ"></a>1. è¿è¡Œæ—¶æç¤º identity æ— æ•ˆ</h2><p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1f2ker4f0hhj20nc08eabu.jpg" alt=""></p>
<blockquote>
<p>The identity used to sign the executable is no longer valid.<br>Please verify that your deviceâ€™s clock is properly set, and that your signing certificate is not expired. (0xE8008018).</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<ol>
<li>æ‰“å¼€ Preferences &gt; Accounts</li>
<li>é€‰ä¸­é¡¹ç›®å¯¹åº”çš„ Apple ID &gt; ç‚¹å‡»å³ä¸‹è§’ <code>View Details...</code></li>
<li>ç‚¹å‡»å¼¹å‡ºæ¡†å·¦ä¸‹è§’çš„ <code>Download All</code> &gt; ç­‰å¾…å®Œæˆåç‚¹å‡» <code>Done</code> å…³é—­</li>
<li>å†æ¬¡è¿è¡Œé¡¹ç›®, ç­‰å¾…å¼¹å‡ºæ¡†, ç‚¹å‡» <code>reset</code>.</li>
</ol>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23gw1f2khakkr86j20ja0a0go3.jpg" alt=""></p>
<h2 id="2-iPhone5-ä¸Šè·å¾—çš„è®¾å¤‡å°ºå¯¸ä¸º-960x640"><a href="#2-iPhone5-ä¸Šè·å¾—çš„è®¾å¤‡å°ºå¯¸ä¸º-960x640" class="headerlink" title="2. iPhone5 ä¸Šè·å¾—çš„è®¾å¤‡å°ºå¯¸ä¸º 960x640"></a>2. iPhone5 ä¸Šè·å¾—çš„è®¾å¤‡å°ºå¯¸ä¸º 960x640</h2><p>è¡¨ç°å‡ºæ¥æ˜¯ç«–å±æ¸¸æˆä¸Šçº¿æœ‰é»‘è¾¹, è·Ÿè¸ªå‘ç°è·å¾—çš„è®¾å¤‡å°ºå¯¸ä¸º 960x640, è€Œé 1136x640.</p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<p>æ·»åŠ ä¸€å¼ å°ºå¯¸ä¸º <code>1136x640</code> åä¸º <code>Default-568h@2x.png</code> çš„å¯åŠ¨å›¾å³å¯.</p>
<p>å‚è€ƒèµ„æ–™:<br><a href="http://discuss.cocos2d-x.org/t/getframesize-get-wrong-screen-size/7657" target="_blank" rel="noopener">http://discuss.cocos2d-x.org/t/getframesize-get-wrong-screen-size/7657</a></p>
<h2 id="3-XCode-issue-é¡µé¢åªæ˜¾ç¤ºé”™è¯¯-ä¸æ˜¾ç¤ºè­¦å‘Š"><a href="#3-XCode-issue-é¡µé¢åªæ˜¾ç¤ºé”™è¯¯-ä¸æ˜¾ç¤ºè­¦å‘Š" class="headerlink" title="3. XCode issue é¡µé¢åªæ˜¾ç¤ºé”™è¯¯, ä¸æ˜¾ç¤ºè­¦å‘Š"></a>3. XCode issue é¡µé¢åªæ˜¾ç¤ºé”™è¯¯, ä¸æ˜¾ç¤ºè­¦å‘Š</h2><p>cocos2d-x åœ¨ XCode ä¸­ç¼–è¯‘ warning å¤ªå¤š, å‡ºé”™å error ä¼šè¢«æ·¹æ²¡åœ¨ä¸€å¤§å †çš„è­¦å‘Šä¸­, å¾—æ‹–åŠ¨åŠå¤©æ‰èƒ½æ‰¾å¾—åˆ°.</p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1f2kib70c4qj207500mt8h.jpg" alt=""></p>
<p>åœ¨é¡µé¢æœ€ä¸‹æ–¹æœ‰ä¸€ä¸ªæ„Ÿå¹å·å‹æŒ‰é’®, ç‚¹å‡»é€‰ä¸­å³å¯.</p>
<h1 id="äºŒ-ä¸Šä¼ åº”ç”¨"><a href="#äºŒ-ä¸Šä¼ åº”ç”¨" class="headerlink" title="äºŒ. ä¸Šä¼ åº”ç”¨"></a>äºŒ. ä¸Šä¼ åº”ç”¨</h1><h2 id="1-å¤šä»»åŠ¡æ”¯æŒ"><a href="#1-å¤šä»»åŠ¡æ”¯æŒ" class="headerlink" title="1. å¤šä»»åŠ¡æ”¯æŒ"></a>1. å¤šä»»åŠ¡æ”¯æŒ</h2><blockquote>
<p>XCode 7 error: â€œA launch storyboard or xib must be provided unless the app requires full screenâ€</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<p>æˆ‘ä»¬å‹¾ä¸Šå…¨å±å³å¯:<br><img src="http://ww1.sinaimg.cn/large/7f870d23gw1f2khkqmob7j20b809it9f.jpg" alt=""></p>
<hr>
<p>ç›®å‰å°±è¿™äº›, åé¢ä¼šæŒç»­æ›´æ–° !</p>
]]></content>
      
        
        <tags>
            
            <tag> iOS </tag>
            
            <tag> iOS-Dev-Tips </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[è®°ä¸€æ¬¡ Quick-cocos2d-x å†…å­˜æ³„éœ²æ’æŸ¥]]></title>
      <url>http://blog.justbilt.com/2016/03/19/quickx-memery-leak/</url>
      <content type="html"><![CDATA[<p>è¿™å‘¨ @bin å‘Šè¯‰æˆ‘é¡¹ç›®æœ‰æ¯”è¾ƒä¸¥é‡çš„å†…å­˜æ³„éœ², ä»»æ„ä¸€ä¸ªç•Œé¢ä¸åœçš„æ‰“å¼€å…³é—­, å†…å­˜å ç”¨ä¼šä¸€ç›´å¾€ä¸Šæ¶¨, ç›´åˆ°è¢«ç³»ç»Ÿ kill æ‰.</p>
<h1 id="ä¸€-ç¡®å®šé—®é¢˜"><a href="#ä¸€-ç¡®å®šé—®é¢˜" class="headerlink" title="ä¸€. ç¡®å®šé—®é¢˜"></a>ä¸€. ç¡®å®šé—®é¢˜</h1><p>æ”¶åˆ°é—®é¢˜å, æˆ‘ç®€å•å†™äº†ä¸€æ®µæµ‹è¯•ä»£ç , åŠ è½½/ç§»é™¤ç•Œé¢ 100 æ¬¡, å¯¹æ¯”å†…å­˜å˜åŒ–:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> index = <span class="number">0</span></span><br><span class="line"><span class="keyword">local</span> handler = <span class="literal">nil</span></span><br><span class="line">handler = scheduler.scheduleGlobal(<span class="function"><span class="keyword">function</span><span class="params">( ... )</span></span></span><br><span class="line">    <span class="comment">-- åŠ è½½ç•Œé¢</span></span><br><span class="line">    app.sceneManager:pushLayer(<span class="built_in">require</span>(<span class="string">'app.scenes.PageShop'</span>).new())</span><br><span class="line">    self:performWithDelay(<span class="function"><span class="keyword">function</span><span class="params">( ... )</span></span></span><br><span class="line">        <span class="comment">-- ç§»é™¤ç•Œé¢</span></span><br><span class="line">        app.sceneManager:popLayer()</span><br><span class="line">        index = index + <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> index &gt;= <span class="number">100</span> <span class="keyword">then</span></span><br><span class="line">            scheduler.unscheduleGlobal(handler)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span>, <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">end</span>, <span class="number">0.5</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†æ–¹ä¾¿, æˆ‘æ²¡æœ‰è¿›è¡ŒçœŸæœºæµ‹è¯•, è€Œæ˜¯ä½¿ç”¨ xcode å¯åŠ¨ player æ¥è¿›è¡Œæµ‹è¯•, åœ¨ Xcode çš„ <code>Debug Navigator/Memory Report</code> çª—å£æŸ¥çœ‹ç»“æœ.</p>
<p><img src="http://ww3.sinaimg.cn/large/7f870d23gw1f23kr8dricj20rh0fstab.jpg" alt=""></p>
<p>åœ¨æµ‹è¯•å‰çš„å¹³ç¨³å†…å­˜ä¸º 194M , æµ‹è¯•åæƒŠäººçš„è¾¾åˆ°äº† 258M, ååˆ†ä¸¥é‡çš„å†…å­˜æ³„éœ²äº†!</p>
<h1 id="äºŒ-åˆæ­¥è§£å†³é—®é¢˜"><a href="#äºŒ-åˆæ­¥è§£å†³é—®é¢˜" class="headerlink" title="äºŒ. åˆæ­¥è§£å†³é—®é¢˜"></a>äºŒ. åˆæ­¥è§£å†³é—®é¢˜</h1><p>ç”±äºé¡¹ç›®æ˜¯çº¯ lua çš„, æ‰€ä»¥ä¸å¤ªå¯èƒ½æ˜¯æ•°æ®å’Œé€»è¾‘çš„é—®é¢˜, é‚£ä¹ˆå¾ˆæœ‰å¯èƒ½æ˜¯è§†å›¾(cocos2d-x å¯¹è±¡)å­˜åœ¨å†…å­˜æ³„éœ². è€Œæ¯ä¸€ä¸ªç•Œé¢éƒ½å­˜åœ¨é—®é¢˜, é‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯æŸä¸ªé€šç”¨ç»„ä»¶å­˜åœ¨é—®é¢˜.</p>
<p>ç»è¿‡ä¸€ç•ªåŠªåŠ›, æœ€ç»ˆæˆåŠŸæ‰¾åˆ°äº†å†…å­˜æŒç»­å¢åŠ çš„åŸå› , ä¸€å…±ä¸¤å¤„:</p>
<h2 id="1-lua-åƒåœ¾æ²¡æœ‰åŠæ—¶å›æ”¶"><a href="#1-lua-åƒåœ¾æ²¡æœ‰åŠæ—¶å›æ”¶" class="headerlink" title="1. lua åƒåœ¾æ²¡æœ‰åŠæ—¶å›æ”¶"></a>1. lua åƒåœ¾æ²¡æœ‰åŠæ—¶å›æ”¶</h2><p>lua çš„åƒåœ¾æ˜¯ä¼šè‡ªåŠ¨å›æ”¶çš„, ä½†æˆ‘ä»¬æœ‰æ—¶å€™å¯èƒ½éœ€è¦æ‰‹åŠ¨å›æ”¶ä¸‹, æ¯”å¦‚åˆ‡æ¢åœºæ™¯æ—¶, å…³é—­ç•Œé¢æ—¶, ä¸»åŠ¨å›æ”¶çš„ä»£ç å¾ˆç®€å•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">collectgarbage(&quot;collect&quot;)</span><br></pre></td></tr></table></figure>
<p>æˆ‘å°†è¿™æ®µä»£ç åŠ åˆ°äº†ç»Ÿä¸€å…³é—­ç•Œé¢çš„åœ°æ–¹.</p>
<p>æ›´å¤šå…³äº lua åƒåœ¾å›æ”¶çš„å…·ä½“é—®é¢˜å¤§å®¶å¯ä»¥å‚è€ƒè¿™ä¸ªä¸¤ç¯‡æ–‡ç« :</p>
<p><a href="http://luatut.com/collectgarbage.html" target="_blank" rel="noopener">http://luatut.com/collectgarbage.html</a><br><a href="http://www.codingnow.com/2000/download/lua_manual.html" target="_blank" rel="noopener">http://www.codingnow.com/2000/download/lua_manual.html</a></p>
<h2 id="2-ç²¾çµå˜ç°å’Œé«˜äº®çš„-shader-åˆ›å»ºåä¸€ç›´æ²¡æœ‰é‡Šæ”¾"><a href="#2-ç²¾çµå˜ç°å’Œé«˜äº®çš„-shader-åˆ›å»ºåä¸€ç›´æ²¡æœ‰é‡Šæ”¾" class="headerlink" title="2. ç²¾çµå˜ç°å’Œé«˜äº®çš„ shader åˆ›å»ºåä¸€ç›´æ²¡æœ‰é‡Šæ”¾"></a>2. ç²¾çµå˜ç°å’Œé«˜äº®çš„ shader åˆ›å»ºåä¸€ç›´æ²¡æœ‰é‡Šæ”¾</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GameUtils.SetSpriteGrey</span><span class="params">(sprite,is_grey)</span></span></span><br><span class="line">    <span class="keyword">if</span> sprite <span class="keyword">and</span> sprite.setGLProgramState <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">if</span> is_grey <span class="keyword">then</span></span><br><span class="line">            <span class="keyword">local</span> pProgram = cc.GLProgram:createWithByteArrays(ShaderData.vertDefaultSourceGrey, ShaderData.pszFragSourceGrey)</span><br><span class="line">            ...</span><br><span class="line">            sprite:setGLProgram(pProgram) </span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="keyword">local</span> pProgram = cc.GLProgramState:getOrCreateWithGLProgram(cc.GLProgramCache:getInstance():getGLProgram(<span class="string">"ShaderPositionTextureColor_noMVP"</span>))</span><br><span class="line">            sprite:setGLProgramState(pProgram)</span><br><span class="line">        <span class="keyword">end</span> </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç çœ‹èµ·æ¥æ²¡æœ‰ä»»ä½•é—®é¢˜, æˆ‘èƒ½æƒ³åˆ°åªæ˜¯æ²¡æœ‰ç”¨ <code>GLProgramCache</code> ç¼“å­˜èµ·æ¥, é€ æˆæ¯æ¬¡éƒ½ä¼šåˆ›å»ºçš„æ•ˆç‡é—®é¢˜, åº”è¯¥ä¸ä¼šå¯¼è‡´æ³„éœ²å— ? ç²¾çµè¢«é‡Šæ”¾æ—¶éš¾é“ä¸ä¼šè‡ªåŠ¨é‡Šæ”¾æ‰€å¼•ç”¨çš„ GLProgram å—?</p>
<p>å› ä¸ºå½“æ—¶é¡¹ç›®æ¯”è¾ƒç´§æ€¥, æˆ‘å°†è¿™æ®µä»£ç ä½¿ç”¨ <code>GLProgramCache</code> çš„å½¢å¼ä¿®æ”¹äº†ä¸€ä¸‹, æƒŠå¥‡çš„å‘ç°å†…å­˜æ³„éœ²é—®é¢˜ç«Ÿç„¶è§£å†³äº†. ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GameUtils.SetSpriteGrey</span><span class="params">(sprite,is_grey)</span></span></span><br><span class="line">    <span class="keyword">if</span> sprite <span class="keyword">and</span> sprite.setGLProgramState <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">if</span> is_grey <span class="keyword">then</span></span><br><span class="line">            <span class="keyword">local</span> pProgram = cc.GLProgramCache:getInstance():getGLProgram(<span class="string">"ShaderPositionTextureColor_Gray"</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> pProgram <span class="keyword">then</span></span><br><span class="line">                pProgram = cc.GLProgram:createWithByteArrays(ShaderData.vertDefaultSourceGrey, ShaderData.pszFragSourceGrey)</span><br><span class="line">                pProgram:bindAttribLocation(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION)</span><br><span class="line">                pProgram:bindAttribLocation(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR)</span><br><span class="line">                pProgram:bindAttribLocation(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_FLAG_TEX_COORDS)</span><br><span class="line">                pProgram:link()</span><br><span class="line">                pProgram:updateUniforms()</span><br><span class="line">                cc.GLProgramCache:getInstance():addGLProgram(pProgram, <span class="string">"ShaderPositionTextureColor_Gray"</span>)</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            sprite:setGLProgram(pProgram) </span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            sprite:setGLProgram(cc.GLProgramCache:getInstance():getGLProgram(<span class="string">"ShaderPositionTextureColor_noMVP"</span>))</span><br><span class="line">        <span class="keyword">end</span> </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰-éšè—åœ¨èƒŒåçš„ç§˜å¯†"><a href="#ä¸‰-éšè—åœ¨èƒŒåçš„ç§˜å¯†" class="headerlink" title="ä¸‰. éšè—åœ¨èƒŒåçš„ç§˜å¯†"></a>ä¸‰. éšè—åœ¨èƒŒåçš„ç§˜å¯†</h1><p>é—®é¢˜è§£å†³äº†, é‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥ç»“æŸäº†å‘¢ ? å¹¶ä¸èƒ½, æ™šä¸Šå›åˆ°å®¶æˆ‘å°±ä¸€ç›´åœ¨æ€è€ƒè¿™ä¸ªé—®é¢˜, å€’æ˜¯æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´äº† GLProgram å†…å­˜æ²¡æœ‰é‡Šæ”¾, è€Œä½¿ç”¨ GLProgramCache å°±æ²¡æœ‰é—®é¢˜.</p>
<p>è«ä¸æ˜¯ cocos2d-x çš„ bug ? cocos å¯¹è±¡æ˜¯åŸºäºå¼•ç”¨è®¡æ•°å»è‡ªåŠ¨é‡Šæ”¾å†…å­˜çš„. æˆ‘æ’æŸ¥äº†å‡ å¤„å¯ç–‘çš„åœ°æ–¹:</p>
<ol>
<li>GLProgram::createWithByteArrays è°ƒç”¨äº† autorelease</li>
<li>Node::setGLProgram è°ƒç”¨äº† retain</li>
<li>Node::~Node è°ƒç”¨äº† release</li>
</ol>
<p>è²Œä¼¼éƒ½æ²¡æœ‰é—®é¢˜. é‚£ä¹ˆæˆ‘å¯ä»¥è·Ÿè¸ªä¸‹å¼•ç”¨è®¡æ•°çš„å˜åŒ–, çœ‹çœ‹æ˜¯å“ªä¸€æ­¥å‡ºç°çš„é—®é¢˜! ç»è¿‡ä¸€ç•ªè°ƒè¯•,æœ€ç»ˆå®šä½åˆ°äº†é—®é¢˜, å¤§å®¶è¯·çœ‹:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23gw1f2anef57p3j20u60370ts.jpg" alt=""></p>
<p>1.<code>Node::setGLProgram</code> è¿›å…¥åˆ° <code>GLProgramState::getOrCreateWithGLProgram</code>, è¿™ä¸€æ­¥æ²¡æœ‰ä»€ä¹ˆé—®é¢˜.</p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1f2aneul8cej20u7021jrx.jpg" alt=""></p>
<p>2.è¿™é‡Œæœ‰ä¸€ä¸ªæ–°çš„ç¼“å­˜ <code>GLProgramStateCache</code> , è¿›å…¥å®ƒåˆ° <code>getGLProgramState</code> å‡½æ•°.</p>
<p><img src="http://ww3.sinaimg.cn/large/7f870d23gw1f2anf4bv4tj20u906l402.jpg" alt=""></p>
<p>3.è¿™ä¸€æ­¥æ˜¯ GLProgramStateCache çš„æ ¸å¿ƒä»£ç äº†, åˆ¤æ–­æœ‰æ— åœ¨ç¼“å­˜ä¸­, æ²¡æœ‰åˆ™ insert åˆ°æœ«å°¾. è¿™é‡Œçš„ <code>_glProgramStates</code> æ˜¯ä¸€ä¸ª <code>Map</code> , è€Œè¿™ä¸ª map ç«Ÿç„¶æ˜¯ä»¥ä¼ é€’è¿›æ¥çš„ <code>glprogram</code> åš<br> key , è€Œæˆ‘ä»¬æ¯æ¬¡ä¼ é€’è¿›æ¥çš„ glprogram éƒ½æ˜¯æ–°åˆ›å»ºçš„, æ‰€ä»¥åœ¨æˆ‘ä»¬è¿™ä¸ªä½¿ç”¨æƒ…å†µä¸‹ç¼“å­˜æ ¹æœ¬æ˜¯æ— æ•ˆçš„.</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23gw1f2anfex5v1j20tx03zjs1.jpg" alt=""></p>
<p>4.è®©æˆ‘çœ‹ä¸€ä¸‹, <code>GLProgramState</code> çš„ <code>init</code> å‡½æ•°, è¿™ä¸‹æ‰¾åˆ° retain åœ°æ–¹äº†. </p>
<p>è¿™æ ·çš„è¯, å°±è®²å¾—é€šäº†, GLProgram ä¼šåœ¨ GLProgramState ææ„çš„æ—¶å€™ release æ‰. è€Œ GLProgramState åªä¼šåœ¨ GLProgramStateCache:removeAllGLProgramState é‡Šæ”¾æ‰. è€Œ removeAllGLProgramState åªæœ‰åœ¨æ‰‹åŠ¨æˆ–è€…æ¸¸æˆé€€å‡ºçš„æ—¶å€™æ‰ä¼šè°ƒç”¨.</p>
<p>OK, è¿™ä¸‹å®šä½åˆ°äº†é—®é¢˜, è™½ç„¶æˆ‘ä»¬ä½¿ç”¨æœ‰äº›é—®é¢˜, ä½† GLProgramStateCache è®¾è®¡ç¡®å®æœ‰ä¸åˆç†çš„åœ°æ–¹, å¤§å®¶è®°å¾—æ­£ç¡®ç”¨æ³•å°±å¥½äº†, å°±æ˜¯ shader ä¸€å®šè¦ä½¿ç”¨ GLProgramCache !</p>
<hr>
<p>åè®°</p>
<p>é€šè¿‡è¿™æ¬¡è§£å†³é—®é¢˜, æˆ‘æœ‰ä¸€ä¸ªç‰¹åˆ«å¤§çš„æ”¶è·. å°±æ˜¯åšä¼˜åŒ–å·¥ä½œæ—¶ä¸€å®šä¸èƒ½å»çŒœ, è¦æœ‰æ•°æ®å’Œé€»è¾‘çš„æ”¯æŒ.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> MemoryLeak </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[åœ¨ Quick-cocos2d-x ä¸­ä½¿ç”¨ TableView]]></title>
      <url>http://blog.justbilt.com/2016/03/13/quickx-tableview/</url>
      <content type="html"><![CDATA[<p>ä¸Šç¯‡æ–‡ç« è¯´åˆ°ä½¿ç”¨ TableView å¯ä»¥å¤§å¹…æå‡ç•Œé¢çš„åˆ›å»ºé€Ÿåº¦, è¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•åœ¨ quick ä¸­ä½¿ç”¨å®ƒ.</p>
<h1 id="ä¸€-åŸºæœ¬ç”¨æ³•"><a href="#ä¸€-åŸºæœ¬ç”¨æ³•" class="headerlink" title="ä¸€. åŸºæœ¬ç”¨æ³•"></a>ä¸€. åŸºæœ¬ç”¨æ³•</h1><h2 id="1-åˆ›å»ºå¯¹è±¡"><a href="#1-åˆ›å»ºå¯¹è±¡" class="headerlink" title="1. åˆ›å»ºå¯¹è±¡"></a>1. åˆ›å»ºå¯¹è±¡</h2><p>é¦–å…ˆ, åˆ›å»ºä¸€ä¸ª TableView å¯¹è±¡:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> view = cc.TableView:<span class="built_in">create</span>(cc.size(<span class="number">480</span>,<span class="number">320</span>))</span><br></pre></td></tr></table></figure>
<p>ä¼ å…¥çš„é‚£ä¸ª size æ˜¯ viewsize, å³å¯è§†åŒºåŸŸçš„å°ºå¯¸, åæœŸä¹Ÿå¯ä»¥é€šè¿‡ <code>setViewSize</code> æ¥è°ƒèŠ‚.</p>
<h2 id="2-è®¾ç½®å¡«å……é¡ºåº"><a href="#2-è®¾ç½®å¡«å……é¡ºåº" class="headerlink" title="2. è®¾ç½®å¡«å……é¡ºåº"></a>2. è®¾ç½®å¡«å……é¡ºåº</h2><p>ä¸‹é¢è®¾ç½®å¡«å……é¡ºåº, é»˜è®¤æ˜¯ä»ä¸‹å¾€ä¸Šå¡«å……, æˆ‘ä»¬ä¹ æƒ¯äº†ä½¿ç”¨ä»ä¸Šå¾€ä¸‹å¡«å……, æ‰€ä»¥éœ€è¦ä¿®æ”¹ä¸‹:<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view:setVerticalFillOrder(cc.TABLEVIEW_FILL_TOPDOWN)</span><br></pre></td></tr></table></figure></p>
<p>å…¶å¯é€‰å€¼å¦‚ä¸‹:<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cc.TABLEVIEW_FILL_TOPDOWN = <span class="number">0</span>  <span class="comment">-- ä»ä¸Šè‡ªä¸‹</span></span><br><span class="line">cc.TABLEVIEW_FILL_BOTTOMUP = <span class="number">1</span> <span class="comment">-- ä»ä¸‹è‡ªä¸Š</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªå€¼æœ€ç»ˆä¼šå½±å“æ‰€æœ‰ cell çš„é¡ºåº, å…·ä½“äº›æ˜¯ç¬¬ 0 ä¸ªå…ƒç´ åœ¨æœ€ä¸Šé¢è¿˜æ˜¯åœ¨æœ€ä¸‹é¢.</p>
<h2 id="3-æ³¨å†Œäº‹ä»¶ç›‘å¬"><a href="#3-æ³¨å†Œäº‹ä»¶ç›‘å¬" class="headerlink" title="3. æ³¨å†Œäº‹ä»¶ç›‘å¬"></a>3. æ³¨å†Œäº‹ä»¶ç›‘å¬</h2><p>TableView æä¾›äº†å¥½å¤šäº‹ä»¶, å…·ä½“ä½œç”¨å¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cc.SCROLLVIEW_SCRIPT_SCROLL = <span class="number">0</span></span><br><span class="line">cc.SCROLLVIEW_SCRIPT_ZOOM   = <span class="number">1</span></span><br><span class="line">cc.TABLECELL_TOUCHED        = <span class="number">2</span></span><br><span class="line">cc.TABLECELL_HIGH_LIGHT     = <span class="number">3</span></span><br><span class="line">cc.TABLECELL_UNHIGH_LIGHT   = <span class="number">4</span> </span><br><span class="line">cc.TABLECELL_WILL_RECYCLE   = <span class="number">5</span></span><br><span class="line">cc.TABLECELL_SIZE_FOR_INDEX = <span class="number">6</span> <span class="comment">-- è·å–èŠ‚ç‚¹å°ºå¯¸çš„å›è°ƒ</span></span><br><span class="line">cc.TABLECELL_SIZE_AT_INDEX  = <span class="number">7</span> <span class="comment">-- è·å–å¯¹åº”ä½ç½®èŠ‚ç‚¹çš„å›è°ƒ</span></span><br><span class="line">cc.NUMBER_OF_CELLS_IN_TABLEVIEW = <span class="number">8</span> <span class="comment">-- è·å–èŠ‚ç‚¹æ•°é‡çš„å›è°ƒ</span></span><br></pre></td></tr></table></figure>
<p>ä½†å…¶å®çœŸæ­£æœ‰æ„ä¹‰çš„å°±ä¸‰ä¸ª, 6,7,8. å…¶ä»–çš„<strong>æ ¹æœ¬ä¸ä¼šå›è°ƒ</strong>, æ³¨å†Œäº†ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç”¨. æ³¨å†Œç›‘å¬ä½¿ç”¨ <code>registerScriptHandler</code> å‡½æ•°.</p>
<h3 id="1-æ³¨å†ŒèŠ‚ç‚¹æ•°é‡å›è°ƒ"><a href="#1-æ³¨å†ŒèŠ‚ç‚¹æ•°é‡å›è°ƒ" class="headerlink" title="1). æ³¨å†ŒèŠ‚ç‚¹æ•°é‡å›è°ƒ"></a>1). æ³¨å†ŒèŠ‚ç‚¹æ•°é‡å›è°ƒ</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">view:registerScriptHandler(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span> <span class="comment">-- å‡å¦‚æœ‰10ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">end</span>, cc.NUMBER_OF_CELLS_IN_TABLEVIEW)</span><br></pre></td></tr></table></figure>
<p>è¿”å›èŠ‚ç‚¹æ•°é‡.</p>
<h3 id="2-æ³¨å†Œè·å–èŠ‚ç‚¹å°ºå¯¸çš„å›è°ƒ"><a href="#2-æ³¨å†Œè·å–èŠ‚ç‚¹å°ºå¯¸çš„å›è°ƒ" class="headerlink" title="2). æ³¨å†Œè·å–èŠ‚ç‚¹å°ºå¯¸çš„å›è°ƒ"></a>2). æ³¨å†Œè·å–èŠ‚ç‚¹å°ºå¯¸çš„å›è°ƒ</h3><p>è‹¥æ˜¯æ¯ä¸ªèŠ‚ç‚¹ä¸€è‡´, åˆ™å¯ä»¥è¿”å›ä¸€ä¸ªå›ºå®šå°ºå¯¸; è‹¥ä¸ä¸€è‡´, å¯ä»¥æ ¹æ® idx å»å–å‡ºå¯¹åº”èŠ‚ç‚¹çš„å°ºå¯¸.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">view:registerScriptHandler(<span class="function"><span class="keyword">function</span><span class="params">(table, idx)</span></span></span><br><span class="line">    <span class="comment">-- é»˜è®¤å°ºå¯¸</span></span><br><span class="line">    <span class="keyword">local</span> size = self.defaultSize</span><br><span class="line">    <span class="keyword">local</span> cell = view:cellAtIndex(idx)</span><br><span class="line">    <span class="keyword">if</span> cell <span class="keyword">then</span></span><br><span class="line">        <span class="comment">-- cell.view å±æ€§æ˜¯åœ¨çº¿é¢åˆ›å»º cell æ—¶èµ‹å€¼çš„.</span></span><br><span class="line">        size = cell.view:getBoundingBox()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> size.height, size.width</span><br><span class="line"><span class="keyword">end</span>, cc.TABLECELL_SIZE_FOR_INDEX)</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„, è¿™é‡Œå¦‚æœæ˜¯çºµå‘æ»šåŠ¨çš„è¯,è¿”å›é¡ºåºæ˜¯é«˜,å®½; æ¨ªå‘æ»šåŠ¨çš„è¯åˆ™è¿”å›å®½,é«˜. </p>
<h3 id="3-è·å–å¯¹åº”ä½ç½®èŠ‚ç‚¹çš„å›è°ƒ"><a href="#3-è·å–å¯¹åº”ä½ç½®èŠ‚ç‚¹çš„å›è°ƒ" class="headerlink" title="3). è·å–å¯¹åº”ä½ç½®èŠ‚ç‚¹çš„å›è°ƒ"></a>3). è·å–å¯¹åº”ä½ç½®èŠ‚ç‚¹çš„å›è°ƒ</h3><p>è¿™ä¸ªå›è°ƒçš„åç§°å’Œä¸Šé¢é‚£ä¸ªå¾ˆåƒ, æœ‰æ—¶å€™ä¼šåˆ†ä¸æ¸…æ¥š.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">view:registerScriptHandler(<span class="function"><span class="keyword">function</span><span class="params">(table, idx)</span></span></span><br><span class="line">    <span class="keyword">local</span> cell = <span class="built_in">table</span>:dequeueCell()</span><br><span class="line">    <span class="keyword">if</span> <span class="literal">nil</span> == cell <span class="keyword">then</span></span><br><span class="line">        cell = cc.TableViewCell:new()</span><br><span class="line">        cell.view = self.class.new()</span><br><span class="line">            :pos(self.class.designSize.width/<span class="number">2</span>, self.class.designSize.height/<span class="number">2</span>)</span><br><span class="line">            :addTo(cell)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">-- å¦‚æœéœ€è¦åˆ·æ–°çš„è¯, å¯èƒ½éœ€è¦è‡ªå·±å»å¤„ç†, å¦‚ä¸éœ€è¦, å°±å¯ä»¥ä¸ç”¨ä¸‹é¢çš„è¿™ä¸ªè°ƒç”¨</span></span><br><span class="line">    cell.view:refresh()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cell</span><br><span class="line"><span class="keyword">end</span>, cc.TABLECELL_SIZE_AT_INDEX)</span><br></pre></td></tr></table></figure>
<h2 id="3-è·å–-æ–°å¢-ä¿®æ”¹-åˆ é™¤èŠ‚ç‚¹"><a href="#3-è·å–-æ–°å¢-ä¿®æ”¹-åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="3. è·å–/æ–°å¢/ä¿®æ”¹/åˆ é™¤èŠ‚ç‚¹"></a>3. è·å–/æ–°å¢/ä¿®æ”¹/åˆ é™¤èŠ‚ç‚¹</h2><p>è¿™äº›æ“ä½œåˆ†åˆ«å¯¹åº” <code>cellAtIndex</code>/<code>updateCellAtIndex</code>/<code>insertCellAtIndex</code>/<code>removeCellAtIndex</code> . è¿™äº›æ¥å£å¾ˆå¥½ç†è§£, ä½†å°±å¤šæ•°æƒ…å†µè€Œè¨€, ä»–ä»¬å¯èƒ½éœ€è¦å’Œ <code>reloadData</code> é…åˆä½¿ç”¨. </p>
<p>å¥½äº†, ä»¥ä¸Šå°±æ˜¯åŸºæœ¬ç”¨æ³•äº†. åœ¨ä½¿ç”¨æ—¶è¿˜æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„ç»†èŠ‚:</p>
<ol>
<li>ä¸èƒ½ä½¿ç”¨ setNodeEventEnable, å› ä¸ºå’Œ Node çš„ registerScriptHandler æœ‰å†²çª.</li>
<li>id ä» 0 å¼€å§‹, è€Œå¤§å®¶åœ¨ lua è¿™è¾¹å‡†å¤‡çš„æ•°æ®å¤šæ˜¯ä»¥ 1 å¼€å§‹, è¿™æ ·å¯èƒ½éœ€è¦ +1 å’Œ -1, éœ€è¦ç»†å¿ƒä¸€äº›.</li>
</ol>
<hr>
<h1 id="äºŒ-ä¸€äº›å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆ"><a href="#äºŒ-ä¸€äº›å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="äºŒ. ä¸€äº›å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆ"></a>äºŒ. ä¸€äº›å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆ</h1><h2 id="1-lua-å‡ºé”™å¯¼è‡´-player-å´©æºƒ"><a href="#1-lua-å‡ºé”™å¯¼è‡´-player-å´©æºƒ" class="headerlink" title="1. lua å‡ºé”™å¯¼è‡´ player å´©æºƒ"></a>1. lua å‡ºé”™å¯¼è‡´ player å´©æºƒ</h2><p>TableView å›è°ƒ <code>tableCellAtIndex</code> åœ¨luaè¿™è¾¹çš„å®ç°ä¸€æ—¦å‡ºé”™, å°±ä¼šåœ¨ c++ é‚£è¾¹æ”¶åˆ°ä¸€ä¸ª NULL çš„ cell, å› ä¸ºæ²¡æœ‰åˆ¤ç©º, ä¸‹é¢å¯¹ cell çš„æ“ä½œå°±ä¼šå¯¼è‡´ Plaer å´©æºƒ. å¯¹åº”ä¿®æ”¹å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">     cell = _dataSource-&gt;tableCellAtIndex(<span class="keyword">this</span>, idx);</span><br><span class="line">-    <span class="keyword">this</span>-&gt;_setIndexForCell(idx, cell);</span><br><span class="line">-    <span class="keyword">this</span>-&gt;_addCellIfNecessary(cell);</span><br><span class="line">+    <span class="keyword">if</span>(cell)</span><br><span class="line">+    &#123;</span><br><span class="line">+        <span class="keyword">this</span>-&gt;_setIndexForCell(idx, cell);</span><br><span class="line">+        <span class="keyword">this</span>-&gt;_addCellIfNecessary(cell);</span><br><span class="line">+    &#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™, ä¸ä¼šå´©æºƒäº†, ä½†æ˜¯ä¹Ÿçœ‹ä¸åˆ° lua é‚£è¾¹å‡ºçš„ä»€ä¹ˆé”™è¯¯, ç»è¿‡ä¸€ç•ªè¿½è¸ª, å®šä½åˆ°äº† <code>LuaStack::executeFunction</code> å‡½æ•°:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span> (error)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (traceCallback == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                CCLOG(<span class="string">"[LUA ERROR] %s"</span>, lua_tostring(_state, - <span class="number">1</span>));        <span class="comment">/* L: ... error */</span></span><br><span class="line">                lua_pop(_state, <span class="number">1</span>);                                        <span class="comment">// remove error message from stack</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>                                                           <span class="comment">/* L: ... G error */</span></span><br><span class="line">            &#123;</span><br><span class="line">+               CCLOG(<span class="string">"[LUA ERROR] %s"</span>, lua_tostring(_state, - <span class="number">2</span>));        <span class="comment">/* L: ... error */</span></span><br><span class="line">                lua_pop(_state, <span class="number">2</span>);                                        <span class="comment">// remove __G__TRACKBACK__ and error message from stack</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶å‡ºé”™äº†, ä½†æ˜¯ <code>traceCallback</code> çš„å€¼å¹¶ä¸ç­‰äº 0, æ‰€ä»¥æ²¡æœ‰è¿›å…¥è¾“å‡ºé”™è¯¯çš„é€»è¾‘, å…·ä½“ç”¨æ„å¹¶ä¸æ˜ç™½. æˆ‘çš„æ·»åŠ äº†å¸¦ <code>+</code> å·çš„å“ªä¸€è¡Œ, è¾“å‡ºäº†ä¸‹å°±å¯ä»¥çœ‹åˆ° lua çš„é”™è¯¯äº†.</p>
<h2 id="2-æ»šåŠ¨åå¯¼è‡´èŠ‚ç‚¹ä¸ŠæŒ‰é’®è§¦æ‘¸å¤±æ•ˆ"><a href="#2-æ»šåŠ¨åå¯¼è‡´èŠ‚ç‚¹ä¸ŠæŒ‰é’®è§¦æ‘¸å¤±æ•ˆ" class="headerlink" title="2. æ»šåŠ¨åå¯¼è‡´èŠ‚ç‚¹ä¸ŠæŒ‰é’®è§¦æ‘¸å¤±æ•ˆ"></a>2. æ»šåŠ¨åå¯¼è‡´èŠ‚ç‚¹ä¸ŠæŒ‰é’®è§¦æ‘¸å¤±æ•ˆ</h2><p>å¤§å®¶ä½¿ç”¨æ—¶å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜, èŠ‚ç‚¹ä¸Šæœ‰ä¸€ä¸ªåˆ©ç”¨ quick è§¦æ‘¸æœºåˆ¶å®ç°çš„æŒ‰é’®, åœ¨ TableView æ»šåŠ¨åè§¦æ‘¸äº‹ä»¶éƒ½ä¼šå¤±æ•ˆ, æŒ‰é’®æ— æ³•è¢«ç‚¹å‡».</p>
<p>è¿™ä¸ªå®é™…ä¸Šæ˜¯ quick è§¦æ‘¸æœºåˆ¶çš„ä¸€ä¸ªbug, å¤ç°æ˜¯å¾ˆå®¹æ˜“çš„. å¤§å®¶åˆ›å»ºä¸€ä¸ªæŒ‰é’®å¹¶è°ƒç”¨ <code>retain</code>, ç„¶åå°†è¿™ä¸ªæŒ‰é’®æ·»åŠ åˆ°çˆ¶èŠ‚ç‚¹ä¸Š, åœ¨æŸä¸ªæ—¶å€™å°†æŒ‰é’®ä»çˆ¶èŠ‚ç‚¹ä¸Šç§»é™¤ (<code>removeFromParent</code>) å¹¶å†æ¬¡æ·»åŠ (<code>addChild</code>)ä¸Šåˆ°çˆ¶èŠ‚ç‚¹. è¿™æ—¶å€™æŒ‰é’®è¿˜åœ¨, ä½†æ˜¯è§¦æ‘¸äº‹ä»¶å·²ç»æ²¡æœ‰äº†.</p>
<p>ç©¶å…¶åŸå› æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨å¯¹è±¡çš„ <code>ctor</code> å‡½æ•°ä¸­ <code>setTouchEnable</code>, ç„¶å quick åœ¨æ”¶åˆ° <code>cleanup</code> äº‹ä»¶åç§»é™¤äº†å¯¹è±¡è§¦æ‘¸äº‹ä»¶, å…·ä½“é€»è¾‘å¤§å®¶å¯ä»¥çœ‹ <code>Node:EventDispatcher</code> å‡½æ•°. è€Œä¸€ä¸ªèŠ‚ç‚¹ä»çˆ¶èŠ‚ç‚¹ä¸Šç§»é™¤æ—¶æ°å¥½ä¼šå‘é€ cleanup äº‹ä»¶.</p>
<p>å¯¹åº”åˆ° TableView ä¸­æ¥, TableViewCell ä¸ºäº†åšåˆ°å¤ç”¨åœ¨ <code>dequeueCell</code> æ—¶ä¼šè°ƒç”¨ <code>retain</code> å‡½æ•°, å¹¶ä¸”åœ¨ç§»å‡ºå±å¹•æ—¶ä¼šè¢«ä» Container ä¸Šç§»é™¤æ‰çš„. è¿™æ · TableViewCell çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½ä¼šæ”¶åˆ°å¯¹åº”çš„ cleanup äº‹ä»¶.</p>
<p>è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ°å¥½æ˜¯æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« , <a href="/2015/05/17/onDestroy">ä¸º quick-cocos2d-x æ·»åŠ ææ„äº‹ä»¶</a>, åœ¨è¿™ç¯‡æ–‡ç« ä¸­, å·²ç»ä¿®æ”¹ä¸ºæ”¶åˆ° destroy äº‹ä»¶åæ‰å»ç§»é™¤èŠ‚ç‚¹çš„è§¦æ‘¸äº‹ä»¶, éå¸¸å®Œç¾çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜.</p>
<blockquote>
<p>Update: 2016-04-24</p>
</blockquote>
<h2 id="3-é®æŒ¡ä¸Šå±‚æŒ‰é’®è§¦æ‘¸äº‹ä»¶"><a href="#3-é®æŒ¡ä¸Šå±‚æŒ‰é’®è§¦æ‘¸äº‹ä»¶" class="headerlink" title="3. é®æŒ¡ä¸Šå±‚æŒ‰é’®è§¦æ‘¸äº‹ä»¶"></a>3. é®æŒ¡ä¸Šå±‚æŒ‰é’®è§¦æ‘¸äº‹ä»¶</h2><p>ç»è¿‡è¿™å‡ å¤©çš„ä½¿ç”¨, æˆ‘å‘ç°äº†ä¸€ä¸ªååˆ†ä¸¥é‡çš„é—®é¢˜. å¦‚ä¸‹å›¾æ‰€ç¤º, TableView ä¸­çš„æŸä¸ªæŒ‰é’®æ‹–å‡º ViewRect èŒƒå›´åä¼šä¸å¯è§, ä½†å¦‚æœå…¶ä½ç½®æ°å¥½åœ¨ TableView å¤–çš„å¦ä¸€ä¸ªæŒ‰é’®èŒƒå›´å†…, å°±ä¼šä¼˜å…ˆæ”¶åˆ°ç‚¹å‡»äº‹ä»¶. è¿™å°±ä¼šå¼•å‘ååˆ†å¥‡æ€ªçš„ç°è±¡, TableView å¤–çš„æŒ‰é’®çœ‹å¾—è§ç‚¹ä¸ç€, TableView å†…çš„æŒ‰é’®çœ‹ä¸è§å´å¯ä»¥å“åº”åˆ°, ååˆ†å½±å“ä½“éªŒ.</p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1f381i7v2adj206c045glr.jpg" alt=""></p>
<p>å› ä¸ºæœ‰ç€ä»¥å¾€ cocos 2.x çš„æ‚²æƒ¨ç»å†, æˆ‘éå¸¸æ­¦æ–­çš„è®¤ä¸ºè¿™è‚¯å®šæ˜¯ TableView çš„ bug, å¼€å§‹ç€æ‰‹é˜…è¯» TableView çš„ä»£ç å®ç°, å´ä¸€ç›´æœªæœ. ç„¶è€Œå›¢é˜Ÿä¸­å¦å¤–ä¸€ä½æˆå‘˜ @å°é½åŒå­¦ çš„æ„å¤–å‘ç°, è®©è¿™ä¸ªé—®é¢˜çš„è°œåº•åœ¨æ— æ„ä¸­å°±è¢«æ­å¼€äº†.</p>
<p>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¤§é‡ä½¿ç”¨äº† Quick-cocos2d-x æä¾›çš„ä¸€ä¸ªæ§ä»¶ <code>UIScrollView</code>, å®ƒæ˜¯ä¸€ä¸ªç”¨ <code>ClippingRegionNode</code> çº¯ lua å®ç°çš„ <code>CCScrollView</code>, ä¸€ç›´ä»¥æ¥å·¥ä½œçš„ååˆ†è‰¯å¥½. ä½†æ˜¯åœ¨æŸä¸€å¤© æµ‹è¯•ä¸­, @é½å°‘ æ„å¤–çš„å‘ç°, æŸä¸ªç•Œé¢çš„ UIScrollView å‡ºç°äº†å’Œ TableView ä¸€æ¨¡ä¸€æ ·çš„é—®é¢˜, å¯¼è‡´ä¸Šå±‚æŒ‰é’®æ— æ³•ç‚¹å‡». ç»è¿‡æ’æŸ¥, å‘ç°æ˜¯å› ä¸º UIScrollView çš„åˆ›å»ºé¡ºåºè¢«å»¶åçš„åŸå› , å¦‚æœä¸€ä¸ªæŒ‰é’®å…ˆäº UIScrollView æ·»åŠ åˆ°çˆ¶èŠ‚ç‚¹, å°±ä¼šè¢« UIScrollView ä¸­çš„æŒ‰é’®æ‰€å±è”½, åæ·»åŠ åˆ™ä¸ä¼š.</p>
<p>å½“ @é½å°‘ å‘Šè¯‰æˆ‘è¿™ä¸ªç»“è®ºå, æˆ‘ç«‹åˆ»æ„è¯†åˆ°, TableView é‡åˆ°çš„é—®é¢˜è‚¯å®šä¹Ÿæ˜¯è¿™ä¸ªåŸå› , æŸ¥çœ‹ä»£ç åæœç„¶å¦‚æ­¤, TableView æ˜¯æœ€åè¢«åˆ›å»ºçš„. è§£å†³æ–¹æ¡ˆä¹Ÿååˆ†ç®€å•, å°† TableView å¤–éƒ¨æŒ‰é’®æ”¾åˆ° TableView ä¹‹åå»åˆ›å»ºå°±å¯ä»¥å•¦.</p>
<hr>
<p>æ©, ä»¥ä¸Šå°±æ˜¯æˆ‘åœ¨ä½¿ç”¨ TableView æ—¶é‡åˆ°çš„æ‰€æœ‰é—®é¢˜äº†, è™½ç„¶è§£å†³äº†è¿™äº›é—®é¢˜, ä½†æ˜¯åœ¨ä½¿ç”¨ä¸Šè¿˜æ˜¯ååˆ†çš„ç¹ç. è‹¥æ˜¯åœ¨ä¸€ä¸¤ä¸ªç•Œé¢ä¸Šä½¿ç”¨å¯èƒ½è¿˜å¯ä»¥æ¥å—, ä½†è‹¥æ˜¯æƒ³å¤§è§„æ¨¡æ¨å¹¿å°±å¾ˆæœ‰äº›å›°éš¾äº†, ä»£ç ä¼šå˜å¾—ååˆ†å†—é•¿.</p>
<p>åœ¨æ­¤åŸºç¡€ä¸Š, æˆ‘ä»¬åˆå¯¹ TableView è¿›è¡Œäº†ä¸€æ¬¡å°è£…, æ•°æ®é©±åŠ¨, ä½¿ç”¨æ—¶ä¸ç”¨è¿‡åˆ†å…³æ³¨ç•Œé¢çš„é€»è¾‘, ä¸­å¿ƒæ›´å¤šçš„è½åœ¨äº†æ•°æ®çš„ç»„ç»‡ä¸Š, çœŸæ­£çš„åšåˆ°äº† â€œå¼€ç®±å³ç”¨â€ , ç­‰æˆ‘ä»¬å†…éƒ¨è¿›è¡Œæ¨å¹¿å¹¶ç¨³å®šåå¯ä»¥å†å’Œå¤§å®¶åˆ†äº«ä¸‹å¿ƒå¾—.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> TableView </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ¸¸æˆæ€§èƒ½ä¼˜åŒ– - ç•Œé¢ç¯‡]]></title>
      <url>http://blog.justbilt.com/2016/03/06/game-optimize/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘å‡ å¤©éƒ½åœ¨åšæ€§èƒ½ä¼˜åŒ–æ–¹é¢çš„äº‹æƒ…, å…³äºä¼˜åŒ–, ä¹‹å‰çš„ç»éªŒä¹Ÿéƒ½æ˜¯æ³›æ³›è€Œè°ˆ, çŸ¥é“æœ‰å‡ æ¡è·¯çº¿å¯ä»¥èµ°, ä½†ä¸€ç›´æ²¡æœ‰å»å®è·µè¿‡. æ‰€ä»¥åˆšå¼€å§‹æçš„æ—¶å€™, ä¹Ÿæ˜¯ä¸¤çœ¼ä¸€æŠ¹é»‘, èµ°äº†ä¸å°‘å¼¯è·¯, æœ€åä¹Ÿæ˜¯å—ç›ŠåŒªæµ…, è¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘ä»¬çš„æ€è·¯, ä¹Ÿæ˜¯ä¸ºä¸‹æ¬¡ä¼˜åŒ–æä¾›ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆ.</p>
<p>åœ¨æµ‹è¯•çš„æ—¶å€™, ä¸å°‘ç•Œé¢ç•Œé¢å¡é¡¿ååˆ†ä¸¥é‡, ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ–¹é¢, åˆ†åˆ«æ˜¯ <strong>æ‰“å¼€ç•Œé¢å¡é¡¿</strong>, <strong>æ“ä½œç•Œé¢å¡é¡¿</strong>, <strong>å…³é—­ç•Œé¢å¡é¡¿</strong> . ä¸å¼€ç©ç¬‘, ç¡®å®å¦‚æ­¤ ! </p>
<p>ç»è¿‡åˆ†æ, è¿™äº›ç•Œé¢å¤šæœ‰è®¸å¤šå…±åŒçš„ç‰¹å¾:</p>
<ol>
<li>ç•Œé¢åŒ…å«å¤šä¸ªé¡µç­¾</li>
<li>ç•Œé¢å«æœ‰ ScrollView</li>
</ol>
<p>åœ¨çœ‹å…·ä½“ä¸šåŠ¡é€»è¾‘çš„æ—¶å€™, å‘ç°äº†å¾ˆå¤šçš„é—®é¢˜. ä¸‹é¢å°±å’Œå¤§å®¶ç»†è¯´ä¸€ä¸‹ä¼˜åŒ–æ–¹æ¡ˆ.</p>
<h1 id="æ‰“å¼€ç•Œé¢"><a href="#æ‰“å¼€ç•Œé¢" class="headerlink" title="æ‰“å¼€ç•Œé¢"></a>æ‰“å¼€ç•Œé¢</h1><p>æ€»ç»“ä¸€ä¸‹, æ‰“å¼€ç•Œé¢å¡é¡¿çš„ä¸»è¦åŸå› æ˜¯:</p>
<blockquote>
<p>ç•Œé¢åˆ›å»ºæ—¶åšäº†å¤ªå¤šçš„äº‹æƒ….</p>
</blockquote>
<p>å¯¹äºå¤šé¡µç­¾ç•Œé¢, ä¸ºäº†ä¸åœ¨ç‚¹å‡»åˆ‡æ¢æ ‡ç­¾æ—¶æœ‰å¡é¡¿çš„æ„Ÿè§‰, æ‰“å¼€ç•Œé¢æ—¶åˆ›å»ºäº†æ‰€æœ‰æ ‡ç­¾é¡µçš„å†…å®¹. å¦‚ä¸‹å›¾:</p>
<p><img src="http://static.zybuluo.com/justbilt/4ngqmwbvcjwltqrq94ra65o4/QQ20160219-0@2x.png" alt=""></p>
<p>è¿™ä¸ªå…¶å®æ²¡æœ‰å¿…è¦, ä¸è¿™æ ·åšçš„è¯å¯ä»¥å°†åŠ è½½æ—¶é—´åˆ†æ‘Šåˆ°æ¯æ¬¡ç‚¹å‡»æ ‡ç­¾çš„æ—¶å€™, å†ä¼˜åŒ–ä¸‹æ¯ä¸ªæ ‡ç­¾é¡µçš„åˆ›å»ºé€Ÿåº¦, åˆ‡æ¢æ ‡ç­¾æ—¶å°±å‡ ä¹æ„Ÿè§‰ä¸åˆ°å¡é¡¿çš„. ç„¶åæˆ‘ä»¬ç¼“å­˜æ³¨è¿™äº›ç•Œé¢, ä¸‹æ¬¡åˆ‡æ¢å°±ä¼šæ›´æµç•…äº†.</p>
<p>å¯¹äº ScrollView , å¦‚æœå­èŠ‚ç‚¹æ•°é‡å¾ˆå¤šçš„è¯, å°±ä¼šå¥‡å¡æ— æ¯”, å› ä¸ºä¼šåœ¨åˆå§‹åŒ–æ—¶åˆ›å»ºæ‰€æœ‰çš„å­èŠ‚ç‚¹! å¯¹äºè¿™ä¸ªæˆ‘ä»¬åšäº†ä¸¤ç‚¹ä¼˜åŒ–:</p>
<h2 id="1-ä¼˜åŒ–å­èŠ‚ç‚¹-node-æ•°é‡"><a href="#1-ä¼˜åŒ–å­èŠ‚ç‚¹-node-æ•°é‡" class="headerlink" title="1. ä¼˜åŒ–å­èŠ‚ç‚¹ node æ•°é‡"></a>1. ä¼˜åŒ–å­èŠ‚ç‚¹ node æ•°é‡</h2><p>æˆ‘ä»¬ä¸€ä¸ªå­èŠ‚ç‚¹å¯èƒ½æœ‰å¤šä¸ªäº’æ–¥çš„çŠ¶æ€, ç¾æœ¯æ‹¼ç•Œé¢æ—¶ä¼šæŠŠæ‰€æœ‰çš„çŠ¶æ€éƒ½æ‹¼åœ¨ç•Œé¢é‡Œ, ç¨‹åºå†æ ¹æ®å…·ä½“çŠ¶æ€ setVisible , è¿™æ ·å°±éå¸¸çš„æµªè´¹. ä¸ºæ­¤æˆ‘ä»¬å®ç°äº†åœ¨ ccb ä¸­æ ‡è®°èŠ‚ç‚¹çŠ¶æ€çš„åŠŸèƒ½, æ‰€æœ‰ä¸å±äºåŸºæœ¬ ui çŠ¶æ€çš„èŠ‚ç‚¹æ ‘éƒ½ä¸ä¼šè¢«åˆ›å»º, ç”¨åˆ°æ—¶å€™æ‰‹åŠ¨ init , è¿™ä¸ªå®ç°å¯¹æ€§èƒ½çš„æå‡éå¸¸æ˜¾è‘—.</p>
<h2 id="2-é’ˆå¯¹æ€§é€‰æ‹©ä½¿ç”¨-TableView"><a href="#2-é’ˆå¯¹æ€§é€‰æ‹©ä½¿ç”¨-TableView" class="headerlink" title="2. é’ˆå¯¹æ€§é€‰æ‹©ä½¿ç”¨ TableView"></a>2. é’ˆå¯¹æ€§é€‰æ‹©ä½¿ç”¨ TableView</h2><p>æˆ‘ä¸€èˆ¬æƒ…å†µä¸‹ä¸å»ºè®®ä½¿ç”¨ TableView, å› ä¸ºå®ƒçš„åˆ›å»ºæ–¹å¼ååˆ†å¤æ‚, ä½¿ç”¨èµ·æ¥ä¹Ÿè¯¸å¤šä¸ä¾¿, æ›´é‡è¦çš„æ˜¯ä¼šç ´åä¸²è¡Œçš„uiåˆ›å»ºé€»è¾‘. ä½†ä¸å¾—ä¸æ‰¿è®¤, æŸäº›æƒ…å†µä¸‹å®ƒå¯¹æ€§èƒ½çš„æå‡éå¸¸æœ‰å¸®åŠ©, å°¤å…¶æ˜¯åœ¨å­èŠ‚ç‚¹çš„æ•°é‡è¾¾åˆ° 20 ä¸ªä»¥ä¸Šçš„æ—¶å€™, ç®€ç›´æ˜¯è´¨çš„é£è·ƒ.</p>
<p>ä½†æ˜¯åŸºäº TableView ååˆ†éš¾ç”¨, åŠ ä¸Š lua è¿™è¾¹é€»è¾‘å‡ºé”™åå¹¶ä¸ä¼šæŠ›å‡º, debug ååˆ†ç—›è‹¦. ä¸ºæ­¤æˆ‘ä»¬ä¿®æ”¹äº†ä¸€äº› TableView çš„æºç , åŒæ—¶åœ¨ lua è¿™è¾¹æœ‰å°è£…äº†ä¸€å±‚, åšåˆ°äº†æ•°æ®å’Œç•Œé¢çš„åˆ†ç¦».</p>
<p>å½“ç„¶ quick-3.3 çš„ TableView å‘ä¸æ­¢è¿™äº›, æ„Ÿè§‰ä¸åšäº›ä¿®æ”¹åŸºæœ¬æ²¡æ³•ä½¿ç”¨. å…·ä½“ç»†èŠ‚, æˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­å’Œå¤§å®¶ç»†è¯´.</p>
<hr>
<p>å¯¹äºå…¶ä»–æƒ…å†µ, è‹¥æ˜¯ç•Œé¢éœ€è¦åŠ è½½çš„ä¸œè¥¿ç‰¹åˆ«å¤š, ç‚¹å‡»åä¼šæœ‰å‡ è¿‘å¡æ­»çš„çŠ¶æ€, åŒæ—¶å› ä¸ºé¡¶ç‚¹æ•°é‡å±…å¤š, è‹¥æ˜¯åŒæ—¶æ¸²æŸ“èƒŒæ™¯åœºæ™¯å’Œè¯¥ç•Œé¢, ä¼šè¿›ä¸€æ­¥åŠ å‰§å¡é¡¿æ•ˆæœ. </p>
<blockquote>
<p>é¡¶ç‚¹æ•°é‡å·¨å¤šçš„ç•Œé¢åŠ  loading åŠ¨ç”»</p>
</blockquote>
<p>è¿™ä¸ª loading ä¸åŒäºåˆ‡æ¢åœºæ™¯çš„ loading, å¯ä»¥åšçš„éå¸¸è½», éå¸¸ç®€å•, ç”¨æ¥é¿å…åŒæ—¶æ¸²æŸ“ä¸¤ä¸ªç•Œé¢å¯¼è‡´å¸§ç‡å‰§é™çš„æƒ…å†µ. å¯ä»¥æ˜¯ä¸€ä¸ªé—¨, é—¨å…³ä¸Šæ—¶, å‰ä¸€ä¸ªç•Œé¢å°±ä¸æ¸²æŸ“äº†, è¿™æ—¶åœ¨é—¨çš„åé¢åŠ è½½æ˜¾ç¤ºæ–°çš„ç•Œé¢, éšè—(è‡ªåŠ¨å‰”é™¤)æ—§çš„ç•Œé¢, é—¨æ‰“å¼€, è¿™æ—¶åªæœ‰æ–°çš„ç•Œé¢ä¼šè¢«æ¸²æŸ“å‡ºæ¥äº†.</p>
<p>å¯èƒ½åŒæ—¶æ¸²æŸ“ä¸¤ä¸ªç•Œé¢æ„Ÿè§‰ä¸åˆ°è¿™ä¹ˆæ˜æ˜¾çš„å˜åŒ–, ä½†æ˜¯æˆ‘ä»¬çš„å‰ä¸€ä¸ªç•Œé¢æ˜¯å¤§åŸºåœ°, æœ‰å°†è¿‘ 4000 ä¸ªé¡¶ç‚¹, 150 å¤šæ¸²æŸ“æ‰¹æ¬¡, è¿™æ ·å°±ä¼šååˆ†æ˜æ˜¾äº†.</p>
<h1 id="æ“ä½œç•Œé¢"><a href="#æ“ä½œç•Œé¢" class="headerlink" title="æ“ä½œç•Œé¢"></a>æ“ä½œç•Œé¢</h1><p>æ“ä½œç•Œé¢å¡é¡¿ä¸»è¦å‘ç”Ÿåœ¨å«æœ‰ ScrollView çš„ç•Œé¢, æˆ‘çœ‹äº†ä¸‹é€»è¾‘, åœ¨æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶, ä¼šå°† ScrollView çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ç§»é™¤æ‰, é‡æ–°åˆ›å»º. è¿™æ ·å®Œå…¨å°±æ˜¯ä¸€ä¸ªå·æ‡’çš„åšæ³•, åº”å½“æ˜¯å“ªé‡Œæœ‰æ•°æ®å˜åŒ–å°±åˆ·æ–°å“ªé‡Œ, é‚£äº›æ•°æ®åˆ é™¤äº†, å°±åˆ é™¤æ‰å¯¹åº”çš„å­èŠ‚ç‚¹, é‚£äº›æ•°æ®æ˜¯æ–°å¢çš„, å°±åˆ›å»ºä¸€äº›æ–°çš„èŠ‚ç‚¹åŠ å…¥è¿›å».</p>
<p>è¿™ä¸ªé—®é¢˜é«˜ç«¯æœºå¯èƒ½è§‰å¯Ÿä¸åˆ°, ä¸€åˆ° Android æ¸£æœºå°±å¡æˆç‹—, å®Œå…¨æ²¡æ³•ç©. è¿™é‡Œå¾—å‡ºçš„ç»éªŒå°±æ˜¯, å¹³æ—¶æµ‹è¯•çš„æ—¶å€™ä¸€å®šè¦æ‰¾ä¸€ä¸ªæ¸£æœº.</p>
<h1 id="å…³é—­ç•Œé¢"><a href="#å…³é—­ç•Œé¢" class="headerlink" title="å…³é—­ç•Œé¢"></a>å…³é—­ç•Œé¢</h1><p>å…³é—­ç•Œé¢æ—¶çš„ä¸»è¦é—®é¢˜æ˜¯åŠ¨ç”»ä¸æµç•…, ä»£ç å¹¶æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜. æˆ‘ä»¬çš„å…³é—­ç•Œé¢æœ‰ä¸€ä¸ªåŠ¨ç”», æ•´ä¸ªå±‚æ·¡å‡ºå¹¶å‘ä¸‹ç§»åŠ¨. è¿™æ ·å°±ä¼šåœ¨åŠ¨ç”»çš„è¿‡ç¨‹ä¸­éœ²å‡ºä¸‹é¢çš„åŸºåœ°ç•Œé¢, å¯¼è‡´åŒæ—¶æ¸²æŸ“é¡¶ç‚¹æ•°å‰§å¢, å¸§ç‡éª¤é™, è¡¨ç°å‡ºæ¥çš„ç°è±¡å°±æ˜¯ â€œä¸‰å¸§-å’”å’”å’”â€.</p>
<p>è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•, å»æ‰è¿™ä¸ªåŠ¨ç”»å°±, æ”¹æˆç›´æ¥ç§»é™¤. å¦‚æœå¤§å®¶è§‚å¯Ÿä¸€ä¸‹å…¶ä»–æ¸¸æˆ, åœ¨å…³é—­ç•Œé¢æ—¶ä¹Ÿå¤šæ˜¯æ²¡æœ‰åŠ¨ç”»çš„.</p>
<hr>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬é’ˆå¯¹ç•Œé¢åšçš„ä¼˜åŒ–, æ²¡æœ‰ä¸Šä»£ç , å¤šæ˜¯ç†è®ºæ€è·¯å’Œæ“ä½œæ–¹æ³•. åŒæ—¶æˆ‘é’ˆå¯¹å†…éƒ¨å°ä¼™ä¼´ä¹Ÿå†™äº†ä¸€ç¯‡æ–‡ç« , å†…å®¹å¤šæ˜¯ç±»ä¼¼, ä½†æ˜¯ä¼šæœ‰ä¸€äº›å…·ä½“ä»£ç ä¸Šè®²è§£. å¤§å®¶è‹¥æ˜¯æœ‰å…´è¶£çš„è¯, ä¹Ÿå¯ä»¥<a href="https://www.zybuluo.com/justbilt/note/289485" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a>é˜…è¯», è‹¥æ˜¯æœ‰ä»€ä¹ˆç–‘é—®åŠè§è§£, æ¬¢è¿æŒ‡å‡º.</p>
]]></content>
      
        
        <tags>
            
            <tag> æ¸¸æˆå¿ƒå¾— </tag>
            
            <tag> ä¼˜åŒ– </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å°† untp å‘å¸ƒåˆ° Pypi ä¸Š]]></title>
      <url>http://blog.justbilt.com/2016/02/29/publish-untp-to-pypi/</url>
      <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡å¹´ç»“çš„æ—¶å€™æœ‰æåˆ° <a href="https://github.com/justbilt/untp" target="_blank" rel="noopener">untp</a> è¿™ä¸ªå°å·¥å…·, å®ƒæ˜¯æˆ‘åœ¨ github æ”¶è· star æ•°æœ€å¤šçš„ä¸€ä¸ªé¡¹ç›®. è¿™ä¸ªé¡¹ç›®æœ¬æ˜¯æ— å¿ƒä¹‹ä¸¾, æ—¢ç„¶å—å¤§å®¶æ¬¢è¿, é‚£ä¹ˆä¸€å®šè¦å¥½å¥½ç»´æŠ¤ä¸‹å» ! å¯¹äºå®ƒåç»­çš„å‘å±•, æˆ‘æ‰“ç®—ä»ä¸¤ä¸ªæ–¹é¢å…¥æ‰‹:</p>
<ol>
<li>æ›´ä¾¿æ·çš„å®‰è£…</li>
<li>æ”¯æŒæ›´å¤šçš„æ ¼å¼</li>
</ol>
<a id="more"></a>
<p>ä¹‹å‰å”¯ä¸€ä¸€æ¬¡å‘å¸ƒæ—¶ç”¨ PyInstaller æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶æ¥å‘å¸ƒçš„, å¾ˆæ–¹ä¾¿, å‡ºæ¥çš„å®‰è£…åŒ…ä¹Ÿå¾ˆå°! ä½†æ˜¯æˆ‘æ—¶å¸¸ä¼šæ”¶åˆ°åœ¨ Mac ä¸Šå´©æºƒçš„åé¦ˆ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">illegal instruction 4</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªé”™è¯¯ä¸Šæˆ‘èŠ±è´¹äº†ç‰¹åˆ«å¤§çš„ç²¾åŠ›, å› ä¸ºåœ¨æ¨èç»™æœ‹å‹çš„æ—¶å€™å¹å¾—å¤©èŠ±ä¹±å , å®é™…å´å®Œå…¨è¿è¡Œä¸èµ·æ¥, è¿™ä¹Ÿå¤ªä¸ç»™æˆ‘é¢å­äº†å§.</p>
<p>Google ä¸Šå¯¹äºè¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯ä¼—è¯´çº·çº­, æ²¡æœ‰ä¸€ä¸ªèƒ½å¸®åˆ°æˆ‘. æˆ‘å°è¯•è¿‡å„ç§è§£å†³æ–¹æ¡ˆ, å‡é™çº§ PyInstaller, ç”¨ Python3 é‡å†™, ç”¨ PyQtDeploy æ‰“åŒ…. ä½†å´æ€»æ˜¯æ— åŠŸè€Œè¿”. PyQtDeploy å€’æ˜¯å¯ä»¥è§£å†³é—®é¢˜, ä½†æ˜¯æ‰“çš„åŒ…è¶³è¶³æœ‰ 30~40MB , æƒ³æƒ³è¿˜æ˜¯ç®—äº†å§.</p>
<p>æœ€åæˆ‘ä»”ç»†æƒ³äº†æƒ³, åœ¨ Mac ä¸Šå®Œå…¨æ²¡æœ‰å¿…è¦æ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶å‘€, ç³»ç»Ÿè‡ªå¸¦ python ç¯å¢ƒ, ç›´æ¥é€šè¿‡ pip å®‰è£…ä¸€ä¸‹å°±å¯ä»¥äº†å˜› ~</p>
<p>å…³äºå¦‚ä½•åˆ¶ä½œ,ä¸Šä¼ ,å‘å¸ƒè‡ªå·±çš„é¡¹ç›®, æ¨èå¤§å®¶é˜…è¯»è¿™ç¯‡æ–‡ç«  <a href="http://yejinxin.github.io/distribute-python-packages-to-pypi-server/" target="_blank" rel="noopener">å‘å¸ƒpythonçš„åŒ…è‡³pypiæœåŠ¡å™¨</a> , æ–‡ç« å†™çš„å¾ˆå¥½, é‡Œé¢å·²ç»æåˆ°å†…å®¹æˆ‘åœ¨ä¸‹é¢å°±ä¸èµ˜è¿°äº†.</p>
<h1 id="1-åˆ¶ä½œ-setup-py"><a href="#1-åˆ¶ä½œ-setup-py" class="headerlink" title="1. åˆ¶ä½œ setup.py"></a>1. åˆ¶ä½œ setup.py</h1><p>æˆ‘çš„ setup.py æ–‡ä»¶å¦‚ä¸‹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup, find_packages</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    name = <span class="string">'untp'</span>,</span><br><span class="line">    version = <span class="string">'1.0.2'</span>,</span><br><span class="line">    keywords = (<span class="string">'untp'</span>, <span class="string">'texturepacker'</span>),</span><br><span class="line">    description = <span class="string">'A command line tool to split TexturePacker publish file.'</span>,</span><br><span class="line">    license = <span class="string">'MIT License'</span>,</span><br><span class="line">    install_requires = [</span><br><span class="line">        <span class="string">'Pillow'</span>,</span><br><span class="line">        <span class="string">'parse'</span></span><br><span class="line">    ],</span><br><span class="line">    url = <span class="string">'https://github.com/justbilt/untp'</span>,</span><br><span class="line">    author = <span class="string">'justbilt'</span>,</span><br><span class="line">    author_email = <span class="string">'wangbilt@gmail.com'</span>,</span><br><span class="line">    scripts=[<span class="string">'untp.py'</span>],</span><br><span class="line">    entry_points=&#123;</span><br><span class="line">        <span class="string">'console_scripts'</span>: [</span><br><span class="line">            <span class="string">'untp = untp:main'</span>,</span><br><span class="line">        ],</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="entry-points"><a href="#entry-points" class="headerlink" title="entry_points"></a>entry_points</h2><p>ä½¿ç”¨ entry_points å­—æ®µ, å¯ä»¥ä¸ºé¡¹ç›®æ·»åŠ å¯æ‰§è¡Œå‘½ä»¤, åœ¨æˆ‘ä¸Šé¢çš„é…ç½®ä¸­, æˆ‘å°±æ·»åŠ äº† <code>untp</code> è¿™ä¸ªåå‘½ä»¤, ä¼šæ‰§è¡Œ untp.py çš„ main å‡½æ•°.</p>
<p>å…³äº entry_points çš„æ›´å¤šç”¨æ³•, å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="https://pythonhosted.org/setuptools/setuptools.html#automatic-script-creation" target="_blank" rel="noopener">Automatic Script Creation</a> .</p>
<h2 id="scripts"><a href="#scripts" class="headerlink" title="scripts"></a>scripts</h2><p>è¿™é‡Œé¢å€¼å¾—ä¸€æçš„æ˜¯ <code>scripts</code> å­—æ®µ, è¿™ä¸ªå­—æ®µå¥½å¤šæ–‡ç« éƒ½æ²¡æœ‰æ, ä½†æ˜¯åœ¨æˆ‘è¿™é‡Œå´å¼•å‘äº†ä¸€ä¸ªå¤§é—®é¢˜. æˆ‘çš„ç›®å½•ç»“æ„å¦‚ä¸‹:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">untp</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ setup.py</span><br><span class="line">â””â”€â”€ untp.py</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºé¡¹ç›®æ¯”è¾ƒå°, æˆ‘å°±ç›´æ¥å°† untp.py ç›´æ¥è£¸éœ²åœ¨é¡¹ç›®æ ¹ç›®å½•, å¼€å§‹æ²¡æœ‰æ·»åŠ  scripts å­—æ®µ, æ‰“åŒ…å®‰è£… <code>import</code> éƒ½æ²¡æœ‰é—®é¢˜, ä½†æ˜¯è¿è¡Œ <code>untp</code> æ—¶å´ä¼šæŠ¥æœ€ç»å…¸çš„ <code>ImportError</code> é”™è¯¯:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wanghaitaodeMacBook-Air:untp bilt$ untp</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"/usr/local/bin/untp"</span>, line 9, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    load_entry_point(<span class="string">'untp==1.0.2'</span>, <span class="string">'console_scripts'</span>, <span class="string">'untp'</span>)()</span><br><span class="line">  ...</span><br><span class="line">  File <span class="string">"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py"</span>, line 2361, <span class="keyword">in</span> resolve</span><br><span class="line">    module = __import__(self.module_name, fromlist=[<span class="string">'__name__'</span>], level=0)</span><br><span class="line">ImportError: No module named untp</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘å°±è¦ç–¯äº†, è¿™é‡Œä»€ä¹ˆä¸ªé¬¼æƒ…å†µ !!! ç›´åˆ°æˆ‘çœ‹åˆ°äº†è¿™ä¸ªé—®ç­”: <a href="http://stackoverflow.com/questions/19718813/module-not-found-during-load-entry-point-in-python" target="_blank" rel="noopener">module-not-found-during-load-entry-point-in-python</a> . æˆ‘æ‰æ„è¯†åˆ°, åŸæ¥æˆ‘ä¸€ç›´éƒ½æ²¡æœ‰å®‰è£…å¯¹, ä¹‹æ‰€ä»¥èƒ½å¤Ÿ import æˆåŠŸ, æ˜¯å› ä¸ºæˆ‘å°±åœ¨å½“å‰ (untp.py) ç›®å½•è¿è¡Œçš„ python ç»ˆç«¯.</p>
<p>ç„¶åå»å•ƒå®˜æ–¹æ–‡æ¡£, ç»è¿‡ä¸€ç•ªå°è¯•, å…¶ä»–äººä½¿ç”¨çš„ <code>packages = find_packages()</code>, åœ¨æˆ‘è¿™é‡Œå¹¶ä¸å¥½ä½¿, åªæœ‰æ‰‹åŠ¨æŒ‡å®š scripts æ‰å¯ä»¥ !</p>
<h1 id="2-æµ‹è¯•"><a href="#2-æµ‹è¯•" class="headerlink" title="2. æµ‹è¯•"></a>2. æµ‹è¯•</h1><p>æˆ‘è¿˜æ˜¯æ¨èå¤§å®¶å…ˆåœ¨ <code>testpypi.python.org</code> ä¸Šæµ‹è¯•æ­£ç¡®äº†å†ä¸Šä¼ åˆ°æ­£å¼çš„ <code>pypi.python.org</code>, å› ä¸ºä¸€ä½†åœ¨æ­£å¼æœåŠ¡å™¨æäº¤äº†, å°±å¿…é¡»ä»¥ç‰ˆæœ¬å·è¿­ä»£çš„ä»£ä»·æ¥æ›´æ­£ä¸Šæ¬¡æäº¤. è€Œåœ¨æµ‹è¯•æœåŠ¡å™¨ä¸Šå‘ç°é—®é¢˜çš„è¯, ç™»å½•åˆ é™¤ä¸€ä¸‹æœ‰é—®é¢˜çš„ç‰ˆæœ¬å°±å¯ä»¥äº†!</p>
<p>testpypi ä¹Ÿæ˜¯éœ€è¦æ³¨å†Œçš„, å’Œ pypi çš„æ³¨å†Œæ–¹æ³•ä¸€è‡´, æ³¨å†Œå®Œåˆ«å¿˜äº†å»é‚®ç®±éªŒè¯ä¸€ä¸‹.</p>
<p>æ³¨æ„ä¸Šä¼ çš„æ—¶å€™ä¸ä¸€å®šä¼šæˆåŠŸ, è¯´åœ¨ <code>.pypirc</code> ä¸­æ‰¾ä¸åˆ° testpypi çš„é…ç½®, è§£å†³æ–¹æ¡ˆå¯ä»¥çœ‹è¿™é‡Œ: <a href="https://wiki.python.org/moin/TestPyPI" target="_blank" rel="noopener">Test PyPI Server</a> .</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python setup.py register -r https://testpypi.python.org/pypi</span><br><span class="line">python setup.py upload -r https://testpypi.python.org/pypi</span><br><span class="line">pip install -i https://testpypi.python.org/pypi &lt;package name&gt;</span><br></pre></td></tr></table></figure>
<p>ç„¶åä½¿ç”¨ä¸Šé¢å‡ æ¡å‘½ä»¤è¿›è¡Œæµ‹è¯•æ³¨å†Œ,å‘å¸ƒ,å®‰è£….</p>
<h1 id="3-å‘å¸ƒ"><a href="#3-å‘å¸ƒ" class="headerlink" title="3. å‘å¸ƒ"></a>3. å‘å¸ƒ</h1><p>è¿™è¾¹æ²¡æœ‰ä»€ä¹ˆè¯´çš„, æµ‹è¯•æ²¡æœ‰é—®é¢˜ä¹‹å, å‘å¸ƒä¹Ÿä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜, åªæ˜¯ç½‘å€ä¸ä¸€æ ·è€Œå·². å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™, å¤§å®¶å·²ç»å¯ä»¥ä½¿ç”¨ <code>pip</code> æ¥å®‰è£…æœ€æ–°ç‰ˆçš„ untp äº†:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install untp</span><br></pre></td></tr></table></figure>
<p>â€“EOFâ€“</p>
]]></content>
      
        
        <tags>
            
            <tag> Tool </tag>
            
            <tag> untp </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ‰‹æœºæ¸¸æˆæ”»é˜²(ä¸‰) ç½‘ç»œæ¸¸æˆ]]></title>
      <url>http://blog.justbilt.com/2016/02/14/phone-game-AND-OLgame/</url>
      <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« å¥½æ—©å°±å†™äº†, ä¸€ç›´æ”¾åœ¨è‰ç¨¿ç®±, ä»Šå¤©æ•´ç†çš„æ—¶å€™å‘ç°äº†, äºæ˜¯ä¿®æ”¹äº†ä¸€ä¸‹å°±å‘å¸ƒäº†å‡ºæ¥ !</p>
<hr>
<p>å‰æ®µæ—¶é—´æˆ‘ä»¬çš„æ¸¸æˆå…¬æµ‹äº†ä¸‹, åœ¨å®‰å…¨è¿™æ–¹é¢é‡åˆ°äº†ä¸å°‘é—®é¢˜, å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹.</p>
<h2 id="1-é“å…·è´Ÿæ•°å–å‡º"><a href="#1-é“å…·è´Ÿæ•°å–å‡º" class="headerlink" title="1. é“å…·è´Ÿæ•°å–å‡º"></a>1. é“å…·è´Ÿæ•°å–å‡º</h2><p>å–å‡ºé“å…·æ˜¯å¤šæ•°æ¸¸æˆéƒ½æœ‰çš„ä¸€ä¸ªåŠŸèƒ½, <strong>é‚£ä¹ˆå¦‚æœå–å‡ºä¸€ä¸ªè´Ÿæ•°é‡çš„é“å…·å‘¢?</strong> å–å‡ºé“å…·çš„é€»è¾‘å¯èƒ½æ˜¯è¿™æ ·çš„:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sell</span><span class="params">(_id, _count)</span></span></span><br><span class="line">	item_data[_id].count = item_data[_id].count - _count</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°, å¦‚æœä¸åšä»»ä½•ä¿æŠ¤çš„è¯, ä¸€æ—¦ <code>_count</code> æ˜¯è´Ÿæ•°, å®é™…ä¼šå˜æˆ<strong>åŠ æ³•</strong>. æˆ‘ä»¬é‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯è¿™ä¸ª, ç©å®¶é€šè¿‡å…«é—¨ç¥å™¨æˆ–çƒ§é¥¼åŠ©æ‰‹ä¿®æ”¹å‡ºå”®æ•°é‡ä¸ºè´Ÿæ•°, è¿™æ ·å°±ä¼šå˜æˆå¢åŠ é“å…·. ä¸€èˆ¬æƒ…å†µä¸‹, æ¸¸æˆåç«¯ä¼šæ‹¦æˆªä½, è¿”å›å–å‡ºå¤±è´¥çš„ç»“æœ, ä½†æ˜¯ä¸å·§, ä»–ä»¬ä¹Ÿæ²¡æœ‰åšç±»ä¼¼çš„åˆ¤æ–­. </p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆ:</p>
</blockquote>
<p>å¯¹äºå‰ç«¯æ¥è¯´, å¯ä»¥ç²—æš´çš„æ–­è¨€ä¸€ä¸‹, å› ä¸ºæ­£å¸¸è‚¯å®šä¸ä¼šå‡ºç°è¿™ä¸ªæƒ…å†µ, ä¹Ÿå¯ä»¥æ¸©å’Œçš„ Alert ä¸€ä¸ªæç¤º. å¦‚ä¸‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sell</span><span class="params">(_id, _count)</span></span></span><br><span class="line">	<span class="keyword">if</span> _count &lt; <span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">		Alert.new(<span class="string">"å–å‡ºé“å…·æ•°é‡ä¸èƒ½å°äº1"</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	item_data[_id].count = item_data[_id].count - _count</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>ä½†è¿™ç§é™åˆ¶è‚¯å®šæ˜¯æœåŠ¡ç«¯åšçš„, æ¯•ç«Ÿå®¢æˆ·ç«¯è¿™é‡Œåªæ˜¯ç¬¬ä¸€é“é˜²çº¿, ä¸­é—´è¿˜æœ‰å¤ªå¤šçš„æ‰‹è„šå¯åš !</p>
<h2 id="2-æ¸¸æˆåŠ é€Ÿ"><a href="#2-æ¸¸æˆåŠ é€Ÿ" class="headerlink" title="2. æ¸¸æˆåŠ é€Ÿ"></a>2. æ¸¸æˆåŠ é€Ÿ</h2><p>çƒ§é¥¼åŠ©æ‰‹æœ‰ä¸€ä¸ªæ¸¸æˆåŠ é€Ÿçš„åŠŸèƒ½, ç±»ä¼¼äºå˜é€Ÿé½¿è½®. å¯ä»¥å°†æ¸¸æˆåŠ é€Ÿåˆ°åå€ç”šè‡³ç™¾å€çš„é€Ÿåº¦, ä¸€èˆ¬å¯¹äºç½‘æ¸¸æ¥è¯´, çœŸå®çš„æ—¶é—´æ˜¯æœåŠ¡ç«¯æ¥è®¡ç®—çš„, å®¢æˆ·ç«¯çš„è®¡æ—¶åªæ˜¯ä¸€ä¸ªè¡¨ç°. ä½†æ˜¯ç”±äºæˆ‘ä»¬çš„æˆ˜æ–—æ¨¡å—åŸºæœ¬ä¸Šæ˜¯ç¦»çº¿çš„, æ‰€ä»¥è¿™é‡Œåœ¨åŠ é€Ÿçš„æƒ…å†µä¸‹å‡ºäº†é—®é¢˜.</p>
<p>æˆ‘ä»¬æˆ˜æ–—æœ‰ä¸€ä¸ªç‰¹è‰²å°±æ˜¯ä¸»å…¬æŠ€, æ˜¯ä¸€ç³»åˆ—éå¸¸å¼ºå¤§çš„æŠ€èƒ½. å› æ­¤åœ¨æˆ˜æ–—ä¸­ä¼šä¸¥æ ¼æ§åˆ¶é‡Šæ”¾æ¬¡æ•°, é€šè¿‡<strong>æ¶ˆè€—èƒ½é‡</strong>å’Œ<strong>å†·å´æ—¶é—´</strong>æ¥å®ç°. æ­£å¸¸æƒ…å†µä¸‹, æˆ˜æ–—ä¸­åŠ é€Ÿçš„è¯æ•´ä¸ªæˆ˜æ–—çš„èŠ‚å¥å°±ä¼šåŠ å¿«, å› æ­¤ä¸ä¼šæœ‰é—®é¢˜.</p>
<p>ä½†æ˜¯ä¸çŸ¥ä¸ºä½•, æˆ‘ä»¬çš„äººç‰©åŠ¨ä½œåŠ é€Ÿåˆ°ä¸€å®šå€æ•°åå°±ä¼šåœæ­¢, è€Œä¸»å…¬æŠ€çš„èƒ½é‡å›å¤å’Œå†·å´é€Ÿåº¦å´ä¼šæ— é™å¢å¤§, å› æ­¤è¡¨ç°å‡ºæ¥çš„å°±æ˜¯ä¸»å…¬æŠ€å¯ä»¥<strong>æ— é™é‡Šæ”¾</strong>, ç©å®¶å¯ä»¥è½»æ¾æŒ‘æˆ˜æ•°å€å¼ºäºè‡ªå·±çš„æ•Œäºº!</p>
<p>å‘ç°è¿™ä¸ªé—®é¢˜å, æˆ‘å’Œå°ä¼™ä¼´ä»¬éƒ½æƒŠå‘†äº†, åŸæ¥è¿˜å¯ä»¥è¿™æ ·æ!!! </p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆ:</p>
</blockquote>
<p>ç°åœ¨æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯å°†ä¸»å…¬æŠ€çš„èƒ½é‡å›å¤é€Ÿåº¦ä¸äººç‰©åŠ¨ä½œè”ç³»èµ·æ¥, è¿™æ ·ä¸è‡³äºå¤ªå˜æ€. åŒæ—¶åŠ å…¥äº†æˆ˜æ–—çš„æ—¶é—´é™åˆ¶, å¦‚æœåŠ é€Ÿåˆ°10å€ä»¥ä¸Šçš„, æ—¶é—´å¾ˆå¿«ä¼šè€—å°½, æˆ˜æ–—å¤±è´¥! </p>
<p>ä½†æ˜¯æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªæ›´å¥½çš„åŠæ³•, èƒ½ä»æºå¤´è§£å†³è¿™ä¸ªé—®é¢˜, å°±æ˜¯<strong>å¯¹æ¯”ç³»ç»Ÿçš„æ—¶é—´æµé€ä¸æ¸¸æˆå†…çš„æ—¶é—´æµé€é€Ÿåº¦</strong>. ä¸€èˆ¬, å˜é€Ÿé½¿è½®åªä¼šæ”¹ä½ å½“å‰æ¸¸æˆçš„æ—¶é—´, æ²¡æ³•æ”¹åŠ¨ç³»ç»Ÿçš„æ—¶é—´. åªè¦æˆ‘ä¹ˆé€šè¿‡ native çš„å‡½æ•°è·å–åŸç”Ÿç³»ç»Ÿçš„æ—¶é—´, ä¸€å¯¹æ¯”å°±å¯ä»¥å‘ç°æœ‰æœ¨æœ‰ä½¿ç”¨åŠ é€Ÿäº†.</p>
<p>ä½†æ˜¯ç›®å‰è¿˜æ²¡æœ‰å»å®ç°è¿™ä¸ªæƒ³æ³•, æœ‰æœºä¼šå§!</p>
<h2 id="2-socket-æŠ“åŒ…-å‘åŒ…"><a href="#2-socket-æŠ“åŒ…-å‘åŒ…" class="headerlink" title="2. socket æŠ“åŒ…/å‘åŒ…"></a>2. socket æŠ“åŒ…/å‘åŒ…</h2><p>å½“çœ‹åˆ°ç¾¤é‡Œæœ‰ç©å®¶è®¨è®ºæŠ“åŒ…çš„æ—¶å€™, æˆ‘ä»¬éƒ½ç›®çªå£å‘†, è¿™å¹´å¤´ä½œå¼Šéƒ½éœ€è¦é«˜ç§‘æŠ€äº†! ç©å®¶é€šè¿‡æˆªå–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®åŒ…, é‡å¤å‘é€, è¿™æ ·å¯ä»¥è½»æ¾é¿å¼€å®¢æˆ·ç«¯çš„å„ç§é™åˆ¶, ä»è€Œè¾¾åˆ°ä½œå¼Šçš„ç›®çš„.</p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆ:</p>
</blockquote>
<p>æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆè¿˜æ˜¯å¾—é æœåŠ¡ç«¯ä¸¥è°¨çš„é€»è¾‘æ¥é¿å…, å„ç§æ£€æŸ¥å‚æ•°, æ£€æŸ¥è¿”å›å€¼! ä¹Ÿå¯ä»¥é€šè¿‡è®¾è®¡æ¥é¿å…, æ¯”å¦‚æ¯æ¬¡å‘é€æ•°æ®åŒ…éƒ½é™„åŠ ä¸€ä¸ª id å±æ€§, è¿™ä¸ª id ä¼šä»¥æŸç§è§„åˆ™å¢é•¿, æœåŠ¡ç«¯å“ªé‡Œä¹Ÿæœ‰ä¸€ä¸ª id , å¯¹æ¯”ä¹‹åå°±å¯ä»¥åˆ¤æ–­æ˜¯å¦ç©å®¶ä½œå¼Šäº† !</p>
<hr>
<p>å“ˆå“ˆ, ç»¼ä¸Šæ‰€è¿°, ä¸€ä¸ªæœ‰ç»éªŒçš„æ¸¸æˆæœåŠ¡ç«¯æ˜¯å¤šéº½çš„é‡è¦.</p>
]]></content>
      
        
        <tags>
            
            <tag> æ¸¸æˆå¿ƒå¾— </tag>
            
            <tag> æ‰‹æœºæ¸¸æˆæ”»é˜² </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ç»§ç»­è¿›æ­¥çš„ 2015]]></title>
      <url>http://blog.justbilt.com/2016/02/11/my-2015/</url>
      <content type="html"><![CDATA[<p>ä¹‹å‰çš„å‡ æ¬¡å¹´ç»“:</p>
<p><a href="/2014/05/01/my-2013">2013å¹´ç»“</a><br><a href="/2015/05/31/my-2014">2014å¹´ç»“</a></p>
<p>å› ä¸ºè‡ªå·±éå¸¸ä¸¥é‡çš„æ‹–å»¶ç—‡, ä¹‹å‰å‡ æ¬¡å¹´ç»“éƒ½æ‹–çš„å¥½æ™š (äº”æœˆ) æ‰å†™, è¿™æ¬¡ç»ˆäºå…‹æœäº†ä¸€ä¸‹, ä¸‹æ¬¡ä¸€å®šäº‰å–å…ƒæ—¦å†™, æ¯•ç«Ÿæ¯è¿‡ä¸€å¹´, éƒ½è¦æœ‰è¿›æ­¥çš„å˜›. è¿™æ¬¡å¹´ç»“è¿˜æ˜¯æŒ‰ç…§ä»¥å¾€çš„æƒ¯ä¾‹æ¥å†™, ä»å·¥ä½œ, æŠ€æœ¯, ç”Ÿæ´»è¿™å‡ ä¸ªæ–¹é¢æ¥åˆ‡å…¥æ¥å†™.</p>
<a id="more"></a>
<h1 id="å·¥ä½œ"><a href="#å·¥ä½œ" class="headerlink" title="å·¥ä½œ"></a>å·¥ä½œ</h1><h2 id="D-å…¬å¸-2014-7-2015-7"><a href="#D-å…¬å¸-2014-7-2015-7" class="headerlink" title="D å…¬å¸ (2014.7 - 2015.7)"></a>D å…¬å¸ (2014.7 - 2015.7)</h2><p>è¿™ä¸€å¹´å¤§åŠçš„æ—¶é—´éƒ½æ˜¯åœ¨ D å…¬å¸åº¦è¿‡çš„, å¯¹äº D , æˆ‘çš„æ„Ÿæƒ…æ˜¯å¾ˆå¤æ‚çš„, åœ¨ D æŠ•å…¥äº†æˆ‘æœ‰å²ä»¥æ¥æœ€å¤§çš„ç²¾åŠ›, å®Œå…¨å¯ä»¥è¯´ä¸€è…”çƒ­è¡€éƒ½æ´’åœ¨ä¸Šé¢äº†, æœ‰å·®ä¸å¤šåŠå¹´éƒ½æ˜¯ 9-11-6 çš„å·¥ä½œæ–¹å¼, è‹¥è¯´ä¸æ˜¯å› ä¸ºçƒ­çˆ±è¿™ä¸ªå·¥ä½œ, åˆæ€ä¹ˆä¼šè¿™æ ·? å¯¹äºé¡¹ç›®çš„æœ€ç»ˆå¤±åˆ©, æˆ‘æ²¡æœ‰è¿‡å¤šçš„è¯å¯è¯´, è™½è¯´è¿™ä¸€åˆ‡éƒ½åœ¨æ„æ–™ä¹‹ä¸­, ä½†ä¸ºä»€ä¹ˆè¿˜æ˜¯ä¼šæ„Ÿåˆ°å¤±è½.</p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1f0wqhs5mhjj20vk0no0uk.jpg" alt=""></p>
<blockquote>
<p>å›¾æ³¨: æ™šä¸Š 10:30 , æ‰“åŒ…å‰çš„æµ‹è¯•</p>
</blockquote>
<p>å…ˆè¯´è¯´ D å¥½çš„ä¸€é¢, ä¸å‰ç«¯å›¢é˜Ÿçš„ç›¸å¤„æ˜¯æˆ‘æ„Ÿåˆ°æœ€å¼€å¿ƒçš„ä¸€ç‚¹, å¥½å‹å®çˆ·<a href="http://weibo.com/u/1832998307" target="_blank" rel="noopener">@imbahom</a> , ä¸»ç¨‹ä¹Ÿæ˜¯æ›¾ç»çš„è€å¸ˆ <a href="http://weibo.com/u/5264215627" target="_blank" rel="noopener">@æ¡‚è€</a>, ä»¥åŠæ–°è®¤è¯†å¤çµç²¾æ€ªçš„å¦¹å­ @å°è’‹ç«¥é‹ . </p>
<p>å®çˆ·æ˜¯æˆ‘å¤šå¹´å¥½åŸºå‹, æ‰“å¾—ä¸€æ‰‹å¥½dota. åŒæ—¶æŠ€æœ¯èƒ½åŠ›æ¯‹åº¸ç½®ç–‘, ç»å¯¹æ˜¯å›¢é˜Ÿå¼€è’çš„å¥½æ‰‹. ä½†æ˜¯éšç€åˆä½œçš„æ·±å…¥, æˆ‘ä»¬åœ¨æŸäº›æ–¹é¢çš„åˆ†æ­§å¾ˆå¤§, åŠ ä¸Šæˆ‘ä»£ç æ´ç™–çš„ç—…è¶Šæ¥è¶Šé‡, å› æ­¤ä¹Ÿæœ‰è¿‡ä¸€äº›äº‰åµ. å“ˆå“ˆ, anyway, è¿™äº›å°äº‹æƒ…, å®Œå…¨ä¸å½±å“æˆ‘ä»¬ä¹‹é—´çš„æƒ…è°Š ! </p>
<p>å°è’‹ç«¥é‹æ˜¯å›¢é˜Ÿä¸­çš„å”¯ä¸€å¦¹å­, èº«ä¸º90å, ç‰¹åˆ«åˆ»è‹¦, è°¦è™š, ç»å¸¸ä¼šå†’å‡ºä¸€äº›ç¥è¯­å½•, å“ˆå“ˆå“ˆ, å¤§å®¶éƒ½å¾ˆå–œæ¬¢å¥¹. ä¸è¿‡ä½œä¸ºè¡Œä¸šä¸­çš„æ–°äºº, è‹¥æ˜¯æ²¡æœ‰ä¸€ä¸ªä¸¥å‰çš„å‰è¾ˆå¸¦é¢†, é‡ç”Ÿè›®é•¿ä¹‹ä¸‹, å®¹æ˜“èµ°ä¸€äº›å¼¯è·¯. </p>
<p>æ¡‚è€æœ€ç„¶å¹´é•¿ä¸€äº›, ä½†æ˜¯å¿ƒæ€ç‰¹åˆ«å¥½, ä¸æˆ‘ä¸‰è§‚å¾ˆåˆ, å¯¹äºæŠ€æœ¯çš„å°Šé‡å’Œå¯¹çƒ‚ä»£ç è¦å³æ—¶é‡æ„çš„è§‚ç‚¹çœŸæ˜¯å¤ªåˆæˆ‘å¿ƒæ„äº†. åŒæ—¶åœ¨ä»–æ— ä¸ºè€Œæ²»çš„ç®¡ç†è§‚å¿µä¸‹, æˆ‘çš„å¥½å¤šå»ºè®®éƒ½èƒ½å¾—åˆ°ä»–çš„ç§¯æå“åº”, å› ä¸ºä¹‹å‰éƒ½æ˜¯å•åˆ€ç‹¬æ–—, è¿™æ¬¡å›¢é˜Ÿé…åˆè®©æˆ‘æ„Ÿåˆ°ååˆ†èˆ’å¿ƒ.</p>
<p>å¥½çš„ä¸€æ–¹é¢, å…¬å¸æˆå‘˜å¤šæ•°éƒ½æ˜¯è¡Œä¸šä¸­è€å…µ, ç»éªŒä¸°å¯Œ, ä»ä»–ä»¬èº«ä¸Šå¯ä»¥å­¦åˆ°å¥½å¤šä¸œè¥¿. å¦ä¸€æ–¹é¢, å…¬å¸è™½å°, ä½†æ˜¯å¤§å®¶çš„é„™è§†é“¾å´å¾ˆé•¿, åç«¯çœ‹ä¸èµ·ç­–åˆ’, ç­–åˆ’çœ‹ä¸èµ·ç¾æœ¯, åŒæ—¶ç­–åˆ’ä¹‹é—´åˆäº’ç›¸é„™è§†, å®Œå…¨å°±ä¸æ˜¯ä¸€å‰¯é½å¿ƒååŠ›å¹²äº‹æƒ…çš„æ ·å­. </p>
<p>å›¢é˜Ÿé…åˆè®©äººæ“ç¢äº†å¿ƒ, å´åŠè·¯åˆå¼€äº†ä¸€ä¸ªé¡¹ç›®, æ‹›äº†ä¸€æ‰¹æˆå‘˜, åˆè°ƒèµ°äº†å‡ ä¸ª, å¯¹äºè¿™äº›, åªèƒ½å‘µå‘µåˆå‘µå‘µäº†! åŒæ—¶å…¬å¸å¯¹äºæ—¶é—´èŠ‚ç‚¹æ¯«æ— è§‚å¿µ, è®¡åˆ’ä¸€æ‹–å†æ‹–, ä»£ç æ”¹äº†åˆæ”¹.</p>
<p>æˆ‘æƒ³å¤šæ•°æœ‰ä¸€äº›è§„æ¨¡çš„å…¬å¸å¯èƒ½éƒ½æ˜¯å’Œ D å·®ä¸å¤šçš„æƒ…å†µ, è¿™æ ·çš„å…¬å¸æˆ‘æƒ³åœ¨æˆ‘æ¿€æƒ…é€€å´ä¹‹å‰æ˜¯ä¸æƒ³å†åŠ å…¥äº† !</p>
<h2 id="C-å…¬å¸-2015-7"><a href="#C-å…¬å¸-2015-7" class="headerlink" title="C å…¬å¸ (2015.7 ~ )"></a>C å…¬å¸ (2015.7 ~ )</h2><p>å•Š, ä¸æ˜¯è¯¥ E å…¬å¸äº†ä¹ˆ? æ²¡é”™, æˆ‘åˆå›åˆ°äº† C å…¬å¸. åœ¨ @Bin å’Œæˆ‘æ¥è§¦çš„æ—¶å€™, æˆ‘æ˜¯éå¸¸çº ç»“çš„, å› ä¸ºåœ¨æˆ‘çš„è§‚ç‚¹ä¸­, åˆ†æ‰‹äº†è¿˜åšæœ‹å‹æ˜¯ä¸å¤ªå¯èƒ½çš„, æ›´åˆ«æå¤åˆäº†. åŒæ—¶æˆ‘çš„é€‰æ‹©ä¹Ÿå¾ˆå¤š, ç•™åœ¨ D, D çš„è€æ¿æ‰¿è¯ºåŠ è–ªåˆ†è‚¡; å¾ˆæ—©è®¤è¯†çš„ä¸€ä¸ªå¤§å“¥æ¨èæˆ‘å»ä»–ä»¬å…¬å¸, ç”¨æˆ‘ä¸€ç›´æƒ³ç”¨ Unity3D , é¾™å›¾æŠ•èµ„, æŠ€æœ¯è€å¤§ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸ nice çš„äºº; æˆ–è€…ç¦»å¼€åŒ—äº¬, å»ä¸€ä¸ªé™Œç”Ÿçš„åœ°æ–¹é‡æ–°å¼€å§‹.</p>
<p>é‚£ä¹ˆåœ¨ä¸€æ¬¡æ¬¡çº ç»“ä¹‹å, æˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©äº† C ? æ˜¯å› ä¸ºå¯¹é™Œç”Ÿæœªæ¥çš„ææƒ§ ? æ˜¯æ‰“å¿ƒåº•è®¤å¯ C ? æˆ–è€…æ˜¯è¢« bin çš„è¯šæ„æ‰“åŠ¨, æˆ–è€…æ˜¯ç¦»åˆ«æ—¶é‚£ä¸€å¥éšå£çš„æ‰¿è¯º. </p>
<blockquote>
<p>æˆ‘æš‚æ—¶ç¦»å¼€, è‹¥æœ‰æœºä¼šæˆ‘è¿˜æ˜¯ä¼šå›æ¥ !</p>
</blockquote>
<p>é‡æ–°å½’æ¥çš„ C, æµ´ç«é‡ç”Ÿçš„ C,  æˆ‘åœ¨ C åˆå°†è°±å†™å‡ºä¸€æ®µä»€ä¹ˆæ ·çš„ç¯‡ç« , æˆ‘ç°åœ¨è¿˜æ— æ³•ç»†è¯´, åªèƒ½è¯´æˆ‘åœ¨ C éå¸¸å¿«ä¹, ç¨³æ­¥è¿›æ­¥çš„åŒæ—¶åˆæ¥è§¦åˆ°ä¸€äº›å‰æ‰€æœªæœ‰çš„ä¸œè¥¿.</p>
<h1 id="æŠ€æœ¯"><a href="#æŠ€æœ¯" class="headerlink" title="æŠ€æœ¯"></a>æŠ€æœ¯</h1><h2 id="1-Sublime-Text"><a href="#1-Sublime-Text" class="headerlink" title="1. Sublime Text"></a>1. Sublime Text</h2><p>æœ€æ—©æ¥è§¦ Sublime Text (ST), ä¹Ÿç®—æ˜¯æœºç¼˜å·§åˆ, å¾ˆæ—©ä¹‹å‰ä¸ @Bin èŠå¤©æ—¶æ— æ„é—´æåŠ, æˆ‘ä¾¿è®°åœ¨äº†å¿ƒç†. ä¸‹è½½ä¸‹æ¥æ—¶å€™æ›´æ˜¯æƒŠä¸ºå¤©äºº, ä½œä¸ºä¸€ä¸ª IDE ç‹—, ä»æœªæƒ³è¿‡ç¼–è¾‘å™¨ç«Ÿå¯ä»¥å¦‚æ­¤è½»ä¾¿, å¦‚æ­¤å¥½ç”¨. å†æ¬¡æœŸé—´, æˆ‘å°è¯•è¿‡ Vim, Emacs, Atom, ç­‰å¤šæ¬¾ç¼–è¾‘å™¨, ä½†ä»æœªæ”¹å˜è¿‡å¯¹ ST çš„å–œçˆ±.</p>
<p>åæ¥, bin ç«Ÿè½¬å‘ pycharm, è¿™ä¸ªå¯æ¶çš„å›å¾’, å¿…é¡»çƒ§æ­»!!! é€ƒ :)</p>
<p>ä½†æ˜¯è¿™ä¸ªæ—¶å€™, æˆ‘åªæ˜¯æ‹¿ ST å½“åšä¸€æ¬¾æ™®é€šçš„ç¼–è¾‘å™¨ä½¿ç”¨, å†™å†™ python ä»£ç , æ²¡æœ‰è£…ä»»ä½•æ’ä»¶. æ¥ä¸‹æ¥, è½¬åˆ°ä½¿ç”¨ quick-cocos2d-x çš„æ—¶å€™, å› ä¸º QuickXDev çš„åŸå› , å¤§å®¶æ¨èçš„ä¹Ÿæ˜¯ ST ä½œä¸ºä¸»åŠ›å¼€å‘ç¯å¢ƒ, åœ¨è¿™ä¸ªæ—¶å€™, æ‰ç®—æ˜¯çœŸæ­£çš„ä½¿ç”¨ ST .</p>
<p>ç›´åˆ°ä»Šå¹´, æˆ‘çš„ç¬¬ä¸€æ¬¾ ST æ’ä»¶ <a href="https://github.com/justbilt/sublime-falign" target="_blank" rel="noopener">FAlign</a> å‘å¸ƒ, æˆ‘å¯¹ ST çš„ç†è§£æ€»ç®—è¾¾åˆ°äº†å…¨é¢çš„æ ‡å‡†å•¦!</p>
<h2 id="2-ccb2lua"><a href="#2-ccb2lua" class="headerlink" title="2. ccb2lua"></a>2. ccb2lua</h2><p>è¿™ä¸ªææ€•æ˜¯æˆ‘ä»Šå¹´æœ€å¾—æ„çš„ä½œå“äº†, å®ç°äº†å°† CocosBuilder çš„ç•Œé¢æ–‡ä»¶è½¬åŒ–ä¸º lua ä»£ç çš„åŠŸèƒ½. å› ä¸ºä½¿ç”¨ jinja2 ä½œä¸ºæ¨¡æ¿, å…¨éƒ¨çš„æ˜ å°„é€»è¾‘éƒ½å†™åœ¨æ¨¡æ¿ä¸­, æ‰€ä»¥å®ƒçš„çµæ´»æ€§åŠå¯æ‰©å±•æ€§éƒ½æé«˜. å“ˆå“ˆ, å› ä¸ºä»£ç ç›®å‰è¿˜æ— æ³•å¼€æº, æ‰€ä»¥æˆ‘å°±ä¸ç»†è¯´, å…å¾—è¢«è®¤ä¸ºå¹ç‰›é€¼ ~</p>
<h2 id="3-æ­£åˆ™"><a href="#3-æ­£åˆ™" class="headerlink" title="3. æ­£åˆ™"></a>3. æ­£åˆ™</h2><p>è‹¥è¯´ä»Šå¹´æœ‰ä»€ä¹ˆç‰¹åˆ«å€¼å¾—ä¸€æ, é‚£ä¹ˆå°±æ˜¯ç»ˆäºé™æœäº†æ­£åˆ™è¡¨è¾¾å¼è¿™å¤´çŒ›å…½äº†. æ—©åœ¨å¾ˆå¤šå¹´å°±è¢«ä¸€ä¸ªå¥½å‹å®‰åˆ©è¿‡æ­£åˆ™, <a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹</a> è¿™ç¯‡æ•™ç¨‹ä¹Ÿçœ‹äº†å¥½å‡ é, å´ä¸€ç›´æ²¡æœ‰å…¥é—¨. ç›´åˆ°æˆ‘åšä¸€ä¸ªå°å·¥å…·çš„æ—¶å€™, æ‰è¢«è¿«åˆçœ‹äº†ä¸€é, å†™äº†å‡ ä¸ªè¡¨è¾¾å¼ä¹‹å, ç»ˆäºå…¥äº†é—¨. è¿›äº†è¿™æ‰‡é—¨ä¹‹å, æ‰å‘ç°å„ç§æ–¹ä¾¿å„ç§å¥½, ä»æ­¤ä¸€å‘ä¸å¯æ”¶æ‹¾, æŠŠä¹‹å‰å¥½å¤šå†™çš„éå¸¸è¹©è„šçš„åœ°æ–¹éƒ½ç”¨æ­£åˆ™é‡æ–°å®ç°äº†ä¸‹. </p>
<p>æœç„¶, åªæœ‰åœ¨é‡å‹ä¹‹ä¸‹, æ‰èƒ½å…‹æœæ‹–å»¶ç—‡!!!</p>
<h2 id="4-untp"><a href="#4-untp" class="headerlink" title="4. untp"></a>4. untp</h2><p>å¯¹äºè¿™ä¸ªå°å·¥å…·, æˆ‘ä¹Ÿå¾ˆæ»¡æ„ ! å½“æ—¶çœŸçš„æœ‰å¸®åˆ°æˆ‘å¥½å¤š, ä¸ºæ­¤æˆ‘è¿˜ç‰¹æ„å†™äº†ä¸€ç¯‡æ–‡ç« , <a href="/2015/04/19/untp">ä¸€ä¸ªå‘½ä»¤è¡Œçš„ TexturePacker æ‹†è§£å·¥å…·</a>, è¿™ä¸ªå°å·¥å…·, ä¹Ÿæˆä¸ºäº†ä¸º Github ä¸Š star æ•°æœ€å¤šçš„ä¸€ä¸ªé¡¹ç›®, å¿ä¸ä½å°è‡ªè±ªä¸€æŠŠ.</p>
<h2 id="5-æ‰“å­—"><a href="#5-æ‰“å­—" class="headerlink" title="5. æ‰“å­—"></a>5. æ‰“å­—</h2><p>è¿™ä¹Ÿå€¼å¾—ä¸€æ ? ææ€•æ˜¯çš„, å°±æ‰“å­—æ–¹é¢, æˆ‘ä¸€ç›´æ²¡æœ‰è¿›è¡Œè¿‡ç³»ç»Ÿçš„è®­ç»ƒ. ä»æœ€å¼€å§‹çš„ â€œä¸€æŒ‡ç¦…â€ åˆ°åæ¥çš„ä¸¤åªæ‰‹å››äº”æ ¹æŒ‡å¤´æ‰“å­—, é”™è¯¯ç‡æé«˜ä¸è¯´, é€Ÿåº¦åˆ°ä¸€å®šç¨‹åº¦ä¹‹åä¹Ÿéš¾ä»¥å†æå‡. ä½†æ˜¯è¿™ä¸€åˆ‡æˆ‘ä¸€ç›´ä¸ä»¥ä¸ºç„¶, è®¤ä¸ºç¼–ç¨‹æœ€é‡è¦çš„æ˜¯æ€æƒ³, ç›´åˆ°æœ‰ä¸€å¤©, bin åœ¨æœ‹å‹åœˆå‘äº†è¿™ä¹ˆä¸€æ¡:</p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1f0vqg8j0zej20k005jjs1.jpg" alt=""></p>
<p>è™½ç„¶ä¸æ˜¯åœ¨è¯´æˆ‘, ä½†æˆ‘ä»æ—§æ„Ÿåˆ°å¾ˆç¾æ„§. äººçŸ¥è€»è€Œåå‹‡, åŒæ—¶åˆæ‰¾åˆ°äº†ä¸€ä¸ªç¥å™¨ <a href="http://zhihu.com/question/27021761/answer/53323794" target="_blank" rel="noopener">TT</a> , ç»è¿‡ä¸€ç•ªè‹¦ç»ƒ, æˆ‘çš„WPM (æ¯åˆ†é’Ÿæ•²ä¸‹å¤šå°‘ä¸ªå•è¯) ç»ˆäºè¾¾åˆ°äº† 30 , è¿™ä¸ªé€Ÿåº¦ç›¸æ¯”ä¹‹å‰å·²æ˜¯å¤©ç¿»åœ°è¦†çš„å˜åŒ–äº†, ä»Šå¹´æˆ‘ä¸€å®šè¦ç»§ç»­è‹¦ç»ƒ, äº‰å–è¾¾åˆ° 50 !</p>
<h1 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h1><p>ä»Šå¹´æœ€é‡è¦çš„äº‹æƒ…å°±æ˜¯ä¸ç›¸æ‹ä¸‰å¹´çš„å¥³å‹æ­¥å…¥äº†å©šå§»çš„æ®¿å ‚, åª³å¦‡æƒ³ç€å¤šçœäº›é’±, å› æ­¤å©šç¤¼åŠçš„ç›¸å¯¹æ¯”è¾ƒç®€å•, åª³å¦‡è¿™ä¹ˆæ‡‚äº‹, æˆ‘æ˜¯å¾ˆå¼€å¿ƒä½†ä¹Ÿå¾ˆç¾æ„§. </p>
<p>å©šåçš„ç”Ÿæ´»ä¸ä¹‹å‰å¹¶æ²¡æœ‰å¤ªå¤§çš„å˜åŒ–, æ›´å¤šæ˜¯ä½“ç°åœ¨å¿ƒçµçš„å˜åŒ–ä¸Š, åª³å¦‡è„¾æ°”è¶Šæ¥è¶Šå¥½, æˆ‘ä¹Ÿæ›´åŠ æ„¿æ„è®©ç€å¥¹, è¿™ç§æ„Ÿè§‰çœŸçš„å¥½æ£’. å¦‚æœä¸å‡ºæ„å¤–çš„è¯, æ¥ä¸‹æ¥è¿˜æœ‰å¥½å‡ å¹´æ‚ é—²çš„æ—¶å…‰, è¶ç€è¿™ä¸ªæœºä¼š, åŠªåŠ›æå‡è‡ªå·±, äº‰å–æŠ€æœ¯äº‹ä¸šä¸Šæœ‰å¤§çš„è¿›æ­¥.</p>
<p>å…³äºç”Ÿæ´», ä¸æƒ³å¤šè¯´ä»€ä¹ˆ, å¹³å¹³æ·¡æ·¡, çœŸçœŸåˆ‡åˆ‡, è¿™æ ·æŒºå¥½ !</p>
]]></content>
      
        
        <tags>
            
            <tag> å¹´ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[quickx-3.3 çƒ­æ›´æ–°è‹¥å¹²å¿ƒå¾—]]></title>
      <url>http://blog.justbilt.com/2016/01/01/quickx-hotupdate/</url>
      <content type="html"><![CDATA[<p>å…³äºçƒ­æ›´æ–°, è™½ç„¶è¿™å·²ç»æ˜¯ç¬¬ä¸‰æ¬¡å®ç°äº†, ä½†æ¯ä¸€æ¬¡éƒ½ä¼šæœ‰æ–°çš„æ”¶è·, éƒ½ä¼šæ¯”ä¸Šæ¬¡æ›´åŠ å®Œå–„ä¸€ä¸‹.</p>
<a id="more"></a>
<h1 id="ä¸€-App-ç‰ˆæœ¬å·çš„è·å–"><a href="#ä¸€-App-ç‰ˆæœ¬å·çš„è·å–" class="headerlink" title="ä¸€. App ç‰ˆæœ¬å·çš„è·å–"></a>ä¸€. App ç‰ˆæœ¬å·çš„è·å–</h1><p>å¯¹äºæˆ‘ä»¬çš„æ¸¸æˆæ¥è¯´,å…¶å®æ˜¯æœ‰ä¸¤ä¸ªç‰ˆæœ¬é…ç½®çš„,ä¸€ä¸ªæ˜¯ <code>versionName</code>, ä¸€ä¸ªæ˜¯ <code>versionCode</code>. versionName åªæ˜¯ä¸€ä¸ªæ˜¾ç¤º, ç±»ä¼¼äº <code>1.2.3</code>, è€Œ versionCode, å®ƒæ˜¯ä¸€ä¸ªçº¯æ•°å­—çš„å­—ç¬¦ä¸² (e.g. 4083), å®ƒå¯ä»¥ç®€å•çš„<strong>è½¬åŒ–ä¸º int å»å¯¹æ¯”ç‰ˆæœ¬å¤§å°</strong>. é‚£ä¹ˆå¦‚ä½•å»è·å–appå¯¹åº”çš„ç‰ˆæœ¬å‘¢ ?</p>
<p>iOS:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> Device::getAppVersionCode()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> [[[NSBundle mainBundle] objectForInfoDictionaryKey:@<span class="string">"CFBundleVersion"</span>] cStringUsingEncoding:NSUTF8StringEncoding];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>MacOS ä¸Šè·å–ç‰ˆæœ¬å·çš„æ–¹å¼ä¸ iOS ä¸€è‡´.</p>
<p>Android:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getAppVersionCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String versionCode = <span class="string">""</span>;</span><br><span class="line">    PackageInfo pInfo;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        pInfo = sActivity.getPackageManager().getPackageInfo(sActivity.getPackageName(), <span class="number">0</span>);</span><br><span class="line">        versionCode = <span class="string">""</span>+pInfo.versionCode;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NameNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> versionCode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸ºäº†è°ƒç”¨è¿™ä¸ªæ–¹æ³•, æˆ‘ä»¬è¿˜éœ€è¦é¢å¤–å®ç°ä¸€ä¸ª jni çš„è°ƒç”¨.</p>
<h1 id="äºŒ-å¦‚ä½•ä¿®æ”¹-Mac-ä¸Š-UserDefault-è®°å½•"><a href="#äºŒ-å¦‚ä½•ä¿®æ”¹-Mac-ä¸Š-UserDefault-è®°å½•" class="headerlink" title="äºŒ. å¦‚ä½•ä¿®æ”¹ Mac ä¸Š UserDefault è®°å½•"></a>äºŒ. å¦‚ä½•ä¿®æ”¹ Mac ä¸Š UserDefault è®°å½•</h1><p>quickx-3.3 Mac ç‰ˆä¸å†åƒ 2.x æ—¶å°† UserDefault ä¿å­˜åœ¨é¡¹ç›®çš„æ ¹ç›®å½•, è€Œæ˜¯ä½¿ç”¨ <code>NSUserDefaults</code> å°†é…ç½®ä¿å­˜åœ¨äº†ç³»ç»Ÿçš„é…ç½®ç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/Library/Preferences/com.cocos.quick.apps.player.plist</span><br></pre></td></tr></table></figure>
<p>åŒå‡»å¯ä»¥ä½¿ç”¨ XCode æ‰“å¼€, <strong>ä¿®æ”¹ä¿å­˜å®Œæ¯•åå¹¶ä¸ä¼šç«‹åˆ»ç”Ÿæ•ˆ</strong>, è€Œæ˜¯éœ€è¦å†é¢å¤–è¿è¡Œä¸€æ¡å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall -SIGTERM cfprefsd</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰-å¦‚ä½•é‡å¯æ¸¸æˆ"><a href="#ä¸‰-å¦‚ä½•é‡å¯æ¸¸æˆ" class="headerlink" title="ä¸‰. å¦‚ä½•é‡å¯æ¸¸æˆ"></a>ä¸‰. å¦‚ä½•é‡å¯æ¸¸æˆ</h1><p>è¿™ä¸ªåšæ³•æœ‰å¥½å¤š, çº¯Appå±‚é¢çš„, çº¯Luaå±‚é¢çš„, æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªè™½ç„¶å¾ˆåœŸä½†å´å¾ˆç®€å•çš„åšæ³•. å› ä¸ºçƒ­æ›´æ–°åªä¼šæ›´æ–° lua ä»£ç å’Œèµ„æº, å› æ­¤å¯ä»¥é€šè¿‡é‡å¯ LuaEngine, æ¸…ç©ºä¸‰å¤§ç¼“å­˜æ¥å®ç°é‡å¯. åœ¨ Lua ä¸­å‘é€é‡å¯æ¶ˆæ¯, C++ æ¥æ”¶åˆ°æ¶ˆæ¯åé”€æ¯å¹¶é‡æ–°åˆ›å»º LuaEngine. å…³é”®ä»£ç å¦‚ä¸‹:</p>
<p>Lua:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cc.Director:getInstance():getEventDispatcher():dispatchEvent(cc.EventCustom:new(<span class="string">"NEED_RESTART_APP"</span>))</span><br></pre></td></tr></table></figure>
<p>AppDelegate.cpp:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›‘å¬é‡å¯äº‹ä»¶</span></span><br><span class="line"><span class="keyword">auto</span> callBack = [<span class="keyword">this</span>](EventCustom* event)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//do restart LuaEngine</span></span><br><span class="line">&#125;;</span><br><span class="line">Director::getInstance()-&gt;getEventDispatcher()-&gt;addCustomEventListener(<span class="string">"NEED_RESTART_APP"</span>, callBack);</span><br></pre></td></tr></table></figure>
<h1 id="å››-ä»£ç æ›´æ–°ç­–ç•¥"><a href="#å››-ä»£ç æ›´æ–°ç­–ç•¥" class="headerlink" title="å››. ä»£ç æ›´æ–°ç­–ç•¥"></a>å››. ä»£ç æ›´æ–°ç­–ç•¥</h1><p>å¤§ä½“åˆ†ä¸ºä¸‰ç±»:</p>
<ol>
<li>å…¨é‡æ›´æ–°</li>
<li>ç›¸å¯¹äºä¸Šä¸€ä¸ªç‰ˆæœ¬å¢é‡æ›´æ–°</li>
<li>ç›¸å¯¹äºæ¸ é“ç‰ˆæœ¬å¢é‡æ›´æ–°</li>
</ol>
<p><strong>å…¨é‡æ›´æ–°</strong>æŒ‡æ¯ä¸€ä¸ªçƒ­æ›´æ–°åŒ…å†…éƒ½å«æœ‰é¡¹ç›®å…¨éƒ¨ä»£ç , å¦‚æœé¡¹ç›®ä½“é‡è¾ƒå°çš„è¯å‹‰å¼ºå¯ä»¥æ¥æ”¶è¿™ç§æ–¹æ¡ˆ, å¦‚æœé¡¹ç›®ç•¥å¤§ä¸€äº›, æ›´æ–°åŒ…å°±ä¼šå¾ˆå¤§, éšä¾¿æ›´æ”¹ä¸€è¡Œä»£ç éƒ½ä¼šæœ‰ 3,4M çš„æ›´æ–°, å®ä¹ƒä¸‹ä¸‹ä¹‹ç­–.</p>
<p><strong>ç›¸å¯¹äºä¸Šä¸€ä¸ªç‰ˆæœ¬å¢é‡æ›´æ–°</strong>, è¿™æ ·æ›´æ–°åŒ…å°±ä¼šå°å¾ˆå¤š, è¾¾åˆ°èµ„æºçš„æœ€å¤§åˆ©ç”¨, ç¼ºç‚¹æ˜¯å¦‚æœç‰ˆæœ¬ç›¸å·®è¾ƒå¤§å°±ä¼šéœ€è¦ä¸‹è½½å¤šä¸ªæ›´æ–°åŒ…, å¦‚æœä»£ç é‡‡ç”¨ zip å‹ç¼©çš„è¯, éœ€è¦å°†è¿™äº› zip (e.g. <code>1.1-1.2.zip</code>, <code>1.2-1.3.zip</code>)éƒ½åŠ è½½è¿›æ¥.</p>
<p><strong>ç›¸å¯¹äºæ¸ é“ç‰ˆæœ¬å¢é‡æ›´æ–°</strong>, è¿™ä¸€ç§æŠ˜ä¸­çš„è§£å†³æ–¹æ¡ˆ, å¯¹æ¯”å·®å¼‚æ˜¯æ°¸è¿œæ˜¯åŸºäºçº¿ä¸Šæ¸ é“ç‰ˆæœ¬, è¿™ç§åšæ³•çš„ä¼˜ç‚¹åœ¨äºæ¸¸æˆåªç”¨é¢å¤–æŒ‚è½½ä¸€ä¸ª <code>patch.zip</code>, ç©å®¶ä¹Ÿåªç”¨æ›´æ–°ä¸€æ¬¡å³å¯åˆ°æœ€æ–°ç‰ˆ, è€Œä»£ä»·åªæ˜¯ä¼šå¢åŠ ä¸€äº›æœåŠ¡å™¨æ›´æ–°åŒ…çš„å­˜å‚¨å¼€é”€.</p>
<p>å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…, æˆ‘ä»¬éƒ½å¾ˆ low çš„é‡‡ç”¨äº†ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆ, é€ æˆè¿™ç§é”™è¯¯çš„åŸå› åœ¨äºæˆ‘é”™è¯¯çš„ä¼°è®¡äº†å¢é‡æ›´æ–°çš„éš¾åº¦, è¿›è€Œæ”¾å®½äº†è‡ªæˆ‘è¦æ±‚, è§‰å¾—å…¨é‡æ›´æ–°è¿˜OK balabalaâ€¦ å¤šäºäº† @BinStartup ç«¥é‹å¼ºçƒˆåœ°éœ€æ±‚, æ‰è¿«ä½¿æˆ‘ä»¬å»è€ƒè™‘æ›´ä¼˜è§£å†³æ–¹æ¡ˆ, ç”¨æˆ‘ä»¬å†…éƒ¨çš„ä¸€ä¸ªæ¢—æ¥å¤¸èµä¸€ä¸‹ Bin ç«¥é‹: â€˜ç‰›é€¼å‘€~â€™ . </p>
<h1 id="äº”-æ›´æ–°åŒ…çš„åˆ¶ä½œ"><a href="#äº”-æ›´æ–°åŒ…çš„åˆ¶ä½œ" class="headerlink" title="äº”. æ›´æ–°åŒ…çš„åˆ¶ä½œ"></a>äº”. æ›´æ–°åŒ…çš„åˆ¶ä½œ</h1><p>ç›¸æ¯”äºä»£ç å±‚é¢çš„çƒ­æ›´æ–°æ”¯æŒ, è‡ªåŠ¨åŒ–çš„åˆ¶ä½œçƒ­æ›´æ–°åŒ…æ‰æ˜¯æ›´ä¸ºé‡è¦çš„äº‹æƒ…, å› ä¸ºè¿™ä¸ªæ“ä½œä¼šæŒç»­çš„å‘ç”Ÿ, å¹¶ä¸”éšç€æ›´æ–°æ¬¡æ•°çš„å¢å¤šå¤æ‚åº¦ä¼šå‰§å¢.</p>
<p>ä»å¤§çš„å±‚é¢æ¥çœ‹, æ›´æ–°åŒ…çš„åˆ¶ä½œä¸»è¦æœ‰è¿™ä¹ˆå‡ ä¸ªé—®é¢˜:</p>
<h2 id="1-å¦‚ä½•æ ‡è®°å¹¶å¯¼å‡ºç‰ˆæœ¬"><a href="#1-å¦‚ä½•æ ‡è®°å¹¶å¯¼å‡ºç‰ˆæœ¬" class="headerlink" title="1. å¦‚ä½•æ ‡è®°å¹¶å¯¼å‡ºç‰ˆæœ¬?"></a>1. å¦‚ä½•æ ‡è®°å¹¶å¯¼å‡ºç‰ˆæœ¬?</h2><p>é¦–å…ˆæˆ‘ä»¬è¦è€ƒè™‘å¦‚ä½•æ ‡è®°ç‰ˆæœ¬, å› ä¸ºè¦åšå¢é‡æ›´æ–°å°±å¿…é¡»å¾—å¯¹æ¯”ä¸åŒçš„ç‰ˆæœ¬, å®ç°çš„æ–¹æ³•æœ‰å¥½å¤š, ä½ ç”šè‡³å¯ä»¥æ¯æ¬¡éƒ½å°†é¡¹ç›®æ‹·è´ä¸€ä»½, ç”¨ç‰ˆæœ¬å·æ¥å‘½å. æˆ‘ä»¬é¡¹ç›®ç‰ˆæœ¬æ§åˆ¶å·¥å…·æ˜¯ git , å› æ­¤å¯ä»¥ä½¿ç”¨ git tag æ¥æ ‡è®°ç‰ˆæœ¬å·.</p>
<p>è‡³äºå¯¼å‡ºç‰ˆæœ¬, ä¸€å¼€å§‹å¹¶æ²¡æœ‰è€ƒè™‘åˆ°è¿™ä¸ª, æœ¬æ¥æ‰“ç®—ç›´æ¥ä½¿ç”¨ <code>git diff</code>æ¥è¿›è¡Œç‰ˆæœ¬å¯¹æ¯”, ä¸å¹¸çš„æ˜¯æˆ‘ä»¬é¡¹ç›®ä¸­æœ‰ä¸€å †çš„ <code>submodule</code>, git diff å¹¶ä¸èƒ½å¯¹æ¯”å­æ¨¡å—çš„å˜åŒ–. åŒç† <code>git archive</code> ä¹Ÿä¸å¯ä»¥, æœ€ç»ˆæˆ‘ä»¬ä½¿ç”¨äº†:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="variable">$tag</span></span><br><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å½“å‰é¡¹ç›®çš„ç¯å¢ƒå°±åˆ°äº† <code>$tag</code> è¿™æ¬¡æäº¤, ç„¶åå°† <code>src</code> ç›®å½•æ‹·è´åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•, å†åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª tag . å¤šæ¬¡ä¹‹å, å°±è·å–åˆ°äº†æ‰€æœ‰ç‰ˆæœ¬çš„è„šæœ¬æ–‡ä»¶äº†.</p>
<h2 id="2-å¦‚ä½•å¯¹æ¯”ç”Ÿæˆ-diff-æ–‡ä»¶"><a href="#2-å¦‚ä½•å¯¹æ¯”ç”Ÿæˆ-diff-æ–‡ä»¶" class="headerlink" title="2. å¦‚ä½•å¯¹æ¯”ç”Ÿæˆ diff æ–‡ä»¶"></a>2. å¦‚ä½•å¯¹æ¯”ç”Ÿæˆ diff æ–‡ä»¶</h2><p>å› ä¸ºæ˜¯æ‹·è´åˆ°äº†ä¸´æ—¶çš„ç›®å½•, æ‰€ä»¥ä¸èƒ½é€šè¿‡ <code>git diff</code> æ¥è¿›è¡Œå¯¹æ¯”äº†. ç®€å•æœç´¢äº†ä¸‹, å¯é€‰çš„æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„ <code>diff</code> å‘½ä»¤, ä¸è¿‡å®ƒçš„ç»“æœä¸æ–¹ä¾¿å¤„ç†. æœ€ç»ˆå†³å®šä½¿ç”¨ python çš„ <code>filecmp</code> æ¨¡å—è¿›è¡Œå¯¹æ¯”. </p>
<h2 id="3-å…¶ä»–åç»­å¤„ç†"><a href="#3-å…¶ä»–åç»­å¤„ç†" class="headerlink" title="3. å…¶ä»–åç»­å¤„ç†"></a>3. å…¶ä»–åç»­å¤„ç†</h2><p>diff å‡ºæ¥çš„è„šæœ¬é—®é¢˜, æˆ‘ä»¬éœ€è¦åŠ å¯†, å’ŒåŠ å¯† src ä¸€æ ·è°ƒç”¨ <code>compile_scripts.sh</code> å³å¯.</p>
<p>å› ä¸ºçƒ­æ›´æ–°éœ€è¦çš„æ˜¯ä¸€ä¸ª zip æ–‡ä»¶, æˆ‘ä»¬å¯èƒ½ä¼šç”¨åˆ° <code>zip</code> å‘½ä»¤, éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ä¸èƒ½ç®€å•çš„ä½¿ç”¨ <code>zip -r xxx.zip yyy</code>, è¿™æ ·çš„è¯å‹ç¼©åŒ…å†…ä¼šå«æœ‰ <code>yyy</code> ç›®å½•. æ­£ç¡®çš„åšæ³•æ˜¯:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(cd yyy; zip -r ../xxx.zip *)</span><br></pre></td></tr></table></figure>
<hr>
<p>é‡å¯çš„é‚£ä¸ªæ–¹æ¡ˆè¿˜æœ‰ä¸€äº›éšæ‚£, æ‰€ä»¥æ²¡æœ‰æ”¾å‡ºå…·ä½“çš„ä»£ç , ç­‰ä¿®å¤ä¹‹åä¼šè¡¥ä¸Š.<br>æš‚æ—¶å°±è¿™äº›, åé¢æƒ³åˆ°å•¥äº†å†åŠ ä¸Šæ¥.</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> hotupdate </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä½¿ç”¨ Pyqtdeploy å‘å¸ƒä½ çš„ Pyqt ç¨‹åº]]></title>
      <url>http://blog.justbilt.com/2015/11/28/pyqtdeploy/</url>
      <content type="html"><![CDATA[<p>åœ¨ä¸ä¹…å‰æˆ‘çš„å¦ä¸€ç¯‡åšæ–‡<a href="/2015/10/17/setup-pyqt5-on-mac">Pyqt5 MacOS ç¯å¢ƒæ­å»º</a>ä¸­ä»‹ç»äº†å¦‚ä½•åœ¨ Mac ä¸Šæ­å»º PyQt çš„ç¯å¢ƒ, å¦‚æœä½ æ°å·§çœ‹è¿‡é‚£ç¯‡æ–‡ç« , å¹¶ä¸”ç…§åšäº†, é‚£ä¹ˆéå¸¸ä¸å¹¸, å¦‚æœä½ æ‰“ç®—ä½¿ç”¨ pyqtdeploy å‘å¸ƒçš„ä½ çš„ç¨‹åºçš„è¯, ä½ å¯èƒ½å¾—é‡æ–°æ¥ä¸€éäº†!</p>
<a id="more"></a>
<p>æˆ‘ä»¬éœ€è¦å‡†å¤‡å‡ ä¸ªå‡ ä¸ªä¸œè¥¿:</p>
<ol>
<li>åœ¨<a href="https://www.python.org/downloads/source/" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½ python 3.x çš„æºç åŒ….</li>
<li>åœ¨<a href="https://riverbankcomputing.com/software/sip/download" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½ sip çš„æºç åŒ….</li>
<li>åœ¨<a href="http://sourceforge.net/projects/PyQt/files/PyQt5/" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½ä¸ä½  qt ç‰ˆæœ¬å¯¹åº”çš„ PyQt çš„æºç åŒ….</li>
</ol>
<p>æ³¨: ä¸è¦ä¸‹è½½ 3.5 , å› ä¸ºåé¢æŸä¸€æ­¥éª¤æ—¶ä¼šå‡ºé”™. â€“ 2015å¹´11æœˆ29æ—¥</p>
<h1 id="ä¸€-å®‰è£…"><a href="#ä¸€-å®‰è£…" class="headerlink" title="ä¸€. å®‰è£…"></a>ä¸€. å®‰è£…</h1><h2 id="1-å®‰è£…-python3"><a href="#1-å®‰è£…-python3" class="headerlink" title="1. å®‰è£… python3 :"></a>1. å®‰è£… python3 :</h2><p>å› ä¸º pyqtdeploy è¦æ±‚ PyQt5 å’Œ Python v3.2 æˆ–æ›´é«˜çš„ç‰ˆæœ¬, å› æ­¤æˆ‘ä»¬éœ€è¦å®‰è£… python3, è¿™é‡Œè¦è®°ä¸‹ä½ çš„ python ä¸»è¦ç‰ˆæœ¬å· (e.g. 3.4), åé¢ä¼šç”¨åˆ°.</p>
<p>è§£å‹ä¸‹è½½å¥½çš„ python3 æºç , å¼€å¯ç»ˆç«¯ cd è¿›è¿™ä¸ªç›®å½•:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br></pre></td></tr></table></figure></p>
<p>ç­‰å¾…ç»“æŸåæ‰§è¡Œ <code>make</code>, æ²¡æœ‰é”™è¯¯çš„è¯ <code>make install</code> .</p>
<p>##2. å®‰è£… sip :</p>
<p>å› ä¸ºæŸäº›æœªçŸ¥çš„åŸå› , æˆ‘ä»¬éœ€è¦å…ˆä½¿ç”¨ brew å®‰è£… sip:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install sip --with-python3</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åè§£å‹ä¸‹è½½å¥½çš„æºç åŒ…, æ‰“å¼€ç»ˆç«¯ cd è¿›è§£å‹å¥½çš„ç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 configure.py --static --target-py-version=VERSION</span><br></pre></td></tr></table></figure>
<p>æ›¿æ¢ VERSION ä¸ºä½ çš„ python3 ç‰ˆæœ¬å·, <code>--static</code> æ˜¯å°† sip ç¼–è¯‘ä¸ºé™æ€åº“çš„, æˆ‘ä»¬ä½¿ç”¨ brew å®‰è£…çš„ sip æ²¡æœ‰ç”Ÿæˆé™æ€åº“, å› æ­¤æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å®‰è£….</p>
<p>ç­‰å¾…æˆåŠŸå, æ‰§è¡Œ <code>make &amp;&amp; make install</code>.</p>
<p>å› ä¸ºä¸Šä¸€æ­¥ä¼šä¼šè¦†ç›– brew å®‰è£…çš„ sip çš„æ‰§è¡Œæ–‡ä»¶, æ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡æ–° link ä¸€ä¸‹.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew link --overwrite sip</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬<code>brew info sip</code>, å¯ä»¥æ‰¾åˆ°ç±»ä¼¼çš„ä¸€ä¸ªè·¯å¾„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/Cellar/sip/4.16.9</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªè·¯å¾„ä¸‹æœ‰ä¸€ä¸ª <code>include</code> æ–‡ä»¶å¤¹, è¿™ä¸ªæ–‡ä»¶å¤¹çš„è·¯å¾„å°±æ˜¯å°±æ˜¯æˆ‘ä»¬ä¸‹é¢å®‰è£… <code>PyQt</code> æ‰€éœ€çš„è·¯å¾„.</p>
<p>##3. å®‰è£… PyQt</p>
<p>è¿™ä¸€æ­¥éœ€è¦çŸ¥é“ <code>qmake</code> çš„è·¯å¾„, å› æ­¤æˆ‘ä»¬éœ€å°†å®ƒæ‰€åœ¨ç›®å½•åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/path/of/your/Qt/clang_64/bin:$PATH</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆæˆ‘ä»¬ä¼šè¾“å…¥è¿™æ ·çš„ä¸€è¡ŒæŒ‡ä»¤:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 configure.py --sip-incdir=PATH --target-py-version=VERSION --static</span><br></pre></td></tr></table></figure></p>
<p>å°†ä¸Šé¢çš„ <code>PATH</code> ä¿®æ”¹ä¸ºä¸Šé¢è·å–åˆ°çš„è·¯å¾„(e.g. <code>/usr/local/Cellar/sip/4.16.9/include</code>), åŒæ—¶ <code>VERSION</code> æ›¿æ¢ä¸ºä½ çš„ python ç‰ˆæœ¬.</p>
<p>æç¤º <code>Do you accept the terms of the license?</code> æ—¶è¾“å…¥ <code>yes</code>.</p>
<p>ç­‰å¾…æˆåŠŸå,æ‰§è¡Œ <code>make</code>, è¿™ä¸€æ­¥éœ€è¦ç¼–è¯‘å¥½å¤šä¸œè¥¿, å¯èƒ½ä¼šéœ€è¦å¥½ä¹…. è‹¥æ˜¯æ²¡æœ‰ä»€ä¹ˆé”™è¯¯çš„è¯, æ‰§è¡Œ <code>make install</code>.</p>
<p>##4. å®‰è£… pyqtdeploy</p>
<p>å®‰è£…å¥½å‰é¢é‚£äº›ä¹‹å, è¿™ä¸€æ­¥å˜å¾—ååˆ†ç®€å•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install pyqtdeploy</span><br></pre></td></tr></table></figure>
<p>åˆ°æ­¤ä¸ºæ­¢, æˆ‘ä»¬ pyqtdeploy çš„ç¯å¢ƒå°±æ­å»ºå¥½äº†, åœ¨ä»»æ„ç›®å½•è¾“å…¥ <code>pyqtdeploy</code>, çœ‹åˆ°ä¸‹é¢è¿™ä¸ªç•Œé¢å°±ç®—æˆåŠŸäº†:</p>
<p><img src="http://static.zybuluo.com/justbilt/0ud9c1sdxopu72gu02htefgb/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-12-05%20%E4%B8%8B%E5%8D%882.28.29.png" alt=""></p>
<h1 id="äºŒ-ä½¿ç”¨"><a href="#äºŒ-ä½¿ç”¨" class="headerlink" title="äºŒ. ä½¿ç”¨"></a>äºŒ. ä½¿ç”¨</h1><p>å…³äº pyqtdeploy çš„ä½¿ç”¨è¿˜æ˜¯å»ºè®®å¤§å®¶çœ‹çœ‹<a href="http://PyQt.sourceforge.net/Docs/pyqtdeploy/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>, å†™çš„éå¸¸è¯¦ç»†, å¼€å§‹æˆ‘å¯»æ±‚å…¶ä»–äººå†™çš„æ•™ç¨‹, ä½†ç«Ÿæ— ä¸€ç¯‡ä¸­æ–‡æ•™ç¨‹, è‹±æ–‡ä¹Ÿå¯¥å¯¥æ— å‡ , æœ€åè¿˜æ˜¯å›å»å•ƒæ–‡æ¡£. ä¸‹é¢ä»‹ç»ä¸€ä¸‹æˆ‘çš„é…ç½®æ˜¯ä»€ä¹ˆ, è‡³äºæœŸé—´è¸©å‘æ— æ•°, è‡ªä¸è¶³ä¸ºå¤–äººé“ä¹Ÿ.</p>
<p>é¦–å…ˆæˆ‘è¦åˆ›å»ºä¸€ä¸ª <code>pdy</code> æ–‡ä»¶, pdy æ˜¯ pyqtdeploy çš„å·¥ç¨‹é…ç½®æ–‡ä»¶. éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯, pdy æ–‡ä»¶ä¸€å®šè¦ä¿å­˜åœ¨ç¨‹åºå…¥å£ py æ–‡ä»¶çš„åŒçº§ç›®å½•. é¦–å…ˆåœ¨ä½ çš„é¡¹ç›®æºç ç›®å½•ä¸­æ‰“å¼€ç»ˆç«¯, é”®å…¥å‘½ä»¤ <code>pyqtdeploy xxx.pdy</code>,(æ›¿æ¢xxxä¸ºä½ æƒ³èµ·çš„æ–‡ä»¶å) ç„¶åå°±ä¼šå¼¹å‡ºä¸€ä¸ªguiç•Œé¢.</p>
<h2 id="1-Application-Source"><a href="#1-Application-Source" class="headerlink" title="1. Application Source:"></a>1. Application Source:</h2><p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1ez5zupeyb3j20rw0hs42h.jpg" alt=""></p>
<p>Name: å¡«å…¥ä½ ç¨‹åºçš„åç§°<br>Main Script file: ç¨‹åºçš„å…¥å£æ–‡ä»¶<br>Application Package Directory: ç¨‹åºçš„å…¶ä»– py æ–‡ä»¶</p>
<h2 id="2-qmake"><a href="#2-qmake" class="headerlink" title="2. qmake"></a>2. qmake</h2><p>è¿™ä¸€é¡µæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„è®¾ç½®</p>
<h2 id="3-PyQt-Modules"><a href="#3-PyQt-Modules" class="headerlink" title="3. PyQt Modules"></a>3. PyQt Modules</h2><p>è¿™ä¸€é¡µä¸­ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨äº†ä»€ä¹ˆæ¨¡å—å°±å‹¾é€‰ä»€ä¹ˆæ¨¡å—å°±å¯ä»¥äº†.</p>
<h2 id="4-Standard-Library"><a href="#4-Standard-Library" class="headerlink" title="4. Standard Library"></a>4. Standard Library</h2><p>é»˜è®¤è®¾ç½®</p>
<h2 id="5-Other-Packages"><a href="#5-Other-Packages" class="headerlink" title="5. Other Packages"></a>5. Other Packages</h2><p>é»˜è®¤è®¾ç½®</p>
<h2 id="6-Other-Extension-Modules"><a href="#6-Other-Extension-Modules" class="headerlink" title="6. Other Extension Modules"></a>6. Other Extension Modules</h2><p>é»˜è®¤è®¾ç½®</p>
<h2 id="7-Locations"><a href="#7-Locations" class="headerlink" title="7. Locations"></a>7. Locations</h2><p>è¿™ä¸€é¡µçš„è®¾ç½®æ˜¯é‡ä¸­ä¹‹é‡, æ›¾åœ¨è¿™é‡Œæµªè´¹äº†å¾ˆå¤šçš„æ—¶é—´.</p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1ez67jp69umj20rw0f7jut.jpg" alt=""></p>
<p><strong>Interpreter</strong>: python å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„<br><strong>Source directory</strong>: è¿˜è®°å¾—æˆ‘ä»¬ä¹‹å‰ä¸‹è½½çš„ python æºç , è§£å‹åˆ°ä¸€ä¸ªç›®å½•, å¡«å†™è·¯å¾„åˆ°è¿™é‡Œå°±okäº† !<br><strong>Include directory</strong>: python çš„å¤´æ–‡ä»¶è·¯å¾„<br><strong>Python library</strong>: python çš„é™æ€åº“æ–‡ä»¶è·¯å¾„<br><strong>Standard python library</strong>: python æ ‡å‡†åº“æ–‡ä»¶è·¯å¾„<br><strong>Build directory</strong>: æ„å»ºç”¨è·¯å¾„<br><strong>qmake</strong>: qmake æ–‡ä»¶è·¯å¾„</p>
<h2 id="8-Build"><a href="#8-Build" class="headerlink" title="8. Build"></a>8. Build</h2><p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1ez69ew90vbj20r40ef7b2.jpg" alt=""></p>
<p>è¿™ä¸€é¡µå¿…è¦é‡è¦çš„æ˜¯å‹¾é€‰ <code>Verbose output</code> , è¿™æ ·å­å‡ºé”™äº†èƒ½å¤Ÿæ¯”è¾ƒå‡†ç¡®çš„å®šä½. å¦å¤–å‹¾é€‰ <code>Additional Build Steps</code>, å¯ä»¥å¸®ä½ ç¼–è¯‘è¿è¡Œ.</p>
<h1 id="ä¸‰-Q-amp-A"><a href="#ä¸‰-Q-amp-A" class="headerlink" title="ä¸‰. Q&amp;A"></a>ä¸‰. Q&amp;A</h1><ol>
<li>ImportError: No module named xxx</li>
</ol>
<p>å¦‚æœè¿™ä¸ªæ¨¡å—æ˜¯ä½ é¡¹ç›®çš„ä¸€ä¸ªæœ¬åœ°ä¾èµ–æ¨¡å—, é‚£ä¹ˆè¯·æ£€æŸ¥ä½ çš„ pdy æ–‡ä»¶æ˜¯å¦ä¿å­˜åœ¨ä»£ç å…¥å£æ–‡ä»¶çš„åŒä¸€çº§ç›®å½•.</p>
<ol>
<li>error: use of undeclared identifier â€˜_Py_BEGIN_SUPPRESS_IPHâ€™</li>
</ol>
<p>æ˜¯å¦ä½¿ç”¨äº† python3.5 , æˆ‘åˆ‡æ¢ä¸º python3.4 å°± ok äº†!</p>
<hr>
<p>è½¬çœ¼é—´åˆè¿‡å»äº†ä¸€ä¸ªæœˆå¤šæœˆ, æ¯å‘¨ä¸€ç¯‡å¥½ä¸å®¹æ˜“åšæŒäº†3å‘¨å°±è¿™æ ·æ–­æ‰äº†. ä¸»è¦åŸå› æ˜¯è¿˜æ˜¯æ‡’, æ¬¡è¦åŸå› æ˜¯å…¬å¸é¡¹ç›®å³å°†ä¸Šçº¿, æ‰€ä»¥å·¥ä½œæ¯”å¹³æ—¶è¦ç´§å¼ å¥½å¤š, æœ€è¿‘ä¸¤å‘¨å‘¨å…­ä¹Ÿå¼€å§‹åŠ ç­äº†!  å¯¹ç›®å‰è¿™ä¸ªé¡¹ç›®è¿˜æ˜¯æ¯”è¾ƒçœ‹å¥½çš„, åŠ æ²¹!</p>
<p>ä¸‹æ¬¡åˆ†äº«ä¸‹æˆ‘åœ¨æœ€è¿‘è¿™æ¬¡çƒ­æ›´æ–°ä¸Šçš„ä¸€äº›æ”¶è·!</p>
]]></content>
      
        
        <tags>
            
            <tag> PyQt </tag>
            
            <tag> pyqtdeploy </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[FAlign ä»£ç æ´ç™–æ‚£è€…çš„ç¦éŸ³]]></title>
      <url>http://blog.justbilt.com/2015/11/15/falign/</url>
      <content type="html"><![CDATA[<p>å¯¹äºä¸€ä¸ªé‡åº¦ä»£ç æ´ç™–æ‚£è€…, çœ‹åˆ°ä¸‹é¢è¿™æ ·çš„ä»£ç , å¿ƒä¸­éš¾å…å¥‡ç—’éš¾è€, æƒ³è¦ç»™å®ƒå¯¹é½äº†å»!</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">local name = params.name or &quot;Arial&quot;</span><br><span class="line">local color = params.color or cc.c3b(255, 255, 255)</span><br><span class="line">local age = params.age or 0</span><br><span class="line">local font_size = params.font_size or 30</span><br></pre></td></tr></table></figure>
<p>sublime çš„ä»£ç å¯¹é½æ’ä»¶æœ‰å¾ˆå¤š, å¤§å®¶å¯ä»¥<a href="https://packagecontrol.io/search/align?sort=popularity" target="_blank" rel="noopener">çœ‹è¿™é‡Œ</a>, æˆ‘ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ˜¯ <a href="https://packagecontrol.io/packages/VAlign" target="_blank" rel="noopener">VAlign</a>, äº‹å®ä¸Šå®ƒåœ¨å¤šæ•°çš„æƒ…å†µä¸‹è¿˜æ˜¯å¾ˆå¥½ä½¿çš„. ä½†æ˜¯å®ƒè¿˜æ˜¯æœ‰è¿™ä¹ˆå‡ ä¸ªé—®é¢˜:</p>
<ol>
<li>ä¸ªåˆ«æƒ…å†µä¸‹ä»£ç å¯¹é½çš„ä¸å¤Ÿç†æƒ³.</li>
<li>ä¸èƒ½å¤šæ¬¡å¯¹é½.</li>
<li>å°±ç®—å·²ç»å¯¹é½, ä¹Ÿä¼šä½¿å¾—æ–‡ä»¶å˜ä¸º modified çŠ¶æ€.</li>
</ol>
<blockquote>
<p><strong>ä¸€ç§é€ è½®å­çš„å†²åŠ¨æ¶Œä¸Šå¿ƒå¤´.</strong></p>
</blockquote>
<p><img src="/img/22015-04-19-001.jpg" alt=""></p>
<h1 id="å¼€å¹²"><a href="#å¼€å¹²" class="headerlink" title="å¼€å¹²"></a>å¼€å¹²</h1><p>ä¹‹å‰ä¸€ç›´æ²¡æœ‰å°è¯•è¿‡ç±»ä¼¼çš„äº‹æƒ…, ä¸€ä¸Šæ¥æœ‰äº›å‘è’™, ä»å“ªé‡Œå…¥æ‰‹å‘¢? ä»”ç»†åˆ†æäº†ä¸‹éœ€æ±‚, å°†åŠŸèƒ½åˆ‡åˆ†ä¸ºå°å—.</p>
<h2 id="1-ä¸€è¡Œä»£ç çš„ç‰¹å¾"><a href="#1-ä¸€è¡Œä»£ç çš„ç‰¹å¾" class="headerlink" title="1. ä¸€è¡Œä»£ç çš„ç‰¹å¾"></a>1. ä¸€è¡Œä»£ç çš„ç‰¹å¾</h2><p>ä»€ä¹ˆæ ·çš„ä»£ç ä¼šéœ€è¦å¯¹é½? <strong>å¤šè¡Œç›¸ä¼¼çš„ä»£ç </strong>. æ€ä¹ˆåˆ¤æ–­ç›¸ä¼¼? <strong>æœ‰å…±åŒçš„ç‰¹å¾å—?</strong> ä¸€è¡Œä»£ç çš„ç‰¹å¾æœ‰å¥½å¤š, æ€ä¹ˆç¡®å®šé‚£ä¸ªæ˜¯ä½ æƒ³è¦çš„.</p>
<p>æœ€ç»ˆæˆ‘é€‰æ‹©äº† <code>ç¼©è¿›å±‚çº§</code> ä½œä¸ºç¬¬ä¸€ä¸ªç‰¹å¾, å¦‚æœä¸¤ä¸ªæ–‡å­—çš„ç¼©è¿›å±‚çº§ä¸ä¸€è‡´çš„è¯, å®ƒä»¬å°±ä¸ä¼šè¢«å¯¹é½. ç¬¬äºŒä¸ªç‰¹å¾æˆ‘é€‰æ‹©äº† <code>å…³é”®å­—åˆ—è¡¨</code>, æˆ‘æ‰¾å‡ºäº†æ‰€æœ‰å…³é”®å­—å’Œå®ƒä»¬åœ¨è¿™ä¸€è¡Œä¸­çš„ä½ç½®.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; [1] = &#123;keyword : &quot;=&quot;, position: 10&#125;, [2] = &#123;keyword : &quot;,&quot;, position: 20&#125;, ...&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-æ‰¾åˆ°ç›¸ä¼¼è¡Œ"><a href="#2-æ‰¾åˆ°ç›¸ä¼¼è¡Œ" class="headerlink" title="2. æ‰¾åˆ°ç›¸ä¼¼è¡Œ"></a>2. æ‰¾åˆ°ç›¸ä¼¼è¡Œ</h2><p>æˆ‘çš„åšæ³•å’Œ Vlign æ˜¯ä¸€è‡´çš„, for å¾ªç¯åˆ†åˆ«åŠ å‡ä¸€ä¸ªæ¸¸æ ‡, ä»£è¡¨ç€å½“å‰è¡Œ, è·å–è¿™ä¸€è¡Œçš„ç‰¹å¾æ•°æ®, å¦‚æœç¼©è¿›å’Œå…³é”®å­—åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸€è‡´çš„è¯, åˆ™è®°å½•è¿™ä¸€è¡Œ, å¦åˆ™è·³å‡ºå¾ªç¯.</p>
<p>è¿™æ ·å½“ for å¾ªç¯ç»“æŸå, æˆ‘ä»¬å°±è·å¾—äº†ä¸€ä¸ªå¤šè¡Œæ•°æ®çš„åˆ—è¡¨.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;80&quot; : &#123; [1] = &#123;keyword : &quot;=&quot;, position: 10&#125;, [2] = &#123;keyword : &quot;,&quot;, position: 20&#125;, ...&#125;,</span><br><span class="line">    &quot;81&quot; : &#123; [1] = &#123;keyword : &quot;=&quot;, position: 15&#125;, [2] = &#123;keyword : &quot;,&quot;, position: 40&#125;, ...&#125;,</span><br><span class="line">    &quot;82&quot; : &#123; [1] = &#123;keyword : &quot;=&quot;, position: 20&#125;, [2] = &#123;keyword : &quot;,&quot;, position: 60&#125;, ...&#125;,</span><br><span class="line">    &quot;83&quot; : &#123; [1] = &#123;keyword : &quot;=&quot;, position: 25&#125;, [2] = &#123;keyword : &quot;,&quot;, position: 80&#125;, ...&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-åˆ é™¤å·²ç»å¯¹é½çš„keyword"><a href="#3-åˆ é™¤å·²ç»å¯¹é½çš„keyword" class="headerlink" title="3. åˆ é™¤å·²ç»å¯¹é½çš„keyword"></a>3. åˆ é™¤å·²ç»å¯¹é½çš„keyword</h2><p>æŒ‰ç…§æˆ‘çš„è®¾æƒ³, åº”è¯¥æ˜¯æ¯è°ƒç”¨ä¸€æ¬¡å¯¹é½å‡½æ•°, å°±æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ²¡æœ‰å¯¹é½çš„å…³é”®å­—è¿›è¡Œå¯¹é½, è¿™æ ·å½“ä¸€ç»„éœ€è¦å¯¹é½çš„æ–‡å­—ä¸­æœ‰å¤šä¸ªå¯ä»¥å¯¹é½çš„å…³é”®å­—çš„è¯, å°±éœ€è¦å¤šæ¬¡è°ƒç”¨å¯¹é½å‡½æ•°. é‚£ä¹ˆé—®é¢˜å°±æ¥äº†? å¦‚ä½•åˆ¤æ–­å‡ºå½“å‰ç›¸å¯¹é½çš„æ˜¯å“ªä¸€ä¸ªå…³é”®å­—å‘¢?</p>
<p>æˆ‘æ˜¯è¿™æ ·å­åšçš„, å‰é¢ä¸æ˜¯æ‰¾åˆ°äº†å¤šè¡Œæ•°æ®çš„åˆ—è¡¨å˜›, æˆ‘ä»¬éå†ä¸€ä¸‹è¿™ä¸ªåˆ—è¡¨, å¦‚æœè¿™äº›è¡Œçš„å…³é”®å­—åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®æ˜¯ä¸€æ ·çš„, é‚£ä¹ˆè¿™ä¸ªå…³é”®å­—å°±å·²ç»å¯¹é½äº†, é‚£ä¹ˆæˆ‘ä¾¿åˆ é™¤å®ƒ.</p>
<p>è¿™æ ·å¤šæ¬¡å, åˆ—è¡¨ä¸­çš„è¡Œçš„å…³é”®å­—åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯æˆ‘ä»¬éœ€è¦å¯¹é½çš„é‚£ä¸ªå…ƒç´ å•¦.</p>
<p>ä½†æ˜¯è¿™æ ·ä¹‹å, ä¹‹å‰çš„è¡Œæ•°æ®å°±ä¼šæœ‰ä¸­æ–­çš„æƒ…å†µ, æ‰€ä»¥æˆ‘ä»¬éœ€è¦å†æ¬¡æ•´ç†è¿™äº›æ•°æ®.</p>
<h2 id="4-å»é™¤å…³é”®å­—å‘¨å›´çš„ç©ºç™½"><a href="#4-å»é™¤å…³é”®å­—å‘¨å›´çš„ç©ºç™½" class="headerlink" title="4. å»é™¤å…³é”®å­—å‘¨å›´çš„ç©ºç™½"></a>4. å»é™¤å…³é”®å­—å‘¨å›´çš„ç©ºç™½</h2><p>æˆ‘ä¸¾ä¸ªæ —å­, æ¯”å¦‚ä¸‹é¢è¿™ä¸¤è¡Œä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">local a    = 1</span><br><span class="line">local bbbbbb        = 1</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä»¥ <code>=</code> ä¸ºå…³é”®å­—å¯¹é½å®ƒ, å¦‚æœä¸å»é™¤å‘¨å›´çš„ç©ºç™½çš„è¯, å¯¹é½å‡ºæ¥çš„å°†ä¼šæ˜¯è¿™ä¸ªæ ·å­çš„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">local a             = 1</span><br><span class="line">local bbbbbb        = 1</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„, æˆ‘çš„å®ç°æ˜¯è¿™ä¸ªæ ·å­çš„, è¿˜æ˜¯ for å¾ªç¯ä½¿ç”¨ä¸€ä¸ªæ¸¸æ ‡ä»å…³é”®å­—ä½ç½®åˆ†åˆ«å‘å‰åéå†, é‡åˆ°ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦åœæ­¢, è¿™æ ·å¾ªç¯ç»“æŸåä¾¿ä¼šè·å¾—ä¸€ä¸ªåŒºé—´. ç„¶åæˆ‘ä»¬åœ¨æ ¹æ®è¿™ä¸ªå…³é”®å­—å·¦å³æ˜¯å¦éœ€è¦ç©ºæ ¼æ„é€ ä¸€ä¸ªæ–°çš„å…³é”®å­—å†…å®¹å»æ›¿æ¢æ‰é‚£ä¸ªåŒºé—´çš„å­—ç¬¦ä¸².</p>
<h2 id="5-å¯¹é½è¡Œ"><a href="#5-å¯¹é½è¡Œ" class="headerlink" title="5. å¯¹é½è¡Œ"></a>5. å¯¹é½è¡Œ</h2><p>çœŸæ­£æ˜¨æ™šä¸Šä¸Šé¢çš„é‚£äº›å¤„ç†å, å¯¹é½è¿™äº›è¡Œçš„é€»è¾‘å…¶å®ååˆ†ç®€å•, ç”šè‡³éƒ½ä¸è¶…è¿‡10è¡Œä»£ç . ä¸»è¦å°±æ˜¯éå†ä¸€é, æ‰¾å‡ºæŸä¸ªå…³é”®å­—åœ¨æ‰€æœ‰è¡Œä¸­çš„æœ€å¤§ä½ç½®, ç„¶åç»™æ¯è¡Œå…³é”®å­—çš„å‰é¢æˆ–åé¢è¡¥è¶³ä¸æœ€å¤§å€¼çš„å·®å€¼çš„ç©ºæ ¼å³å¯.</p>
<h1 id="FAlign"><a href="#FAlign" class="headerlink" title="FAlign"></a>FAlign</h1><p>FAlign æ˜¯ sublime çš„ä¸€ä¸ªä»£ç å¯¹é½æ’ä»¶, å®ç°äº†ä¸€è¡Œä»£ç å¤šä¸ªå…³é”®å­—çš„å¯¹é½åŠŸèƒ½.</p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1exv5kflm7ug20ov0213yx.gif" alt=""></p>
<p>ä»£ç å¼€æºåœ¨github: <a href="https://github.com/justbilt/sublime-falign" target="_blank" rel="noopener">https://github.com/justbilt/sublime-falign</a>, å¤§å®¶å¯è‡ªè¡Œå–é˜….</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ä¸¤ä¸ªæ–¹æ³•å®‰è£…:</p>
<ol>
<li>å¦‚æœå®‰è£…äº† Package Control çš„è¯, å¯ä»¥æœç´¢ <code>FAlign</code> å®‰è£…</li>
<li>å°†æºç  clone åˆ°ä½  sublime æ’ä»¶ç›®å½•</li>
</ol>
<h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p><code>âŒ˜ + \</code> å¯¹é½ç¬¬ä¸€ä¸ªå…³é”®å­—, å†æ¬¡æŒ‰ä¸‹å¯¹é½ç¬¬äºŒä¸ªå…³é”®å­—, â€¦</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Button = import(&quot;.utils.Button&quot;)</span><br><span class="line">AlertEx = import(&quot;.utils.AlertEx&quot;)</span><br><span class="line">Tips = import(&quot;.utils.Tips&quot;)</span><br><span class="line">Help = import(&quot;.utils.Help&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Button  = import(&quot;.utils.Button&quot;)</span><br><span class="line">AlertEx = import(&quot;.utils.AlertEx&quot;)</span><br><span class="line">Tips    = import(&quot;.utils.Tips&quot;)</span><br><span class="line">Help    = import(&quot;.utils.Help&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dispatcher:addEventListener(&quot;mail_new&quot;, mail_new)</span><br><span class="line">dispatcher:addEventListener(&quot;mail_mark_read&quot;, mail_mark_read)</span><br><span class="line">dispatcher:addEventListener(&quot;mail_handle_invitation&quot;, mail_handle_invitation)</span><br><span class="line">dispatcher:addEventListener(&quot;mail_send&quot;, mail_send)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dispatcher:addEventListener(&quot;mail_new&quot;,               mail_new)</span><br><span class="line">dispatcher:addEventListener(&quot;mail_mark_read&quot;,         mail_mark_read)</span><br><span class="line">dispatcher:addEventListener(&quot;mail_handle_invitation&quot;, mail_handle_invitation)</span><br><span class="line">dispatcher:addEventListener(&quot;mail_send&quot;,              mail_send)</span><br></pre></td></tr></table></figure>
]]></content>
      
        
        <tags>
            
            <tag> code-style </tag>
            
            <tag> neat-freak </tag>
            
            <tag> Tool </tag>
            
            <tag> FAlign </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[MyGUIå­¦ä¹ ç¬”è®°(äºŒ) åœ¨ MacOS ä¸Šè¿è¡ŒMyGUI]]></title>
      <url>http://blog.justbilt.com/2015/10/31/mygui-2-run-on-osx/</url>
      <content type="html"><![CDATA[<p>ä¸çŸ¥å¤§å®¶æ˜¯å¦è¿˜è®°å¾—æˆ‘çš„è¿™ç¯‡æ–‡ç«  <a href="http://blog.justbilt.com/2015/05/29/mygui-1-run-on-windows">MyGUIå­¦ä¹ ç¬”è®°(ä¸€) åœ¨Windowsä¸Šè¿è¡ŒMyGUI</a>, è¿™ç¯‡æ–‡ç« è®²è¿°äº†åœ¨ Windows ä¸Šç¼–è¯‘è¿è¡Œ MyGUI çš„è¿‡ç¨‹. æ–‡ä¸­æåˆ°äº†åœ¨ Mac é‡åˆ°äº†å¾ˆå¤šå‘, ç¡®å®å¦‚æ­¤, å½“æ—¶çš„ MyGUI è™½ç„¶å·ç§° Cross Platform , ä½†æ˜¯åœ¨ Mac å´æœ‰å¥½å¤šä¸œè¥¿æ²¡æœ‰å®ç°, ç¼–è¯‘èµ·æ¥å›°éš¾é‡é‡, ä»¥è‡³äºæˆ‘ä¸å¾—ä¸åˆ‡æ¢åˆ° Windows ç³»ç»Ÿä¸Š, å› æ­¤ä¾¿æœ‰äº†é‚£ç¯‡æ–‡ç« .</p>
<a id="more"></a>
<p>é‚£ä¹ˆä»Šå¤©ä¸ºä»€ä¹ˆåˆè¦å†™è¿™ä¸ªäº†å‘¢? å› ä¸ºè¿™å‡ ä¸ªæœˆå†…, MyGUI å›¢é˜Ÿé’ˆå¯¹ Mac åšäº†å¥½å¤šä¿®æ”¹, ä½¿å¾—è„±ç¦» Ogre ä¹‹å Demo ä¹Ÿèƒ½å¤Ÿè·¨å¹³å°è¿è¡Œäº†!</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹å¦‚ä½•åœ¨ Mac ä¸Šè¿è¡Œ MyGUI å§!</p>
<h1 id="é›¶-å‡†å¤‡å·¥ä½œ"><a href="#é›¶-å‡†å¤‡å·¥ä½œ" class="headerlink" title="é›¶. å‡†å¤‡å·¥ä½œ"></a>é›¶. å‡†å¤‡å·¥ä½œ</h1><p>å¦‚åŒ Windows ä¸€æ ·, æˆ‘ä»¬éœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œ. å› ä¸ºåœ¨è¿™ä¸ªé˜¶æ®µè¿™äº›å·¥ä½œäº’ä¸å½±å“, å› æ­¤å¤§å®¶å¹¶è¡Œæ“ä½œ, é«˜æ•ˆåˆ©ç”¨æ—¶é—´.</p>
<ol>
<li>ä» github ä¸Š clone æœ€æ–°çš„ <a href="https://github.com/MyGUI/mygui" target="_blank" rel="noopener">MyGUI æºç </a>.</li>
<li>ä¸‹è½½ <a href="https://cmake.org/download/" target="_blank" rel="noopener">CMake Mac ç‰ˆ</a>, å¹¶å®‰è£….</li>
<li>ä½¿ç”¨ Homebrew å®‰è£… <code>sdl2_image</code>.</li>
<li>ä¸‹è½½å·²ç»ç¼–è¯‘å¥½çš„ Mac ç‰ˆ <a href="http://jaist.dl.sourceforge.net/project/ogre/ogre-dependencies-mac/1.8/OgreDependencies_OSX_20120525.zip" target="_blank" rel="noopener">Orge Dependencise</a>, å¹¶è§£å‹åˆ° mygui çš„æ ¹ç›®å½•.</li>
</ol>
<p>æ³¨: è¿™é‡Œæˆ‘å·æ‡’ä½¿ç”¨äº†å·²ç»ç¼–è¯‘å¥½çš„ä¾èµ–åº“, æ¯•ç«Ÿé‚£ä¸æ˜¯æˆ‘ä»¬çš„ä¸»è¦ç›®çš„. å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªè¡Œç¼–è¯‘, æºç ä½äº<a href="https://bitbucket.org/cabalistic/ogredeps" target="_blank" rel="noopener">è¿™é‡Œ</a>. </p>
<h1 id="ä¸€-ç”Ÿæˆ-Xcode-å·¥ç¨‹"><a href="#ä¸€-ç”Ÿæˆ-Xcode-å·¥ç¨‹" class="headerlink" title="ä¸€. ç”Ÿæˆ Xcode å·¥ç¨‹"></a>ä¸€. ç”Ÿæˆ Xcode å·¥ç¨‹</h1><p>é¦–å…ˆæˆ‘ä»¬è¿è¡Œ CMake, ç„¶ååœ¨ <code>Where is the source code:</code> æ é€‰æ‹©ä½ çš„ clone ä¸‹æ¥çš„ mygui æºç è·¯å¾„. åœ¨ <code>Where to build the binaries:</code> é€‰æ‹©ç”Ÿæˆç›®å½•, æˆ‘æ˜¯é€‰æ‹©ç”Ÿæˆåœ¨ mygui çš„ <code>bin</code> è·¯å¾„ä¸‹.</p>
<p><img src="http://static.zybuluo.com/justbilt/ultxdpj801k222om0tyr205m/QQ20151101-0.png" alt="QQ20151101-0.png-24.9kB"></p>
<p>ç„¶åç‚¹å‡» <code>Configure</code> æŒ‰é’®, å¦‚æœå¼¹å‡ºè¯¢é—®æ˜¯å¦åˆ›å»º <code>bin</code> è·¯å¾„, è¯·åŒæ„. åœ¨æ¥ä¸‹æ¥çš„å¼¹å‡ºç•Œé¢çš„ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹© <code>Xcode</code>, ç‚¹å‡»ç¡®å®š.</p>
<p>ç­‰å¾…ç‰‡åˆ»å, ä¼šå¼¹å‡ºä¸€ä¸ªé”™è¯¯æç¤º:</p>
<blockquote>
<p>Error in configuration precess, project files may be invaild</p>
</blockquote>
<p>åœ¨æ—¥å¿—çª—å£æŸ¥çœ‹é”™è¯¯ä¿¡æ¯å¯ä»¥å¾—çŸ¥æˆ‘ä»¬éœ€è¦ä¿®ä¸‹ <code>MYGUI_RENDERSYSTEM</code> çš„å€¼. ä¸ºæ–¹ä¾¿æŸ¥æ‰¾, æˆ‘ä»¬å¯ä»¥å°† CMake ç•Œé¢çš„ <code>Grouped</code> å¤é€‰æ¡†é€‰ä¸­, è¿™æ ·æ‰€æœ‰çš„é…ç½®éƒ½ä¼šåˆ†ç»„æ˜¾ç¤º. </p>
<p>åœ¨ä¸­é—´çº¢è‰²åŒºåŸŸçš„ <code>MYGUI</code> åˆ†ç±»ä¸‹æ‰¾åˆ° <code>MYGUI_RENDERSYSTEM</code> é€‰é¡¹, å°†å…¶å€¼ä¿®æ”¹ä¸º <code>4</code>, é¼ æ ‡æ‚¬åœå¯ä»¥æŸ¥çœ‹æ•°å­—åšä»£è¡¨çš„æ„ä¹‰.</p>
<p><img src="http://static.zybuluo.com/justbilt/xiit07e4x4z8khyymr3d0a8z/QQ20151101-1.png" alt="QQ20151101-1.png-61.6kB"></p>
<p>å†æ¬¡ç‚¹å‡» <code>Configure</code> æŒ‰é’®, æ— ä»»ä½•é”™è¯¯æç¤ºå³ä¸ºæˆåŠŸ. æ¥ä¸‹æ¥ç‚¹å‡» <code>Generate</code> ç”Ÿæˆ Xcode å·¥ç¨‹.</p>
<h1 id="äºŒ-ç¼–è¯‘-MyGUI"><a href="#äºŒ-ç¼–è¯‘-MyGUI" class="headerlink" title="äºŒ. ç¼–è¯‘ MyGUI"></a>äºŒ. ç¼–è¯‘ MyGUI</h1><p>æ‰“å¼€ <code>bin</code> ç›®å½•ä¸‹çš„ <code>MYGUI.xcodeproj</code> å·¥ç¨‹, å¼€å§‹ç¼–è¯‘.  ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å¦‚ä¸‹ç¼–è¯‘é”™è¯¯:</p>
<blockquote>
<p>/Users/â€¦/Data.cpp:136:11: No viable conversion from â€˜std::__1::nullptr_tâ€™ to â€˜DataPtrâ€™ (aka â€˜shared_ptr<tools::data>â€˜)</tools::data></p>
</blockquote>
<p>å¯¹äºè¿™ä¸ªé”™è¯¯è¯´æ˜å‘¢å¤§å®¶å¯ä»¥<a href="https://github.com/MyGUI/mygui/pull/82" target="_blank" rel="noopener">çœ‹è¿™é‡Œ</a>, æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯æŠŠå‡ºé”™åœ°æ–¹çš„ <code>nullptr</code> éƒ½æ”¹ä¸º <code>NULL</code>, ä¸€å…±éœ€è¦ä¿®æ”¹åå‡ å¤„å§.</p>
<p><img src="http://static.zybuluo.com/justbilt/tfk0iznreipqw8m02ge20d3r/QQ20151101-2.png" alt="QQ20151101-2.png-82.3kB"></p>
<p>ç„¶åå°±ç¼–è¯‘æˆåŠŸäº†!</p>
<h1 id="ä¸‰-è¿è¡Œ-MyGUI-ç¤ºä¾‹"><a href="#ä¸‰-è¿è¡Œ-MyGUI-ç¤ºä¾‹" class="headerlink" title="ä¸‰. è¿è¡Œ MyGUI ç¤ºä¾‹"></a>ä¸‰. è¿è¡Œ MyGUI ç¤ºä¾‹</h1><p>å½“æˆ‘ä»¬é€‰ä¸­ä¸€ä¸ªç¤ºä¾‹è¿è¡Œçš„æ—¶å€™, ä¼šé‡åˆ°è¿™ä¸ªå´©æºƒé”™è¯¯:</p>
<blockquote>
<p>An exception has occured : MyGUI EXCEPTION : No root widget. [â€˜ColourPanel.layout]<br> in MyGUI at /Users/bilt/Documents/mygui/Common/BaseLayout/BaseLayout.h (line 126)libc++abi.dylib: terminating with uncaught exception of type MyGUI::Exception: MyGUI EXCEPTION : No root widget. [â€˜ColourPanel.layout]<br> in MyGUI at /Users/bilt/Documents/mygui/Common/BaseLayout/BaseLayout.h (line 126)</p>
</blockquote>
<p>ç»è¿‡è¿½è¸ª, æ˜¯æ²¡æœ‰æ‰¾åˆ° <code>resources.xml</code> æ²¡æœ‰æ‰¾è§çš„åŸå› , å®ƒä½äº <code>path/of/mygui/bin/bin</code>ç›®å½•, è€Œé»˜è®¤åº”ç”¨çš„å·¥ä½œç›®å½•ä¸æ˜¯è¿™é‡Œ, å› æ­¤æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸‹å·¥ä½œç›®å½•.</p>
<p>é€‰ä¸­ Scheme åˆ—è¡¨æœ«å°¾çš„ <code>Edit Scheme</code> (æˆ–è€…æŒ‰ä¸‹<code>cmd+shift+,</code>), ç„¶åå† <code>Options</code> æ ‡ç­¾ä¸‹å°† <code>Working Directory</code> é€‰æ‹©ä¸ºä½ çš„ç”Ÿæˆ <code>bin</code> ç›®å½•.</p>
<p><img src="http://static.zybuluo.com/justbilt/6smjifuob0cc0g24yis212t1/QQ20151101-5.png" alt="QQ20151101-5.png-97.1kB"></p>
<p>å†æ¬¡è¿è¡Œå°±å¯ä»¥å•¦!</p>
<p>ä¸Šä¸€å¼ æˆªå›¾çºªå¿µä¸€ä¸‹:</p>
<p><img src="http://static.zybuluo.com/justbilt/qeeokj32fvk2qgkufmwk0ki9/QQ20151101-3.png" alt="QQ20151101-3.png-371.3kB"></p>
<hr>
<p>MyGUI ä»07å¹´å‘å±•åˆ°ç°åœ¨å·²æœ‰8å¹´çš„å†å²äº†, ä»ç„¶æœ‰è¿™ä¹ˆå¤šäººåœ¨å¼€å‘ä½¿ç”¨, çœŸçš„è®©äººæ•¬ä½©ä¸å·². åŒæ—¶ MyGUI çš„ä»£ç ç®€æ´, ä¼˜ç¾, ååˆ†é€‚åˆå­¦ä¹ ç ”ç©¶, ä¸‹é¢æˆ‘å°†ä»æµ…å…¥æ·±çš„å’Œå¤§å®¶åˆ†äº«æˆ‘çš„å­¦ä¹ ç»éªŒ!</p>
]]></content>
      
        
        <tags>
            
            <tag> MyGUI </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Pyqt5 MacOS ç¯å¢ƒæ­å»º]]></title>
      <url>http://blog.justbilt.com/2015/10/17/setup-pyqt5-on-mac/</url>
      <content type="html"><![CDATA[<p>å°è¯•è¿‡ç”¨å„ç§ python çš„ gui åº“æ¥å†™ä¸€äº›å°å·¥å…·, TkInter, wxPython, Pyfltk , PyQtç­‰, æœ€ç»ˆå‘ç°è¿˜æ˜¯åªæœ‰ <code>wxPython</code> å’Œ <code>PyQt</code> èƒ½ç›¸å¯¹é è°±ä¸€äº›, æ§ä»¶å…¨, æ–‡æ¡£ä¸°å¯Œ, ä½¿ç”¨çš„äººå¤š. å› ä¸ºæ›¾ç»ä½¿ç”¨æè¿‡ qt , æ‰€ä»¥æœ€ç»ˆé€‰æ‹©äº† PyQt, è¿™æ¬¡æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹å¦‚ä½•åœ¨ Mac ä¸Šå®‰è£….</p>
<a id="more"></a>
<h1 id="1-å®‰è£…-qt"><a href="#1-å®‰è£…-qt" class="headerlink" title="1. å®‰è£… qt"></a>1. å®‰è£… qt</h1><p>PyQt å…¶å®å°±æ˜¯ qt çš„ python ç»‘å®š, æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆéœ€è¦å®‰è£… qt, ç‰ˆæœ¬å¯ä»¥è‡ªè¡Œé€‰æ‹©, <a href="http://www.qt.io/download-open-source/#section-2" target="_blank" rel="noopener">æœ€æ–°ç‰ˆ</a> çš„ä¸‹è½½åœ°å€, <a href="http://download.qt.io/archive/qt/" target="_blank" rel="noopener">å†å²ç‰ˆæœ¬</a>çš„åœ°å€. å¦‚æœè¿½æ±‚æœ€æ–°ç‰ˆçš„è¯, æœ€å¥½æ˜¯å» PyQt çš„<a href="http://sourceforge.net/projects/PyQt/files/PyQt5/" target="_blank" rel="noopener">ä¸‹è½½ç½‘ç«™</a>çœ‹é‚£ä¸€ä¸‹æœ€æ–°ç‰ˆæ˜¯ä»€ä¹ˆ, å› ä¸º PyQt çš„æ›´æ–°é€Ÿåº¦ä¼šè½åäº qt.</p>
<p><img src="http://static.zybuluo.com/justbilt/krc3gqufsqx99msip1jw9fqy/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-09-12%20%E4%B8%8A%E5%8D%887.37.42.png" alt="å±å¹•å¿«ç…§ 2015-09-12 ä¸Šåˆ7.37.42.png-117.1kB"></p>
<p>å½“çœ‹åˆ°è¿™ä¸ªç•Œé¢æ—¶, qt å°±å®‰è£…æˆåŠŸäº†.</p>
<h1 id="2-å®‰è£…-sip"><a href="#2-å®‰è£…-sip" class="headerlink" title="2. å®‰è£… sip"></a>2. å®‰è£… sip</h1><p>sip æ˜¯ä¸€ä¸ª python è°ƒç”¨ c çš„å·¥å…·, å®˜æ–¹ç½‘å€åœ¨<a href="http://PyQt.sourceforge.net/Docs/sip4/installation.html" target="_blank" rel="noopener">è¿™é‡Œ</a>, æˆ‘ä»¬å¯ä»¥æŒ‰ç…§å®˜ç½‘ä¸Šçš„æŒ‡å—å»å®‰è£…, ä¹Ÿå¯ä»¥é€‰æ‹©å¦ä¸€ç§æ›´ç®€å•çš„æ–¹å¼:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install sip</span><br></pre></td></tr></table></figure>
<h1 id="3-å®‰è£…-PyQt"><a href="#3-å®‰è£…-PyQt" class="headerlink" title="3. å®‰è£… PyQt"></a>3. å®‰è£… PyQt</h1><hr>
<p>æˆ‘ä»¬é¦–å…ˆå»<a href="http://sourceforge.net/projects/PyQt/files/PyQt5/" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½é€‚åˆè‡ªå·±ç‰ˆæœ¬, è§£å‹, å¹¶åœ¨ç»ˆç«¯ cd è¿›è¿™ä¸ªç›®å½•. æ‰§è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python configure.py</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå‡ºç° <code>Error: Use the --qmake argument to explicitly specify a working Qt qmake.</code> é”™è¯¯, åˆ™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å°† <code>qmake</code> åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­. é‚£ä¹ˆ qmake åœ¨å“ªé‡Œå‘¢? æ ¹ç»å®‰è£…è·¯å¾„å’Œç‰ˆæœ¬,å·®ä¸å¤šæ˜¯åœ¨è¿™æ ·çš„ä¸€ä¸ªè·¯å¾„ä¸­:</p>
<p><img src="http://static.zybuluo.com/justbilt/6tbyfo13vr6hf4cuztepeja9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-09-13%20%E4%B8%8B%E5%8D%884.41.29.png" alt="å±å¹•å¿«ç…§ 2015-09-13 ä¸‹åˆ4.41.29.png-75.1kB"></p>
<p>çŸ¥é“äº†è·¯å¾„, æˆ‘ä»¬å¯ä»¥ä¼¼ä¹å¯ä»¥é€šè¿‡ <code>--qmake</code> å‚æ•°æŒ‡å®š qmake ç›®å½• ,ä½†å…¶å®æˆ‘ä»¬å¯ä»¥æŠŠå®ƒä¸´æ—¶çš„åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­, åœ¨ç»ˆç«¯ä¸­é”®å…¥:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/path/your/qt/version/clang_64/bin:$PATH</span><br></pre></td></tr></table></figure>
<p>å†æ¬¡æ‰§è¡Œ<code>python configure.py</code>, ä¸€åˆ‡é¡ºæ—çš„è¯ä¼šé‡åˆ°ä¸€ä¸ªé€‰æ‹© license çš„æç¤º, æˆ‘ä»¬è¾“å…¥ <code>yes</code> å³å¯.</p>
<p>ç­‰å¾… <code>configure</code> å®Œæˆ, æˆ‘ä»¬æ‰§è¡Œ:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ¬¡å¯èƒ½å¹¶æ²¡æœ‰é‚£ä¹ˆé¡ºåˆ©, æˆ‘é‡åˆ°è¿™æ ·çš„é”™è¯¯:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In file included from ../qpy/QtCore/qpycore_api.h:30:</span><br><span class="line">../qpy/QtCore/qpycore_public_api.h:26:10: fatal error: &apos;sip.h&apos; file not found</span><br><span class="line">#include &lt;sip.h&gt;</span><br><span class="line">         ^</span><br><span class="line">1 error generated.</span><br><span class="line">make[1]: *** [qpycore_post_init.o] Error 1</span><br><span class="line">make: *** [sub-QtCore-make_first-ordered] Error 2</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä¼ å…¥ sip çš„ include è·¯å¾„, å¦‚æœæ˜¯é€šè¿‡ brew å®‰è£…çš„(å¦‚æœä¸æ˜¯, è¯·çœ‹æ–‡ç« æœ«å°¾çš„Q&amp;A), å¯ä»¥é€šè¿‡ <code>brew info sip</code>è·å¾—:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ brew info sip</span><br><span class="line">sip: stable 4.16.9 (bottled), HEAD</span><br><span class="line">Tool to create Python bindings for C and C++ libraries</span><br><span class="line">http://www.riverbankcomputing.co.uk/software/sip</span><br><span class="line">/usr/local/Cellar/sip/4.16.9 (10 files, 908K) *</span><br></pre></td></tr></table></figure>
<p>ç„¶åé‡æ–°æ‰§è¡Œ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python configure.py --sip-incdir=/path/of/your/sip/4.16.9/include</span><br></pre></td></tr></table></figure>
<p>ç­‰å¾…æˆåŠŸå, æˆ‘ä»¬å¯ä»¥æ‰§è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>åˆ°æ­¤ä¸ºæ­¢, æˆ‘ä»¬å®‰è£…å°±å®Œæˆäº†. ä¸‹é¢è®©æˆ‘ä»¬ç”¨ <a href="http://zetcode.com/gui/pyqt5/" target="_blank" rel="noopener">zetcode</a> ä¸Šçš„ä¾‹é¢˜æµ‹è¯•ä¸€ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ZetCode PyQt5 tutorial </span><br><span class="line"></span><br><span class="line">In this example, we create a simple</span><br><span class="line">window in PyQt5.</span><br><span class="line"></span><br><span class="line">author: Jan Bodnar</span><br><span class="line">website: zetcode.com </span><br><span class="line">last edited: January 2015</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import sys</span><br><span class="line">from PyQt5.QtWidgets import QApplication, QWidget</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    </span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">    w = QWidget()</span><br><span class="line">    w.resize(250, 150)</span><br><span class="line">    w.move(300, 300)</span><br><span class="line">    w.setWindowTitle(&apos;Simple&apos;)</span><br><span class="line">    w.show()</span><br><span class="line">    </span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<p>æŠŠä¸Šé¢é‚£æ®µä»£ç ä¿å­˜åœ¨ä¸€ä¸ªpythonæ–‡ä»¶ä¸­, ç„¶åæ‰§è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python test.py</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå‡ºç°ä¸‹é¢è¿™ä¸ªç•Œé¢, å°±è¯´æ˜ä½ æˆåŠŸäº†!</p>
<p><img src="http://static.zybuluo.com/justbilt/qg63w41bobru04w0oki6iu8g/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-09-14%20%E4%B8%8A%E5%8D%888.02.58.png" alt="å±å¹•å¿«ç…§ 2015-09-14 ä¸Šåˆ8.02.58.png-20kB"></p>
<hr>
<p>å¦‚æœä½ æ²¡æœ‰é€šè¿‡ brew å®‰è£… sip , ä½ å¯èƒ½é‡åˆ°çš„é—®é¢˜:</p>
<h2 id="1-å®‰è£…-PyQt-æ‰§è¡Œ-python-configure-py-æ—¶æ‰¾ä¸åˆ°-sip"><a href="#1-å®‰è£…-PyQt-æ‰§è¡Œ-python-configure-py-æ—¶æ‰¾ä¸åˆ°-sip" class="headerlink" title="1. å®‰è£… PyQt , æ‰§è¡Œ python configure.py æ—¶æ‰¾ä¸åˆ° sip"></a>1. å®‰è£… PyQt , æ‰§è¡Œ <code>python configure.py</code> æ—¶æ‰¾ä¸åˆ° sip</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sh: sip: command not found</span><br><span class="line">Error: &apos;sip -V&apos; did not generate any output.</span><br></pre></td></tr></table></figure>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>çŸ¥é“ä½ å®‰è£… sip <code>make install</code> æ—¶çš„ä¸€äº›ä¿¡æ¯, æ¯”å¦‚:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ make install</span><br><span class="line">cp -f sip /usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/bin/sip</span><br></pre></td></tr></table></figure></p>
<p>ç„¶ååœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/path/of/your/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/bin/:$PATH</span><br></pre></td></tr></table></figure>
<h2 id="2-fatal-error-â€˜sip-hâ€™-file-not-found"><a href="#2-fatal-error-â€˜sip-hâ€™-file-not-found" class="headerlink" title="2. fatal error: â€˜sip.hâ€™ file not found"></a>2. fatal error: â€˜sip.hâ€™ file not found</h2><p>é”™è¯¯:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In file included from qpycore_post_init.cpp:25:</span><br><span class="line">In file included from ../qpy/QtCore/qpycore_api.h:30:</span><br><span class="line">../qpy/QtCore/qpycore_public_api.h:26:10: fatal error: &apos;sip.h&apos; file not found</span><br><span class="line">#include &lt;sip.h&gt;</span><br><span class="line">         ^</span><br><span class="line">1 error generated.</span><br><span class="line">make[1]: *** [qpycore_post_init.o] Error 1</span><br><span class="line">make: *** [sub-QtCore-make_first-ordered] Error 2</span><br></pre></td></tr></table></figure></p>
<p><a href="http://python.6.x6.nabble.com/PyQt-5-1-1-Compilation-Error-td5037071.html" target="_blank" rel="noopener">è§£å†³æ–¹æ¡ˆ</a>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python configure.py --sip-incdir=/path/of/your/Downloads/sip-4.16.9/siplib</span><br></pre></td></tr></table></figure>
<hr>
<p>Update 2015å¹´11æœˆ25æ—¥:</p>
<h2 id="å¦‚ä½•ä¸º-python3-å®‰è£…-pyqt5"><a href="#å¦‚ä½•ä¸º-python3-å®‰è£…-pyqt5" class="headerlink" title="å¦‚ä½•ä¸º python3 å®‰è£… pyqt5"></a>å¦‚ä½•ä¸º python3 å®‰è£… pyqt5</h2><h3 id="1-å®‰è£…-sip-æ—¶é™„åŠ é¢å¤–å‚æ•°-with-python3"><a href="#1-å®‰è£…-sip-æ—¶é™„åŠ é¢å¤–å‚æ•°-with-python3" class="headerlink" title="1. å®‰è£… sip æ—¶é™„åŠ é¢å¤–å‚æ•° --with-python3"></a>1. å®‰è£… sip æ—¶é™„åŠ é¢å¤–å‚æ•° <code>--with-python3</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install sip --with-python3</span><br></pre></td></tr></table></figure>
<h3 id="2-å®‰è£…-PyQt-æ—¶é™„åŠ é¢å¤–å‚æ•°-target-py-version-VERSION-e-g-3-4"><a href="#2-å®‰è£…-PyQt-æ—¶é™„åŠ é¢å¤–å‚æ•°-target-py-version-VERSION-e-g-3-4" class="headerlink" title="2. å®‰è£… PyQt æ—¶é™„åŠ é¢å¤–å‚æ•° --target-py-version=VERSION (e.g. 3.4)"></a>2. å®‰è£… PyQt æ—¶é™„åŠ é¢å¤–å‚æ•° <code>--target-py-version=VERSION</code> (e.g. 3.4)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 configure.py --sip-incdir=/path/of/your/sip/include --target-py-version=VERSION</span><br></pre></td></tr></table></figure>
]]></content>
      
        
        <tags>
            
            <tag> PyQt </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ldoc å…¥é—¨æŒ‡å—]]></title>
      <url>http://blog.justbilt.com/2015/08/23/ldoc/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘å› ä¸ºæœåŠ¡ç«¯çš„ä¸€äº›å˜æ•…, éœ€è¦ä¸€ä»½å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨äº¤äº’çš„ api æ–‡æ¡£. é¦–å…ˆè‚¯å®šæ˜¯è¦æ’é™¤æ‰æ‰‹å†™çš„, api æ–‡æ¡£è¿™è´§è‚¯å®šæ˜¯è¦è‡ªåŠ¨ç”Ÿæˆå•¦, è¦ä¸ä»¥åç»´æŠ¤èµ·æ¥å¾—æ­»äººçš„.</p>
<a id="more"></a>
<p>é¡¹ç›®å‰ç«¯æ˜¯ä½¿ç”¨ quick-cocos2d-x æ¥å¼€å‘çš„, å¼€å‘è¯­è¨€æ˜¯ lua, æ‰¾äº†ä¸€ä¸‹ lua çš„æ–‡æ¡£ç”Ÿæˆå·¥å…·, è²Œä¼¼åªæœ‰ LuaDoc å’Œ LDoc å¯ä»¥é€‰. LuaDoc å·²ç»å¥½å‡ å¹´æ²¡æœ‰äººç»´æŠ¤äº†, åŠ ä¸Š LDoc å¯ä»¥å…¼å®¹ LuaDoc çš„æ–‡æ¡£, æ‰€ä»¥å°±å®šäº† LDoc.</p>
<h1 id="ä¸€-å®‰è£…"><a href="#ä¸€-å®‰è£…" class="headerlink" title="ä¸€. å®‰è£…"></a>ä¸€. å®‰è£…</h1><p>å› ä¸º LDoc ä¾èµ–ä¸ penlight å’Œ lfs , æ‰€ä»¥ä½¿ç”¨ luarocks æ¥å®‰è£…æ˜¯æœ€ç®€å•çš„, ä¸ç„¶è‡ªå·±è¿˜å¾—å¤„ç†ä¾èµ–. å› æ­¤æˆ‘ä»¬éœ€è¦å…ˆå®‰è£… luarocks.</p>
<h2 id="1-å®‰è£…luarocks"><a href="#1-å®‰è£…luarocks" class="headerlink" title="1. å®‰è£…luarocks"></a>1. å®‰è£…luarocks</h2><p>å¦‚æœå·²ç»å®‰è£…è¿‡äº†çš„è¯,å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥.</p>
<h3 id="1-1-é€šè¿‡-homebrew-å®‰è£…"><a href="#1-1-é€šè¿‡-homebrew-å®‰è£…" class="headerlink" title="1.1 é€šè¿‡ homebrew å®‰è£…"></a>1.1 é€šè¿‡ homebrew å®‰è£…</h3><p>é€šè¿‡ homwbrew å®‰è£…æ˜¯æœ€ç®€å•çš„,  åªéœ€è¦ <code>brew update</code> å’Œ <code>brew install luarocks</code> ä¸¤æ­¥å°±å¯ä»¥å•¦! ä¸è¿‡ brew update ç­‰å¾…çš„æ—¶é—´å¯èƒ½ä¼šæ¯”è¾ƒä¹…, è€å¿ƒä¸å¤Ÿçš„è¯å¯ä»¥å°è¯•ä»æºç å®‰è£….</p>
<h3 id="1-2-é€šè¿‡æºç å®‰è£…"><a href="#1-2-é€šè¿‡æºç å®‰è£…" class="headerlink" title="1.2 é€šè¿‡æºç å®‰è£…"></a>1.2 é€šè¿‡æºç å®‰è£…</h3><p>1). ä»<a href="https://github.com/keplerproject/luarocks/wiki/Release-history" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½æœ€æ–°ç‰ˆçš„ luarocks æºæ–‡ä»¶, è§£å‹.</p>
<p>2). æ‰“å¼€ç»ˆç«¯, cd åˆ°åˆšæ‰è§£å‹çš„ç›®å½•.</p>
<p>3). é”®å…¥ <code>./configure</code></p>
<p>è¿™ä¸€æ­¥çš„è¯æ¯”è¾ƒè¯¡å¼‚, æˆ‘åœ¨å…¬å¸è£…çš„æ—¶å€™å„ç§é—®é¢˜, åœ¨å®¶é‡Œè£…å°±æ²¡æœ‰é—®é¢˜. æ¯”å¦‚å‡ºç°äº†è¿™ä¸ª:</p>
<blockquote>
<p>Looking for Luaâ€¦<br>lua not found in $PATH.<br>You may want to use the flags â€“with-lua, â€“with-lua-bin and/or â€“lua-suffix. See â€“help.<br>configure failed.</p>
</blockquote>
<p>è¿™æ˜¯æ²¡æœ‰æ‰¾åˆ°luaçš„åŸå› , ç¡®ä¿ä½ å®‰è£…äº†lua, å¯ä»¥é€šè¿‡<code>which lua</code>æ¥æ‰¾åˆ°luaçš„å®‰è£…è·¯å¾„. ç„¶åç”¨<code>--with-lua-bin</code> å‚æ•°ä¼ ç»™<code>configure</code>, å¦‚:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --with-lua-bin=/usr/local</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Could not find a downloader helper program. Tried: curl wget fetch.<br>Make sure one of them is installed and available in your PATH.<br>configure failed.</p>
</blockquote>
<p>å…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šæŠ½è¿™ä¸ªé£, <code>curl</code> å’Œ <code>wget</code> æˆ‘éƒ½æœ‰å®‰è£…çš„, ç”¨ <code>--with-downloader</code> æŒ‡å®šä¸€ä¸‹å°±okäº†, å¦‚:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --with-lua=/usr/local --with-downloader=wget</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Could not find a MD5 checksum calculator. Tried: md5sum openssl md5.<br>Make sure one of them is installed and available in your PATH.<br>configure failed.</p>
</blockquote>
<p>é¢, è¿˜æ˜¯æŒ‡å®šä¸€ä¸‹ <code>--with-md5-checker</code> å§!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --with-lua=/usr/local --with-downloader=wget --with-md5-checker=md5</span><br></pre></td></tr></table></figure>
<p>4). é”®å…¥ <code>make build</code></p>
<p>5). é”®å…¥ <code>make install</code></p>
<p>å¦‚æœä¸€åˆ‡æ­£å¸¸çš„è¯, é‚£ä¹ˆå°±å®‰è£…æˆåŠŸäº†. å¯ä»¥é€šè¿‡é”®å…¥ <code>luarocks</code> æ¥æ£€æµ‹.</p>
<h2 id="2-å®‰è£…-LDoc"><a href="#2-å®‰è£…-LDoc" class="headerlink" title="2. å®‰è£… LDoc"></a>2. å®‰è£… LDoc</h2><p>å®‰è£…å¥½ luarocks ä¹‹å, å®‰è£… LDoc æ˜¯éå¸¸ç®€å•çš„, åªéœ€è¦:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">luarocks install ldoc</span><br></pre></td></tr></table></figure>
<p>å°±å¯ä»¥äº†, luarocks ä¼šè‡ªåŠ¨å¸®ä½ å®‰è£…ä¾èµ–é¡¹. å®‰è£…å¥½ä¹‹ååœ¨ç»ˆç«¯é”®å…¥ <code>ldoc -h</code>, å¦‚æœå‡ºç°ä¸‹é¢è¿™ä¸ª, åˆ™ä»£è¡¨å®‰è£…æˆåŠŸ!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ldoc, a documentation generator for Lua, vs 1.4.3</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="äºŒ-æ¦‚è§ˆ"><a href="#äºŒ-æ¦‚è§ˆ" class="headerlink" title="äºŒ. æ¦‚è§ˆ"></a>äºŒ. æ¦‚è§ˆ</h1><p>è®©æˆ‘ä»¬å…ˆé€šè¿‡ä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¥äº†è§£ä¸‹ ldoc , å…ˆåˆ›å»ºä¸€ä¸ªç›®å½•, åœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>test.lua</code> æ–‡ä»¶, å°†ä¸‹é¢çš„å†…å®¹å¤åˆ¶åˆ°é‡Œé¢:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">--- a test module</span><br><span class="line">-- @module test</span><br><span class="line"></span><br><span class="line">local test = &#123;&#125;</span><br><span class="line"></span><br><span class="line">--- this is a function</span><br><span class="line">-- @string param1 this is param1</span><br><span class="line">-- @int param2 this is param2</span><br><span class="line">-- @return a string value</span><br><span class="line">function test.my_module_function_1(param1, param2)</span><br><span class="line">	return param1 .. param2</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">return test</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯, é”®å…¥ <code>ldoc test.lua</code>, ä¸€åˆ‡æ­£å¸¸çš„è¯, ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªåä¸º doc æ–‡ä»¶å¤¹, æ‰“å¼€ <code>doc/index.html</code> æ–‡ä»¶, ä¼šçœ‹åˆ°ä¸‹é¢è¿™æ ·çš„ä¸œè¥¿.</p>
<p><img src="/img/2015-08-23-1.jpg" alt=""></p>
<p>è™½ç„¶å¾ˆä¸‘é™‹, ä½†ä¹Ÿè¿˜ä¸é”™, è¯¥æœ‰çš„éƒ½æœ‰. æˆ‘ä»¬ä»”ç»†çœ‹ä¸€ä¸‹è¿™ä¸ªæµ‹è¯•, æ€»ä½“ç”± test æ¨¡å— å’Œ my_module_function_1 å‡½æ•° 2éƒ¨åˆ†ç»„æˆ. å®ƒä»¬éƒ½æ˜¯ä»¥ <code>---</code> å¼€å§‹çš„, è¿™æ˜¯ ldoc çš„ä¸€ä¸ªè§„åˆ™, åªæœ‰ä»¥ <code>---</code> å¼€å§‹çš„æ³¨é‡Šæ‰ä¼šè¢« ldoc è§£æ, è¿™æ ·å°±å¯ä»¥æ’é™¤æ‰æ™®é€šçš„æ³¨é‡Šä¿¡æ¯. <code>@module</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡ç­¾, åé¢è·Ÿç€æ¨¡å—çš„åå­—, ä½†å…¶å®è¿™ä¸ªæ ‡ç­¾æ˜¯å¯é€‰çš„, æ²¡æœ‰çš„è¯é»˜è®¤ä¼šä»¥æ–‡ä»¶åæ¥å®šä¹‰æ¨¡å—å.</p>
<p>ç±»ä¼¼çš„æ ‡ç­¾è¿˜æœ‰å¾ˆå¤š, æˆ‘ä»¬åœ¨ä¸‹é¢ä¼šä¸€ä¸€è¯´æ˜.</p>
<h1 id="ä¸‰-è¯¦è§£"><a href="#ä¸‰-è¯¦è§£" class="headerlink" title="ä¸‰. è¯¦è§£"></a>ä¸‰. è¯¦è§£</h1><h2 id="1-æ ‡ç­¾"><a href="#1-æ ‡ç­¾" class="headerlink" title="1. æ ‡ç­¾"></a>1. æ ‡ç­¾</h2><ul>
<li><strong>@module</strong> æ¨¡å—, ä¸€èˆ¬ä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—.</li>
<li><strong>@classmod</strong> å’Œ @module ç±»ä¼¼, ä½†æ˜¯ç”¨æ¥æè¿° class, ç”¨è¿™ä¸ªæ ‡ç­¾å, ç”Ÿæˆçš„æ–‡æ¡£ä¸­ Module æ–‡å­—ä¼šå˜æˆ Class.</li>
<li><strong>@submodule</strong> å¦‚æœä¸€ä¸ªæ¨¡å—çš„å†…å®¹è¢«åˆ†åˆ°äº†å¥½å‡ ä¸ªæ–‡ä»¶ä¸­, é‚£ä¹ˆå°±å¯ä»¥å†å…¶ä»–æ–‡ä»¶ä¸­ç”¨ submodule æ¥å®šä¹‰, åé¢è·Ÿä¸Šmaster moduleçš„åå­—.</li>
<li><strong>@script</strong> å’Œ @module ç±»ä¼¼, ç”Ÿæˆçš„æ–‡æ¡£ä¸­ Module æ–‡å­—ä¼šå˜æˆ Script.</li>
</ul>
<blockquote>
<p>ä»¥ä¸Šå‡ ä¸ªæ ‡ç­¾éƒ½æ˜¯<code>project-level</code>, æ„å‘³ç€æ¯ä¸ªæ–‡ä»¶ä¸­åªèƒ½åŒ…å«å®ƒä»¬å…¶ä¸­çš„ä¸€ä¸ª, å¦åˆ™ç”Ÿæˆæ—¶å°±ä¼šæç¤º <code>Module already declared!</code> é”™è¯¯.</p>
</blockquote>
<ul>
<li><p><strong>@author</strong> (multiple), @copyright, @license, @release è¿™å‡ ä¸ªå•¥æ„æ€å°±ä¸å¿…è¯´äº†å§, å€¼å¾—ä¸€æçš„æ˜¯å®ƒä»¬å¿…é¡»æ”¾åœ¨<code>project-level</code>,å¦‚ @module æ ‡ç­¾ä¸‹.</p>
</li>
<li><p><strong>@function</strong>, @lfunction. ç”¨æ¥æè¿°å‡½æ•°. @function ä¸€èˆ¬æƒ…å†µä¸‹ä¸ç”¨åŠ , åªéœ€è¦ç»™å‡½æ•°åŠ ä¸Š<code>---</code>æ³¨é‡Šå°±å¯ä»¥. @lfunction ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå±€éƒ¨å‡½æ•°, ä½†æ˜¯ldocé»˜è®¤æ˜¯ä¸ä¼šå¯¼å‡ºå±€éƒ¨å˜é‡å’Œå‡½æ•°çš„.</p>
</li>
<li><strong>@param</strong> @int, @string, @bool, @func, @tab, @thread ç”¨æ¥æè¿°å‡½æ•°å‚æ•°, åé¢å‡ ä¸ªæŒ‡å®šäº†å‚æ•°ç±»å‹.</li>
<li><strong>@return</strong> å‡½æ•°çš„è¿”å›å€¼, å‡½æ•°çš„è¿”å›å€¼å¯èƒ½æœ‰å¤šç§, å› æ­¤ @return åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ä¹Ÿæ˜¯å¯ä»¥å¤šæ¬¡ä½¿ç”¨çš„</li>
<li><strong>@raise</strong> è¿™ä¸ªå‡½æ•°å¯èƒ½æŠ›å‡ºçš„é”™è¯¯</li>
<li><strong>@local</strong> æœ€å¤§çš„ä½œç”¨æ˜¯ä½¿å¾—ä¸€ä¸ªå‡½æ•°ä¸è¢«å¯¼å‡º, é™¤éä½¿ç”¨äº†(unless â€“all)</li>
<li><strong>@see</strong> å¼•ç”¨æ–‡æ¡£çš„å…¶ä»–å†…å®¹, åŒä¸€æ¨¡å—çš„è¯ç›´æ¥ <code>@see xxx</code>, ä¸åŒæ¨¡å—çš„è¯éœ€è¦åŠ ä¸Šæ¨¡å—å <code>@see xxmodule.xxfunc</code></li>
<li><strong>@usage</strong> ç»™å‡ºå‡½æ•°çš„ç”¨ä¾‹, å¯ä»¥åˆ†å¤šè¡Œæ¥å†™</li>
<li><strong>@fixme</strong>, @todo å’Œ @warning , æ„æ€å¤§å®¶åº”è¯¥éƒ½æ‡‚. ä½†æ˜¯å¿…é¡»åœ¨å‡½æ•°ä½“å†…éƒ¨å¹¶ä¸”ä»¥ <code>---</code> å¼€å¤´æ‰èƒ½ç”Ÿæ•ˆ.</li>
</ul>
<blockquote>
<p>ä»¥ä¸Šå‡ ä¸ªæ ‡ç­¾éƒ½æ˜¯æè¿°functionçš„ä¸€äº›è¡Œä¸ºçš„</p>
</blockquote>
<ul>
<li><strong>@table</strong> æè¿°ä¸€ä¸ªtable, ä¹Ÿå¯ä»¥ä¸åŠ , åªéœ€è¦ç»™tableåŠ ä¸Š<code>---</code>æ³¨é‡Šå°±å¯ä»¥.</li>
<li><p><strong>@field</strong> ç”¨æ¥æè¿°tableä¸­çš„ä¸€ä¸ªå­—æ®µ</p>
</li>
<li><p><strong>@section</strong> ç”¨æ¥æŠŠä¸€ä¸ªæ¨¡å—åˆ†éš”æˆå¥½å‡ å—</p>
</li>
<li><strong>@type</strong> å’Œ @class çš„ä½œç”¨å·®ä¸å¤š, ä½†ä¸èƒ½ä¸ @class åŒæ—¶å­˜åœ¨. ä¸€ä¸ªæ–‡ä»¶ä¸­å¯ä»¥æœ‰å¤šå¤„ @type , ä¼šå’Œ @section ä¼¼å¾—å§æ–‡ä»¶åˆ†éš”æˆå¥½å¤šä»½.</li>
<li><strong>@within</strong> ç”¨æ¥å½¢å®¹å‡½æ•°å’Œtable, æŒ‡å®šå®ƒä»¬å±äºå“ªä¸ªsection, å¯ä»¥æŒ‡å®šä¸å­˜åœ¨çš„ä¸€ä¸ªsection, ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª</li>
</ul>
<p>å“ˆå“ˆ, ä»¥ä¸Šå°±æ˜¯æ‰€æœ‰çš„æ ‡ç­¾å•¦, è™½ç„¶æ¯”è¾ƒå¤š, ä½†æ˜¯æœ‰å¾ˆå¤šéƒ½ä¸æ€ä¹ˆå¸¸ç”¨, æ‰€ä»¥è¿˜æ˜¯å¾ˆå¥½ç†è§£çš„.</p>
<h2 id="2-å¯¹äºå‡½æ•°çš„ä¸€äº›é«˜çº§ç”¨æ³•"><a href="#2-å¯¹äºå‡½æ•°çš„ä¸€äº›é«˜çº§ç”¨æ³•" class="headerlink" title="2. å¯¹äºå‡½æ•°çš„ä¸€äº›é«˜çº§ç”¨æ³•"></a>2. å¯¹äºå‡½æ•°çš„ä¸€äº›é«˜çº§ç”¨æ³•</h2><h3 id="2-1-æ˜¾ç¤ºå‚æ•°çš„ç±»å‹"><a href="#2-1-æ˜¾ç¤ºå‚æ•°çš„ç±»å‹" class="headerlink" title="2.1 æ˜¾ç¤ºå‚æ•°çš„ç±»å‹"></a>2.1 æ˜¾ç¤ºå‚æ•°çš„ç±»å‹</h3><p>è¿™ä¸ªå‰é¢æœ‰æè¿‡, @param æ˜¯ä¸æŒ‡æ˜å…·ä½“ç±»å‹çš„, è‹¥æƒ³æŒ‡æ˜çš„è¯å¯ä»¥ç”¨ @int, @string, @bool, @func, @tab, @thread å‡ ä¸ªæ ‡ç­¾æ¥.</p>
<h3 id="2-2-å¯é€‰å‚æ•°ä¸é»˜è®¤å€¼"><a href="#2-2-å¯é€‰å‚æ•°ä¸é»˜è®¤å€¼" class="headerlink" title="2.2 å¯é€‰å‚æ•°ä¸é»˜è®¤å€¼"></a>2.2 å¯é€‰å‚æ•°ä¸é»˜è®¤å€¼</h3><p>å¯é€‰å‚æ•°çš„æ ‡è®°æ˜¯è‡ªå‚æ•°æ ‡ç­¾åç´§è·Ÿ <code>[opt]</code> æ¥æ ‡è¯†, é»˜è®¤å€¼åˆ™æ˜¯ <code>[opt=xx]</code>. è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå®˜æ–¹çš„ç¤ºä¾‹:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--- a function with typed args.</span></span><br><span class="line"><span class="comment">-- @string name person's name</span></span><br><span class="line"><span class="comment">-- @int age</span></span><br><span class="line"><span class="comment">-- @string[opt='gregorian'] calender optional calendar</span></span><br><span class="line"><span class="comment">-- @int[opt=0] offset optional offset</span></span><br><span class="line"><span class="comment">-- @treturn string</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">one</span> <span class="params">(name,age,...)</span></span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">----&gt; displayed as: one (name, age [, calender='gregorian' [, offset=0]])</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-å¤šç§è¿”å›å€¼"><a href="#2-3-å¤šç§è¿”å›å€¼" class="headerlink" title="2.3 å¤šç§è¿”å›å€¼"></a>2.3 å¤šç§è¿”å›å€¼</h3><p>ä¸€ä¸ªå‡½æ•°ä¸åŒçš„æƒ…å†µå¯èƒ½è¿”å›ä¸åŒçš„å€¼, æ„ä¹‰ä¹Ÿéƒ½ä¸ä¸€æ ·, é‚£ä¹ˆæ€ä¹ˆæ¥è¡¨ç¤ºå‘¢? ç­”æ¡ˆæ˜¯åœ¨ @return åç´§è·Ÿ <code>[x]</code> (xå¯ä»¥æ˜¯1,2,3,â€¦) æ¥æ ‡è¯†. ç”Ÿæˆå‡ºæ¥çš„æ–‡æ¡£æ˜¯ç”¨ <code>Or</code> æ¥åˆ—å‡ºè¿™äº›ä¸åŒçš„è¿”å›å€¼çš„.</p>
<h2 id="3-config-ld-çš„å­—æ®µè¯´æ˜"><a href="#3-config-ld-çš„å­—æ®µè¯´æ˜" class="headerlink" title="3. config.ld çš„å­—æ®µè¯´æ˜"></a>3. config.ld çš„å­—æ®µè¯´æ˜</h2><p>ldoc è¿è¡Œæ—¶æœ‰ä¸€å †å‚æ•°å¯ä»¥ä¼ é€’, åœ¨ç»ˆç«¯ä¸­å»åšæ¯”è¾ƒéº»çƒ¦, ä¿®æ”¹ä¹Ÿä¸å¤ªæ–¹ä¾¿. å› æ­¤æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>config.ld</code> é…ç½®æ–‡ä»¶æ¥åšè¿™ä¸ªäº‹æƒ…, <code>ldoc .</code> è¡¨ç¤ºåœ¨å½“å‰ç›®å‰ä¸‹æŸ¥æ‰¾ config.ld æ–‡ä»¶, <code>ldoc -c path/to/myconfig.ld &lt;file&gt;</code> è¯»å–ç‰¹æ®Šçš„ç›®å½•çš„é…ç½®æ–‡ä»¶. å…¶å® <code>config.ld</code> å°±æ˜¯ä¸€ä¸ªluaæ–‡ä»¶, å¡«å†™æ—¶éœ€è¦éµå¾ªluaè¯­æ³•.</p>
<p>config.ld æ–‡ä»¶ä¸­æœ‰ä¸€å¤§å¨çš„æ¡ç›®å¯ä»¥é€‰æ‹©, æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä»–ä»¬éƒ½æ˜¯ä»€ä¹ˆæ„æ€å§.</p>
<ul>
<li><strong>file</strong> å¯ä»¥æ˜¯ä¸€ä¸ªæ–‡ä»¶åæˆ–è€…ç›®å½•å, å¦‚: <code>file = &#39;test.lua&#39;</code>. file ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªtable, è¿™æ—¶é‡Œé¢å¯ä»¥å¡«å†™æ–‡ä»¶æ•°ç»„æˆ–ç›®å½•æ•°ç»„, åŒæ—¶ä¹Ÿå¯ä»¥åŒ…å«å¦ä¸€ä¸ªç‰¹æ®Šçš„æ•°ç»„ <code>exclude</code>, è¡¨æ˜è¦æ’é™¤çš„æ–‡ä»¶æˆ–ç›®å½•</li>
<li><strong>project</strong> é¡¹ç›®çš„åç§°, ä¼šå‡ºç°åœ¨æ–‡æ¡£çš„å·¦ä¸Šè§’. é»˜è®¤ä¸º <code>ldoc</code></li>
<li><strong>title</strong> é¡µé¢çš„åç§°, é»˜è®¤ä¸º <code>Reference</code></li>
<li><strong>all</strong> å¯¼å‡º <code>local</code> çš„ function</li>
<li><strong>output</strong> å¯¼å‡º html çš„åå­—, é»˜è®¤æ˜¯ <code>index</code></li>
<li><strong>dir</strong> å¯¼å‡ºç›®å½•çš„åå­—, é»˜è®¤æ˜¯ <code>doc</code></li>
<li><strong>colon</strong> ä½¿ç”¨å†’å·é£æ ¼ä»£æ›¿ @ é£æ ¼çš„ tag</li>
<li><strong>boilerplate</strong> å¿½ç•¥æ‰€æœ‰æºæ–‡ä»¶ä¸­çš„é¦–ä¸ªæ³¨é‡Š(å—), æ¯”å¦‚: license æ³¨é‡Š.</li>
<li><strong>ext</strong> è¾“å‡ºæ–‡ä»¶çš„åç¼€(é»˜è®¤ä¸º <code>html</code>)</li>
<li><strong>one</strong> æ–‡æ¡£ä½¿ç”¨å•åˆ—çš„å¸ƒå±€</li>
<li><strong>style, template</strong> æŒ‡å®šæ¨¡æ¿å’Œæ ·å¼çš„ç›®å½•. åœ¨ config.ld ä¸­å®ƒä¹Ÿå¯ä»¥ä¸º <code>true</code> , è¡¨ç¤ºä½¿ç”¨å’Œé…ç½®æ–‡ä»¶åŒä¸€ç›®å½•çš„æ¨¡æ¿.</li>
<li><strong>merge</strong> å…è®¸æ–‡æ¡£ä»ä¸åŒçš„æ–‡ä»¶åˆå¹¶åŒåçš„ module , è€Œä¸æ˜¯äº§ç”Ÿå¤šä¸ªmodule.</li>
</ul>
<p>å…¶å®ƒå¯é€‰çš„å‚æ•°è¿˜æœ‰å¾ˆå¤š, ä½†æ˜¯éƒ½ä¸å¸¸ç”¨. å¤§å®¶å¯ä»¥<a href="http://stevedonovan.github.io/ldoc/manual/doc.md.html#Fields_allowed_in__config_ld_" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a>è·³è½¬åˆ°å®˜æ–¹æ–‡æ¡£ç»§ç»­æŸ¥çœ‹.</p>
<hr>
<p>è¿™ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±å·®ä¸å¤š, ldoc ç½‘ä¸Šçš„ä¸­æ–‡èµ„æ–™ä¸æ˜¯å¾ˆå¤š, åŠ ä¸Šæˆ‘ä½¿ç”¨æ—¶é‡åˆ°äº†ä¸€äº›é—®é¢˜, å› æ­¤æˆ‘å†™ä¸‹è¿™ç¯‡æ–‡ç« , ä¸»è¦æ˜¯å¸®å¤§å®¶å¯¹ ldoc å½¢æˆä¸€ä¸ªå¤§ä½“çš„å°è±¡, å…·ä½“ç»†èŠ‚æˆ–è€…é«˜çº§åŠŸèƒ½å¯èƒ½è¿˜æ˜¯å¾—å»çœ‹å®˜æ–¹çš„æ–‡æ¡£.</p>
<p>å½“ç„¶æœ‰ä»€ä¹ˆé—®é¢˜ä¹Ÿæ¬¢è¿å¤§å®¶è¯„è®ºæŒ‡å‡º, å¤šå¤šäº¤æµ!</p>
<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•:"></a>é™„å½•:</h2><p>å®˜æ–¹æ–‡æ¡£: <a href="http://stevedonovan.github.io/ldoc/" target="_blank" rel="noopener">è¿™é‡Œ</a><br>githubåœ°å€: <a href="https://github.com/stevedonovan/LDoc" target="_blank" rel="noopener">è¿™é‡Œ</a></p>
]]></content>
      
        
        <tags>
            
            <tag> Lua </tag>
            
            <tag> ldoc </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ›´æ–° spine çš„ cocos2d-x runtimes]]></title>
      <url>http://blog.justbilt.com/2015/08/16/upgrad-spine-runtime/</url>
      <content type="html"><![CDATA[<p>åˆæ˜¯2ä¸ªå¤šæœˆæ²¡æœ‰æ›´æ–°åšå®¢äº†, çœŸæ˜¯ä¸åº”è¯¥, æƒ­æ„§å•Šï¼å…¶å®æ‰‹ä¸Šå·²ç»æ”’äº†ä¸€äº›ç´ æäº†, åªæ˜¯ä¸€ç›´æ²¡æœ‰ä¸€ä¸ªå¾ˆå¼ºçš„åŠ¨åŠ›å»å†™å‡ºæ¥, ä»Šå¤©æ€»ç®—æ˜¯æœ‰ä¸€äº›æƒ³æ³•äº†, å…ˆç”¨ä¸€ç¯‡æ²¡æœ‰ä»€ä¹ˆå…»åˆ†çš„æ–‡ç« æ¥ â€œæ¢æ¢è·¯â€,  å”¤é†’ä¸‹è‡ªå·±å†™ä½œçš„æ¬²æœ›å§ï¼</p>
<a id="more"></a>
<h1 id="1-why"><a href="#1-why" class="headerlink" title="1. why ?"></a>1. why ?</h1><p>æœ€è¿‘çš„é¡¹ç›®ä¸­ç”¨åˆ° spine, ä½†æ˜¯ç¾æœ¯åœ¨spineä¸­åšçš„æ•ˆæœå´ä¸ç¨‹åºä¸­å¾—æ•ˆæœæœ‰äº›å‡ºå…¥ã€‚æ¯”å¦‚åœ¨spineä¸­è®¾ç½®ç¿»è½¬, åœ¨ç¨‹åºä¸­å´æ˜¯æ²¡æœ‰çš„ã€‚çœ‹äº†ä¸‹å¯¼å‡ºçš„jsonæ–‡ä»¶, é‡Œé¢æ˜¯æœ‰ <code>flipX</code> å­—æ®µçš„, äºæ˜¯çŒœæƒ³æ˜¯æ²¡æœ‰è§£æçš„åŸå› .</p>
<p>åœ¨spineçš„è§£æä»£ç ä¸­æœç´¢äº†ä¸€ä¸‹, æœç„¶æ˜¯æ²¡æœ‰æ‰¾åˆ°è§£æ<code>flip</code>å­—æ®µçš„ä»£ç çš„, çœ‹æ¥æ˜¯éœ€è¦æ›´æ–°ä¸‹è§£æçš„ä»£ç äº†! spine çš„è§£æåº“æ˜¯æ”¾åœ¨ github ä¸Šçš„, åœ°å€åœ¨è¿™é‡Œ <a href="https://github.com/EsotericSoftware/spine-runtimes" target="_blank" rel="noopener">https://github.com/EsotericSoftware/spine-runtimes</a>.</p>
<h1 id="2-How"><a href="#2-How" class="headerlink" title="2. How ?"></a>2. How ?</h1><ol>
<li>é¦–å…ˆæˆ‘ä»¬ clone <code>spine-runtimes</code> åˆ°æœ¬åœ°çš„ä¸€ä¸ªç›®å½•.</li>
<li>å¤åˆ¶ <code>spine-runtimes/spine-c/include/spine/</code> ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ° <code>cocos2d-x/cocos/editor-support/spine/</code></li>
<li>å¤åˆ¶ <code>spine-runtimes/spine-c/src/spine/</code> ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ° <code>cocos2d-x/cocos/editor-support/spine/</code></li>
<li>å¤åˆ¶ <code>spine-runtimes/spine-cocos2dx/3/src/spine/</code> ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ° <code>cocos2d-x/cocos/editor-support/spine/</code></li>
<li>ç¼–è¯‘, è¿è¡Œ, ç„¶åå°±æ²¡æœ‰ç„¶åäº†!</li>
</ol>
<hr>
<p>å¥½å§, è¿™ä¸ªå‡çº§è¿œæˆ‘æƒ³è±¡çš„ç®€å•å¥½å¤š, æ²¡æœ‰ç¼–è¯‘é”™è¯¯, æ²¡æœ‰è¿è¡Œå´©æºƒ, è¿˜çœŸæ˜¯ä»¤äººæœ‰äº›ä¸ä¹ æƒ¯, åªèƒ½è¯´ spine ä»–ä»¬è¿˜æ˜¯è›®è®¤çœŸçš„!</p>
]]></content>
      
        
        <tags>
            
            <tag> cocos2d-x </tag>
            
            <tag> spine </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[cocos2d-x AssetsManager é—®é¢˜æ±‡æ€»]]></title>
      <url>http://blog.justbilt.com/2015/06/06/cocos-assetsmanager/</url>
      <content type="html"><![CDATA[<p>å¤§å®¶åšçƒ­æ›´æ–°çš„æ—¶å€™éƒ½ä¼šç”¨åˆ° AssetsManager , æˆ‘ä»¬ä½¿ç”¨çš„ 2.2.6 ç‰ˆæœ¬è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜, åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹, å¸Œæœ›å¤§å®¶èƒ½å¤Ÿé¿å¼€è¿™äº›!</p>
<a id="more"></a>
<h1 id="1-â€œcan-not-open-destination-file-xxxâ€"><a href="#1-â€œcan-not-open-destination-file-xxxâ€" class="headerlink" title="1. â€œcan not open destination file xxxâ€"></a>1. â€œcan not open destination file xxxâ€</h1><p>AssetsManager åœ¨è§£å‹æ—¶æœ‰ä¸€å®šæ¦‚ç‡ä¼šå‡ºç°è¿™ä¸ªé”™è¯¯, è®©æˆ‘ä»¬å…ˆå®šä½é”™è¯¯å‘ç”Ÿç‚¹:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">FILE *out = fopen(fullPath.c_str(), <span class="string">"wb"</span>);</span><br><span class="line"><span class="keyword">if</span> (! out)</span><br><span class="line">&#123;</span><br><span class="line">    CCLOG(<span class="string">"can not open destination file %s"</span>, fullPath.c_str());</span><br><span class="line">    unzCloseCurrentFile(zipfile);</span><br><span class="line">    unzClose(zipfile);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å—¯, å…¶å®å°±æ˜¯æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å»å†™çš„æ—¶å€™å‘ç”Ÿäº†é”™è¯¯, è¿™ä¸ª <code>fullPath</code> å°±æ˜¯è§£å‹çš„ç›®æ ‡è·¯å¾„, ä½†æ˜¯è¿™ä¸ªç›®æ ‡è·¯å¾„çš„æ–‡ä»¶å¤¹æ˜¯æœ‰å¯èƒ½ä¸å­˜åœ¨çš„, æ¯”å¦‚ <code>download/res/ui/test.png</code>, å¦‚æœ <code>`download/res/ui</code> ç›®å½•ä¸å­˜åœ¨, å°±ä¼šè§£å‹å¤±è´¥.</p>
<p>è¿™ä¸ªé—®é¢˜ä¹Ÿæœ‰åˆ«äººé‡åˆ°äº†, è¿˜æœ‰å…·ä½“çš„åŸå› åˆ†æ, å¤§å®¶å¯ä»¥çœ‹è¿™é‡Œ: <a href="http://bbs.firedragonpzy.com.cn/forum.php?mod=viewthread&amp;tid=119" target="_blank" rel="noopener">AssetsManageråœ¨ä¸‹è½½æŸäº›ç‰¹å®šå†…å®¹çš„zipæ–‡ä»¶åè§£å‹ç¼©ä¼šå¤±è´¥</a>.</p>
<p>è§£å†³æ–¹æ¡ˆä¹Ÿæ¯”è¾ƒç®€å•, å·²ç»åœ¨ 3.x æœ‰å®ç°äº†, å°±æ˜¯åœ¨è§£å‹æ–‡ä»¶å‰, <strong>éå†åˆ›å»ºä¸‹æ¯ä¸ªå±‚çº§çš„ç›®å½•</strong> å°±å¯ä»¥äº†, ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//There are not directory entry in some case.</span></span><br><span class="line"><span class="comment">//So we need to test whether the file directory exists when uncompressing file entry</span></span><br><span class="line"><span class="comment">//, if does not exist then create directory</span></span><br><span class="line"><span class="function"><span class="keyword">const</span> <span class="built_in">string</span> <span class="title">fileNameStr</span><span class="params">(fileName)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">size_t</span> startIndex=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">size_t</span> index=fileNameStr.find(<span class="string">"/"</span>,startIndex);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(index != <span class="built_in">std</span>::<span class="built_in">string</span>::npos)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">string</span> dir=_storagePath+fileNameStr.substr(<span class="number">0</span>,index);</span><br><span class="line">    FILE *out = fopen(dir.c_str(), <span class="string">"r"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!out)&#123;</span><br><span class="line">        <span class="keyword">if</span> (!createDirectory(dir.c_str()))&#123;</span><br><span class="line">            CCLOG(<span class="string">"can not create directory %s"</span>, dir.c_str());</span><br><span class="line">            unzClose(zipfile);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            CCLOG(<span class="string">"create directory %s"</span>,dir.c_str());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        fclose(out);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    startIndex=index+<span class="number">1</span>;</span><br><span class="line">    index=fileNameStr.find(<span class="string">"/"</span>,startIndex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-ä¸‹è½½è¿›åº¦é—®é¢˜"><a href="#2-ä¸‹è½½è¿›åº¦é—®é¢˜" class="headerlink" title="2. ä¸‹è½½è¿›åº¦é—®é¢˜"></a>2. ä¸‹è½½è¿›åº¦é—®é¢˜</h1><p>AssetsManager çš„ä¸‹è½½è¿›åº¦ä¼šåœ¨æ§åˆ¶å°ä¸Šæ‰“å°å‡ºæ¥, ä½†æ˜¯è¿™ä¸ªè¿›åº¦å´ä¸æˆ‘ä»¬æ³¨å†Œç›‘å¬çš„è¿›åº¦ä¸å¤ªä¸€è‡´, ç»å¸¸éƒ½ä¸‹è½½å®Œæˆäº†, è¿›åº¦å´åªèµ°äº† 10% å·¦å³, è€Œè§£å‹ç¡®å®æ˜¯æ²¡æœ‰å ç”¨è¿›åº¦çš„, ä»¤äººååˆ†å›°æƒ‘.</p>
<p>ç»è¿‡ä»”ç»†é˜…è¯»æºç å’Œåˆ†æ, å‘ç°äº†é—®é¢˜æ‰€åœ¨, AssetsManager å®é™…ä¸Šæ˜¯å¤šçº¿ç¨‹çš„, ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—åœ¨çº¿ç¨‹é—´é€šä¿¡. ä¸‹è½½çº¿ç¨‹æœ‰æ¶ˆæ¯äº†, ä¼šå‹å…¥é˜Ÿåˆ—ä¸­, ä¸»çº¿ç¨‹æ³¨å†Œäº†update, ä¸æ–­çš„ä»é˜Ÿåˆ—ä¸­æ‹¿å–æ¶ˆæ¯, å¤„ç†, åˆ é™¤. è¿™å¥—è®¾å®šå…¶å®è¿˜æ˜¯è›®ä¸é”™çš„, ä½†æ˜¯å´<strong>æ²¡æœ‰è€ƒè™‘åˆ°ä¸»çº¿ç¨‹çš„å¤„ç†èƒ½åŠ›ä¸è¶³</strong>çš„æƒ…å†µ. ä¸‹é¢æ˜¯ä¸‹è½½è¿›åº¦çš„é€»è¾‘:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">assetsManagerProgressFunc</span><span class="params">(<span class="keyword">void</span> *ptr, <span class="keyword">double</span> totalToDownload, <span class="keyword">double</span> nowDownloaded, <span class="keyword">double</span> totalToUpLoad, <span class="keyword">double</span> nowUpLoaded)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AssetsManager* manager = (AssetsManager*)ptr;</span><br><span class="line">    AssetsManager::Message *msg = <span class="keyword">new</span> AssetsManager::Message();</span><br><span class="line">    msg-&gt;what = ASSETSMANAGER_MESSAGE_PROGRESS;</span><br><span class="line">    </span><br><span class="line">    ProgressMessage *progressData = <span class="keyword">new</span> ProgressMessage();</span><br><span class="line">    progressData-&gt;percent = (<span class="keyword">int</span>)(nowDownloaded/totalToDownload*<span class="number">100</span>);</span><br><span class="line">    progressData-&gt;manager = manager;</span><br><span class="line">    msg-&gt;obj = progressData;</span><br><span class="line">    </span><br><span class="line">    manager-&gt;_schedule-&gt;sendMessage(msg);</span><br><span class="line">    </span><br><span class="line">    CCLOG(<span class="string">"downloading... %d%%"</span>, (<span class="keyword">int</span>)(nowDownloaded/totalToDownload*<span class="number">100</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¾ä¸ªä¾‹å­, ä¸‹è½½çº¿ç¨‹æ¯ç§’å‹å…¥5ä¸ªæ¶ˆæ¯, ä½†æ˜¯ä¸»çº¿ç¨‹çš„updateå›è°ƒæ˜¯1ç§’ä¸€æ¬¡, å¾—ç­‰5sæ‰èƒ½å¤„ç†å®Œæˆ. è¿™æ ·å°±ä¼šå¯¼è‡´ä¸‹è½½æ—©å·²å®Œæˆ, ä½†ä¸»çº¿ç¨‹å´è¿˜æœ‰ä¸€å¤§å¨çš„æ¶ˆæ¯æ²¡æœ‰å¤„ç†å®Œæˆ, ä»æ—§åœ¨ä¸ç´§ä¸æ…¢çš„å¤„ç†ç€. è§£å†³é—®é¢˜çš„æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å•, å¯ä»¥ä»ä¸¤ä¸ªè§’åº¦å…¥æ‰‹, æå‡ä¸»çº¿ç¨‹çš„å¤„ç†èƒ½åŠ›å’Œå‡å°‘ä¸‹è½½çº¿ç¨‹çš„æ¶ˆæ¯åˆ¶é€ . ç”±äºä¸»çº¿ç¨‹å·²ç»æ˜¯æ³¨å†Œçš„å¸§äº‹ä»¶ update äº†, æ²¡æœ‰æå‡çš„ç©ºé—´, æ‰€ä»¥åªèƒ½ä»ç¬¬äºŒä¸ªè§’åº¦å…¥æ‰‹äº†.</p>
<p>åˆ†æäº†ä¸‹éœ€æ±‚, å¯¹äºä¸‹è½½è¿›åº¦çš„ç´¢å–, å…¶å®æ²¡æœ‰å¿…è¦è¿‡äºç²¾ç¡®, ç²¾ç¡®åˆ°1%å°±å¯ä»¥äº†. è¿™æ ·çš„è¯ä¸€å…±åªä¼šäº§ç”Ÿ100ä¸ªäº‹ä»¶, å¤§å¤§å‡å°‘äº†äº‹ä»¶çš„æ•°é‡. è¿™ä¸ªé—®é¢˜, 3.x ä¹Ÿåšäº†å¤„ç†, å’Œæˆ‘çš„æƒ³æ³•ä¸€è‡´. æ‘˜å½•å®ç°å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">assetsManagerProgressFunc</span><span class="params">(<span class="keyword">void</span> *ptr, <span class="keyword">double</span> totalToDownload, <span class="keyword">double</span> nowDownloaded, <span class="keyword">double</span> totalToUpLoad, <span class="keyword">double</span> nowUpLoaded)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> percent = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tmp = (<span class="keyword">int</span>)(nowDownloaded / totalToDownload * <span class="number">100</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (percent != tmp)</span><br><span class="line">    &#123;</span><br><span class="line">        percent = tmp;</span><br><span class="line">        Director::getInstance()-&gt;getScheduler()-&gt;performFunctionInCocosThread([=]&#123;</span><br><span class="line">            <span class="keyword">auto</span> manager = <span class="keyword">static_cast</span>&lt;AssetsManager*&gt;(ptr);</span><br><span class="line">            <span class="keyword">if</span> (manager-&gt;_delegate)</span><br><span class="line">                manager-&gt;_delegate-&gt;onProgress(percent);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        CCLOG(<span class="string">"downloading... %d%%"</span>, percent);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æŸ¥çœ‹æºç çš„æ—¶å€™, ä¹Ÿå‘ç°äº†ä¸€äº›éå¸¸æœ‰æ„æ€çš„äº‹æƒ…. AssetsManager æœ‰åšä¸€ä¸ªè¿™æ ·çš„è®¾å®š, ä¸‹è½½å…¨éƒ¨å®Œæˆå, ä¼šå°† <code>downloaded-version-code</code> å­—æ®µå†™å…¥åˆ° <code>UserDefault</code> ä¸­, è§£å‹å®Œæˆååˆ é™¤è¿™ä¸ªå­—æ®µ, ä¸ºä»€ä¹ˆå‘¢? </p>
<p>ä¸ºäº†åº”å¯¹è§£å‹è¿‡ç¨‹ä¸­å‡ºç°äº†ä¸€äº›æ„å¤–, æ¯”å¦‚å…³é—­äº†æ¸¸æˆè¿›ç¨‹, è¿™æ ·é‡å¯æ¸¸æˆçš„æ—¶å€™å°±ä¸ç”¨å†ä¸‹è½½æ›´æ–°åŒ…äº†. è¿™æœ¬æ˜¯ä¸€ä¸ªä¸é”™çš„è®¾å®š, ä½†æ˜¯å®ƒä½¿ç”¨äº†äº‹ä»¶é˜Ÿåˆ—æ¥åšè¿™ä¸ªäº‹æƒ…, ä¸Šé¢è¯´è¿‡, ä¸‹è½½å®Œæˆå, å…¶å®ç§¯å‹äº†ä¸€å¤§å¨çš„äº‹ä»¶, æ‰€ä»¥è¿™ä¸ªäº‹ä»¶æ ¹æœ¬ä¸ä¼šç«‹åˆ»è¢«æ‰§è¡Œåˆ°. ä½†æ˜¯è§£å‹çš„æ“ä½œå´ä¸ä¼šå—æ¬¡å½±å“, ä¼šç«‹åˆ»æ‰§è¡Œåˆ°. è¿™ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜å‘¢? <strong>å¯¼è‡´å…ˆåˆ é™¤<code>downloaded-version-code</code>å­—æ®µ, åè®¾ç½®, ä¸é¢„æœŸçš„æ‰§è¡Œé¡ºåºå®Œå…¨æƒ³å</strong>. è™½ç„¶æœ€åå¯èƒ½ä¸ä¼šå½±å“åˆ°ä»€ä¹ˆ, ä½†æ˜¯å´æ˜¯ä¸€æ®µéå¸¸å±é™©çš„ä»£ç .</p>
<hr>
<h2 id="Update-2015å¹´06æœˆ25æ—¥"><a href="#Update-2015å¹´06æœˆ25æ—¥" class="headerlink" title="Update: 2015å¹´06æœˆ25æ—¥"></a>Update: 2015å¹´06æœˆ25æ—¥</h2><p>è¿˜æ˜¯æ¥ç€ä¸Šé¢çš„é‚£ä¸ªé—®é¢˜, AssetsManager å°† <code>downloaded-version-code</code> è®°å½•åˆ°äº† <code>UserDefault</code> ä¸­, ä½†æ˜¯åªæœ‰<strong>è§£å‹æˆåŠŸ</strong>äº†æ‰ä¼šåˆ é™¤, é‚£ä¹ˆè§£å‹å¤±è´¥äº†å‘¢? è§£å‹å¤±è´¥å¤±è´¥çš„åŸå› æœ‰å¥½å¤š, å¦‚æœæ˜¯ä¸‹è½½çš„æ›´æ–°åŒ…æœ‰é—®é¢˜çš„è¯, é‡å¯åä»ç„¶ä¸ä¼šé‡æ–°ä¸‹è½½, ç›´æ¥å¼€å§‹è§£å‹, å°±ä¼šé™·å…¥åˆ°ä¸€ä¸ªå¾ªç¯ä¸­, ä¸€ç›´å‡ºé”™. è§£å†³çš„åŠæ³•æ˜¯ä»€ä¹ˆå‘¢? </p>
<blockquote>
<p>èˆå¼ƒæ‰è¿™ä¸ªä¼˜åŒ–.</p>
</blockquote>
<p>å°† AssetsManager ä¸­çš„è¿™å‡ è¡Œæ³¨é‡Šæ‰, å°±ä¸ä¼šè®°å½• <code>downloaded-version-code</code>, å‡ºé”™åé‡å¯å°±ä¼šé‡æ–°ä¸‹è½½:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CCUserDefault::sharedUserDefault()-&gt;setStringForKey(KEY_OF_DOWNLOADED_VERSION,</span><br><span class="line">                                                    ((AssetsManager*)msg-&gt;obj)-&gt;_version.c_str());</span><br><span class="line">CCUserDefault::sharedUserDefault()-&gt;flush();</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çš„æ¸¸æˆå°±é‡åˆ°äº†è¿™æ ·çš„æƒ…å†µ, ç©å®¶çƒ­æ›´è§£å‹å¤±è´¥åå°±ä¸€ç›´å¤„äºè§£å‹å¤±è´¥çš„çŠ¶æ€, åªèƒ½åˆ é™¤æ¸¸æˆé‡æ–°å®‰è£…äº†!</p>
<p>å“ˆå“ˆ,æ­£å¦‚ä½ æ‰€æƒ³çš„,3.x ä¹Ÿåšäº†è¿™æ ·çš„å¤„ç†:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if (! uncompress())</span><br><span class="line">&#123;</span><br><span class="line">    Director::getInstance()-&gt;getScheduler()-&gt;performFunctionInCocosThread([&amp;, this]&#123;</span><br><span class="line">        UserDefault::getInstance()-&gt;setStringForKey(this-&gt;keyOfDownloadedVersion().c_str(),&quot;&quot;);</span><br><span class="line">        UserDefault::getInstance()-&gt;flush();</span><br><span class="line">        if (this-&gt;_delegate)</span><br><span class="line">            this-&gt;_delegate-&gt;onError(ErrorCode::UNCOMPRESS);</span><br><span class="line">    &#125;);</span><br><span class="line">    break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è§£å‹å¤±è´¥åå°±ç›´æ¥æ¸…é™¤äº† <code>downloaded-version-code</code> çš„è®°å½•.</p>
<hr>
<p>ä»ä¸Šè¿°å¯ä»¥çœ‹åˆ°, è¿™äº›é—®é¢˜éƒ½å·²åœ¨ 3.x ä¸­è§£å†³, æ‰€ä»¥èƒ½å‡çº§å¼•æ“çš„è¿˜æ˜¯èµ¶ç´§å‡çº§. åŒæ—¶ä¹Ÿä¼šæ˜ç™½cocosçš„å‘è¿˜æ˜¯è›®å¤šçš„, å¤§å®¶ä¸€å®šè¦åšå¥½æµ‹è¯•å‘€!</p>
<p>â€“EOFâ€“</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> hotupdate </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä» C++ åˆ° lua çš„2014]]></title>
      <url>http://blog.justbilt.com/2015/05/31/my-2014/</url>
      <content type="html"><![CDATA[<p>2014çš„å¹´ç»“åˆæ™šäº†å¥½å¤š, è‹¥æ˜¯ç”¨ä¸€å¥è¯å»æ€»ç»“è¿™ä¸€å¹´çš„å˜åŒ–çš„è¯, é‚£å°±æ˜¯:</p>
<blockquote>
<p>ä» C++ åˆ° lua</p>
</blockquote>
<p>å¤§çº¦æ˜¯å…ƒæ—¦çš„æ—¶å€™, åˆ°äº†å…¬å¸ C , æ”¾å¼ƒäº†ä½¿ç”¨2å¹´å¤šçš„c++, æèµ·äº†lua, å­¦ä¹ äº† quick-cocos2d-x. è¿™ä¸€å¹´å·¥ä½œ,ç”Ÿæ´»å‘ç”Ÿäº†å¥½å¤šå˜åŒ–, è‡ªå·±çš„å¿ƒæ€ä¹Ÿå˜åŒ–äº†å¥½å¤š.</p>
<a id="more"></a>
<h1 id="å·¥ä½œ"><a href="#å·¥ä½œ" class="headerlink" title="å·¥ä½œ"></a>å·¥ä½œ</h1><h6 id="å…¥èŒ-C"><a href="#å…¥èŒ-C" class="headerlink" title="å…¥èŒ C"></a>å…¥èŒ C</h6><p>å…¥èŒ C ä¼¼ä¹æ˜¯æ—©å·²æ³¨å®šçš„äº‹æƒ…, ä¸ C çš„è€å¤§<a href="http://weibo.com/yanbin001" target="_blank" rel="noopener">@Bin</a>åœ¨å¾®åšä¸Šç›¸è¯†å·²ä¹…, ä¸€ç›´æœªæ›¾è°‹é¢, åæ¥å…¬å¸ç¼ºäºº, ä¾¿æ¨èäº†å¥½å‹<a href="http://weibo.com/imbahom" target="_blank" rel="noopener">@imbahom</a>è¿‡å», åæ¥å¬è¯´æˆ‘æ‰“ç®—ä» B ç¦»èŒä¹‹å, ä¾¿å¤šæ¬¡é‚€è¯·æˆ‘è¿‡å»å…±è°‹å¤§ä¸š. ä¸å…¶è¯´æ˜¯å…¬å¸, C å…¶å®æ›´ç®—æ˜¯ä¸€ä¸ªåˆ›ä¸šå›¢é˜Ÿ, åæ¥ä¸ªäºº, ä¸€å¥—å•†ä½ä¸¤ç”¨æˆ¿, æ‰å¹³åŒ–ç®¡ç†. å…¶å® C è¿˜æ˜¯ä¸€ä¸ªè›®æœ‰é€¼æ ¼çš„å…¬å¸å•¦, æŠ€æœ¯äººå‘˜éƒ½é…æœ‰ MBAæˆ– MBP, ç°ç£¨å’–å•¡æœº, Airport, è¿˜æœ‰å †å åœ¨ä¸€èµ·çš„ç™»å±±éœ²è¥è®¾å¤‡, ä¼¼ä¹éƒ½é¢„ç¤ºè¿™æ˜¯ä¸€ä¸ªä¸ä¸€æ ·çš„å›¢é˜Ÿ, ä¸åƒ B ä¸€æ ·æ˜¯ä¸€ä¸ªè¡€æ±—å·¥å‚.</p>
<p>ç„¶è€Œ C æ‰€åšçš„äº‹æƒ…è¯´èµ·æ¥å¯èƒ½æœ‰äº›low, å±±å¯¨ä¸æ¢çš®. æˆ‘è¡¨ç¤ºç†è§£, è¿™æ˜¯ä¸€ä¸ªç¬‘è´«ä¸ç¬‘å¨¼çš„æ—¶ä»£, æ´»ä¸‹æ¥å¯èƒ½æ‰æ˜¯æœ€é‡è¦çš„äº‹æƒ…. å…¬å¸é™¤äº†ä¸€ä¸ªä¸»è¦çš„ç­–ç•¥ç±»æ¸¸æˆå¤–, è¿˜åŒæ—¶å¼€ç€å››äº”ä¸ªå±±å¯¨æ¢çš®æ¸¸æˆ, æˆ‘è¿‡å»ä¹Ÿæ˜¯è´Ÿè´£ä¸€æ¬¾, åŒæ—¶é¡ºå¸¦å­¦ä¹  lua å’Œ quick. åˆšå¼€å§‹å­¦ä¹ çš„æ—¶å€™æ€»æ˜¯ååˆ†ç—›è‹¦çš„, åŠ ä¸Šå½“æ—¶quickçš„æ–‡æ¡£ä¸å¤Ÿå¥å…¨, å¥½å¤šä¸œè¥¿åªèƒ½è‡ªå·±æ‘¸ç´¢. è¿™ä¸ªæ—¶å€™Binç»™äº†æˆ‘å¥½å¤šå¸®åŠ©, ä»–çš„æ€ç»´è·³è·ƒæå¤§, æ€»æ˜¯èƒ½å¤Ÿæƒ³åˆ°ä¸€äº›å¥‡æ€ªçš„è§£å†³æ–¹æ¡ˆ, è®©äººè„‘æ´å¤§å¼€, ä¹Ÿä½¿å¾—è‹¦é—·çš„debugå˜å¾—æ„‰æ‚¦èµ·æ¥, ä»ä»–èº«ä¸Šå­¦åˆ°äº†å¥½å¤š.</p>
<p>å°å›¢é˜Ÿçš„å¥½å¤„æœ‰å¾ˆå¤š, æ¯å¤©ä¸­åˆåƒé¥­å°±æ˜¯å…¶ä¸€, å¤§å®¶åˆšå¥½èƒ½åæ»¡ä¸€ä¸ªæ¡Œ, æ¯äººç‚¹ä¸€ä¸ªèœ, åƒçš„ä¸äº¦ä¹ä¹, é¥­æ¡Œä¹Ÿæ˜¯å¤§å®¶åæ§½å’Œé‡Šæ”¾å‹åŠ›çš„ä¸€ä¸ªå¥½åœ°æ–¹! ç„¶è€Œå¿«ä¹çš„æ—¥å­æ€»æ˜¯çŸ­æš‚çš„, ä¸»è¥çš„é¡¹ç›®ä¼¼ä¹ä¸æ€ä¹ˆèµšé’±, æ¢çš®é¡¹ç›®ä¹Ÿéƒ½æ”¶ä¸å›æˆæœ¬, å…¬å¸çš„æ°›å›´å˜å¾—ååˆ†çš„å¾®å¦™! Binç»å¸¸å°†è‡ªå·±é”åœ¨ä¼šè®®å®¤æŠ½çƒŸ, æ€è€ƒå…¬å¸çš„æœªæ¥, ä¸åˆä¼™äººä¼¼ä¹ä¹Ÿæœ‰äº›ä¸åˆ, é¡¹ç›®ä¸€ä¸ªä¸ªçš„ç æ‰, åŒäº‹ä¸€ä¸ªä¸ªçš„ç¦»èŒ. æˆ‘ä¹Ÿå˜å¾—ä¸å®‰èµ·æ¥, ä¼šä¸ä¼šnextå°±æ˜¯æˆ‘? è¦ä¸è¦æ—©è°‹å‡ºè·¯? å¥½å‹ @imbahom å¿å—ä¸äº†, å…ˆæˆ‘ä¸€æ­¥ç¦»å¼€å…¬å¸, è¿™å¯¹æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªæ‰“å‡».</p>
<p>ç»ˆäº, æˆ‘äº14å¹´7æœˆåº•ä» C ç¦»èŒ, åœ¨è¿™é‡Œæˆ‘æ„Ÿå—åˆ°äº†å°å›¢é˜Ÿçš„çµæ´»,é«˜æ•ˆ,ä¹Ÿæ˜ç™½çš„å°å›¢å¯¹çš„ä¸ç¨³å®šæ€§, ä¸€ä¸ªé¡¹ç›®çš„å¤±è´¥å¯èƒ½å°±ä¼šå¯¼è‡´å¤§å®¶æ•£ä¼™.</p>
<h6 id="å…¥èŒ-D"><a href="#å…¥èŒ-D" class="headerlink" title="å…¥èŒ D"></a>å…¥èŒ D</h6><p>åœ¨ä¹‹å‰çš„ä¸€ä½è€å¸ˆçš„å¸¦é¢†ä¸‹, æˆ‘å’Œå¥½å‹@imbahomåŠ å…¥äº† D, ä¸ C ç›¸æ¯”, D çš„è§„æ¨¡èƒ½ç•¥å¤§ä¸€äº›, æ›´åŠ æ­£è§„ä¸€äº›, è‡³å°‘æ˜¯ä¸ªå…¬å¸äº†! æˆ‘ä»¬åˆ°æ¥æ˜¯ä¸ºäº†æ¥æ‰‹ä¸€ä¸ªåŠæˆå“çš„é¡¹ç›®, ä¹‹å‰çš„å®¢æˆ·ç«¯å›¢é˜Ÿé›†ä½“ç¦»èŒ, ä½†é¡¹ç›®åˆæ€¥ç€ä¸Šçº¿, ä¾¿æƒ³æ‰¾ä¸€ä¸ªç°æˆå›¢é˜Ÿ, å¿«é€Ÿæ¥æ‰‹é¡¹ç›®! ç»è¿‡è¯„ä¼°, æˆ‘ä»¬å†³å®šé‡å†™æ•´ä¸ªé¡¹ç›®, è¿™ä¹Ÿä¸ºåæ¥æ— ä¼‘æ­¢çš„åŠ ç­åŸ‹ä¸‹äº†ä¼ç¬”. </p>
<p>å…¶å® D æ›´åƒæ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„å…¬å¸, è™½ç„¶å¥½å¤šè§„çŸ©,æµç¨‹ä¸Šæ›´æ­£è§„ä¸€äº›, ä½†å´å¤±å»äº†å°å›¢é˜Ÿçš„é«˜æ•ˆ,çµæ´». è€Œä¸”å…¬å¸åœ¨ä¸€äº›ç¡¬ä»¶è®¾å¤‡ä¸Šæ¯”è¾ƒæŠ , ç€å®è®©äººæœ‰äº›æƒ³ä¸æ˜ç™½, å¥½å¤šå‡ ç™¾å¤§æ´‹å°±èƒ½å¤§å¹…æå‡å·¥ä½œæ•ˆç‡çš„ä¸œè¥¿ä¸æ„¿æ„å»åš.</p>
<p>ä¸è¿‡åœ¨è¿™ä¸ªé¡¹ç›®ä¸­å­¦åˆ°äº†å¥½å¤šä¸œè¥¿, å¯¹äºluaçš„ç†è§£, å¯¹äºcsç»“æ„çš„ç†è§£, å¯¹äºquickçš„ç†è§£éƒ½å¢åŠ äº†å¥½å¤š, å¯¹äºæˆ‘çš„æˆé•¿å¸®åŠ©ç‰¹åˆ«å¤§!</p>
<p>D çš„è€æ¿ä¹Ÿç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒniceçš„äºº, è™½ç„¶æœ‰æ—¶å€™æ¯”è¾ƒçˆ±å¹ç‰›, ä½†æ˜¯ä¸ºäººæ¯”è¾ƒä»—ä¹‰, äººè„‰ä¹Ÿå¹¿, å¦‚æœèƒ½æœ‰ä¸€ä¸ªé è°±çš„ç ”å‘å›¢é˜Ÿçš„è¯, ä¸€å®šèƒ½åšæˆäº‹çš„!</p>
<hr>
<p>å¥½å§, å·¥ä½œçš„äº‹æƒ…å°±è®²åˆ°è¿™é‡Œ, åæ¥ä¹Ÿå‘ç”Ÿäº†å¥½å¤šäº‹æƒ…, ä½†è¿™éƒ½æ˜¯15å¹´çš„äº†, ç­‰æ˜å¹´å¹´ç»“çš„æ—¶å€™å†è¯´å§, è¿™æ¬¡ä¸€å®šä¼š on time!</p>
<h1 id="æŠ€æœ¯-å­¦ä¹ "><a href="#æŠ€æœ¯-å­¦ä¹ " class="headerlink" title="æŠ€æœ¯/å­¦ä¹ "></a>æŠ€æœ¯/å­¦ä¹ </h1><p>è¿™ä¸€å¹´æŠ€æœ¯çš„æˆé•¿å¹¶ä¸æ˜¯å¾ˆå¤§, æ›´å¤šçš„åœ¨ç†è§£/ç†å¿µ/æ•ˆç‡ä¸Šçš„å˜åŒ–äº†! </p>
<ol>
<li>å­¦ä¹ äº†æ–°çš„è¯­è¨€ lua, éå¸¸ç®€æ´é«˜æ•ˆçš„ä¸€é—¨è¯­è¨€, è¯»äº†äº‘é£çš„<a href="http://www.codingnow.com/temp/readinglua.pdf" target="_blank" rel="noopener">Lua æºç æ¬£èµ</a>, äº†è§£åˆ°äº†å¾ˆå¤šè¯­è¨€åº•å±‚çš„ä¸œè¥¿, æœ‰æœºä¼šä¸€å®šè¦é˜…è¯»ä¸‹ lua çš„æºç .</li>
<li>å­¦ä¹ äº†<a href="https://github.com/chukong/quick-cocos2d-x" target="_blank" rel="noopener">quick-cocos2d-x</a>, ä¸€ä¸ªéå¸¸æ£’çš„ cocos2d-x lua æ¡†æ¶, é›†æˆäº†ä¸€å †æœ‰ç”¨çš„ feature, ç¡®å®èƒ½å¦‚å®£ä¼ æ‰€è¨€, å¤§å¹…æå‡å¼€å‘æ•ˆç‡. åªæ˜¯åæ¥è¢« cocos2d-x å›¢é˜Ÿæ”¶è´­å, å‘å±•å˜å¾—ç¼“æ…¢èµ·æ¥äº†, æ–¹å‘æˆ‘ä¹Ÿæä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆäº†, æ„Ÿè§‰å»–å¤§åº”è¯¥è§£é‡Šä¸€ä¸‹.</li>
<li>ç»ˆäºå‚ä¸äº†æœŸå¾…å·²ä¹…ç½‘ç»œæ¸¸æˆçš„åˆ¶ä½œ, ä¸å•æœºç›¸æ¯”, æ›´å¤§çš„åŒºåˆ«åœ¨äºå¼‚æ­¥, å•æœºæƒ³è¦è·å–ä»€ä¹ˆæ•°æ®ç›´æ¥é…ç½®é‡Œè¯»å–, è€Œç½‘æ¸¸åˆ™éœ€è¦å»è¯·æ±‚, ä¹Ÿä¸ä¼šç«‹åˆ»è¿”å›. ä½†æ˜¯å¯¹äºå®¢æˆ·ç«¯æ•°æ®çš„å®‰å…¨æ€§è¦æ±‚å°±æ²¡æœ‰å•æœºå¤§äº†, å› ä¸ºæ•°æ®éƒ½æ˜¯ä»¥æœåŠ¡ç«¯ä¸ºå‡†çš„.</li>
<li>ç»ˆäºåœ¨ MacOS ä¸‹å¼€å‘äº†, ç›¸æ¯” Windows, Mac åœ¨æ ¸å¿ƒå¼€å‘ä¹‹å¤–éœ€è¦æ“å¿ƒçš„ä¸œè¥¿çœŸçš„å¾ˆå°‘, ç»Ÿä¸€çš„å¿«æ·é”®, brew , ä¸éœ€è¦æ‹…å¿ƒæµæ°“è½¯ä»¶ç­‰, ç»å¯¹å¤§å¹…æå‡å¼€å‘æ•ˆç‡.</li>
<li>ç”¨ä¸€å‘¨ä¸šä½™æ—¶é—´å¼€å‘äº†ä¸€æ¬¾è‡ªå·±æŒºå–œæ¬¢çš„å°æ¸¸æˆ<a href="http://www.wandoujia.com/apps/com.justbilt.colorclean" target="_blank" rel="noopener">å¼€å¿ƒæ¶ˆæ–¹å—</a>, åœ¨å„å¤§ android æ¸ é“éƒ½ä¸Šäº†, è™½ç„¶ä¸‹è½½é‡ä¸å’‹åœ°, ä½†æ˜¯è‡ªå·±è¿˜æ˜¯è›®å¼€å¿ƒçš„, åŒæ—¶å¯¹äºå„å¤§æ¸ é“çš„æµç¨‹ä¹Ÿéƒ½ææ¸…æ¥šäº†.</li>
<li>è®¢é˜…å…¨é¢è½¬å‘äº†<a href="http://www.inoreader.com/" target="_blank" rel="noopener">inoreader</a>, å­¦ä¹ çš„é‡å¿ƒéƒ½æ”¾åˆ°äº†è¿™é‡Œ, è·ç›ŠåŒªæµ…!</li>
<li>ç¼–è¾‘å™¨ä½¿ç”¨äº†<a href="http://www.sublimetext.com/" target="_blank" rel="noopener">Sublime Text</a>, åˆæ˜¯ä¸€ä¸ªæç¤ºå¼€å‘æ•ˆç‡çš„åˆ©å™¨!</li>
<li>è´­ä¹°äº†<a href="https://getqujing.com" target="_blank" rel="noopener">æ›²å¾„</a>çš„å†¬æœˆæœåŠ¡, Â¥130.00 å…ƒ/å­£, ä¸€é¡¿åƒé¥­çš„é’±, ç”¨åœ¨è¿™ä¸ªä¸Šè¾¹, ç»å¯¹æ˜¯æœ€å€¼çš„äº†!</li>
</ol>
<h1 id="ç©å…·"><a href="#ç©å…·" class="headerlink" title="ç©å…·"></a>ç©å…·</h1><blockquote>
<p>äººä½“å·¥å­¦é¼ æ ‡</p>
</blockquote>
<p><img src="/img/QQ20150602-3.jpg" alt=""></p>
<p>å·ç§°å¯ä»¥é¢„é˜²é¼ æ ‡æ‰‹, é”®ä½æ¯”è¾ƒå¥‡æ€ª, 10åˆ†é’Ÿå¯ä»¥ä¸Šæ‰‹, æ„Ÿè§‰è¿˜ä¸é”™, ä¸è¿‡åŠå¹´ä¸åˆ°æ»šè½®å·²ç»ä¸å¤ªå¥½ä½¿äº†!</p>
<blockquote>
<p>å°ç±³æ‰‹ç¯</p>
</blockquote>
<p><img src="/img/QQ20150602-4.jpg" alt=""></p>
<p>æˆ´ç€è¿˜ç®—å¯ä»¥, è‡³å°‘ä¸ä¸‘, 60å¤©è¶…é•¿å¾…æœºå·¨çˆ½!</p>
<blockquote>
<p>æ˜¾ç¤ºå™¨æ”¯æ¶</p>
</blockquote>
<p><img src="/img/QQ20150602-5.jpg" alt=""></p>
<p>è¿˜ç®—æœ‰ç”¨, ä¸è¿‡å®‰è£…è°ƒèŠ‚éƒ½ä¸æ˜¯å¾ˆæ–¹ä¾¿, ä¸å»ºè®®è´­ä¹°è¿™æ¬¾!</p>
<h1 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h1><p>14 å¹´æˆ‘è§‰å¾—è¿‡å¾—è¿˜æ˜¯è›®å¿«ä¹çš„ä¸€å¹´, 4æœˆä»½çš„æ—¶å€™æ¬åˆ°äº†ç¦»çˆ¶æ¯å¾ˆè¿‘çš„åœ°æ–¹, æœ‰ä¸€æ®µæ—¶é—´çˆ¶æ¯æ¯å¤©éƒ½åšå¥½é¥­æˆ‘ä»¬å›å»åƒ, ä¸­åˆè¿˜èƒ½å¸¦ä¸€é¡¿, æ„Ÿè§‰å¾ˆæ£’! è™½ç„¶å˜´ä¸Šä¸è¯´, ä½†æ˜¯ç¦»çˆ¶æ¯è¿‘äº†, å¿ƒé‡Œç¡®å®èƒ½å¤Ÿè¸å®å¥½å¤š, è¿˜ç»„ç»‡è¿‡ä¸€æ¬¡å®¶åº­å¥¥æ£®é‡è¥æ´»åŠ¨, å¤§å®¶åœ¨ä¸€èµ·ç‰¹åˆ«å¼€å¿ƒ, å·¥ä½œè¿™å‡ å¹´ä¸€ç›´å¾ˆå°‘é™ªçˆ¶æ¯å‡ºå»ç©!</p>
<p>å¯¹äºå¥³å‹, è¿˜æ˜¯æœ‰ä¸€äº›äºæ¬ çš„, å› ä¸ºåŠ ç­, èƒ½é™ªå¥¹çš„æ—¶é—´å˜çš„å¾ˆå°‘, å¥¹å› æ­¤ä¹Ÿæœ‰ä¸€äº›æŠ±æ€¨, ä¸è¿‡æ›´å¤šæ˜¯å¯¹æˆ‘èº«ä½“ä¸Šçš„æ‹…å¿ƒ. è™½ç„¶å¥¹çš„è„¾æ°”æ¯”è¾ƒå¤§, ä½†æ˜¯ä¸ºäººååˆ†ç¨³é‡è°¨æ…, å¿ƒåœ°å–„è‰¯, è¿™ä¹Ÿæ˜¯æˆ‘ç‰¹åˆ«å–œæ¬¢å¥¹çš„ä¸€ç‚¹.</p>
<p>è¿™ä¸€å¹´å‡ºå»ç©è¿‡ä¸‰æ¬¡, äº¬éƒŠé¾™åº†å³¡, å¤§åŒ, å¤©æ´¥, å…¶å®æˆ‘æ¯”è¾ƒå®…çš„äºº, ä¸å¤ªæ„¿æ„å‡ºå»ç©, ä¸è¿‡ä¸–ç•Œé‚£ä¹ˆå¤§, èµ°èµ°ä¹Ÿæ˜¯å¯¹çš„.</p>
<hr>
<p>2014 å¹´æ•´ä½“ä¹Ÿè¿˜ç®—æ˜¯æ¯”è¾ƒå¹³é™å§, è‡ªå·±ä¹Ÿåœ¨ç¨³å®šä¸­æˆé•¿, åŠ æ²¹, å¸Œæœ› 2015 å¹´èƒ½æœ‰æ›´å¤šçš„ä¸œè¥¿å¯ä»¥å†™.</p>
<p>â€“EOFâ€“</p>
]]></content>
      
        
        <tags>
            
            <tag> å¹´ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[MyGUIå­¦ä¹ ç¬”è®°(ä¸€) åœ¨Windowsä¸Šè¿è¡ŒMyGUI]]></title>
      <url>http://blog.justbilt.com/2015/05/29/mygui-1-run-on-windows/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘çªç„¶å¯¹ MyGUI ç‡ƒèµ·äº†ä¸€äº›å…´è¶£, æ‰“ç®—å­¦ä¹ ä¸€ç•ª. ç¬¬ä¸€æ­¥è‚¯å®šæ˜¯è·‘èµ·æ¥ Demo å§, æˆ‘ä¸»åŠ›ç³»ç»Ÿæ˜¯ MacOS , é¦–å…ˆè‚¯å®šæ˜¯è€ƒè™‘åœ¨ Mac ä¸Šæèµ·. è™½ç„¶ MyGUI å·ç§°æ˜¯ Corss Platform çš„, ç„¶è€Œè„±ç¦»äº† Ogre ä¹‹åçš„ MyGUI å°±åªèƒ½è·‘åœ¨ windows ä¸Šäº†. é¢, åœ¨ Mac ä¸Šçš„è¶Ÿå‘ä¹‹æ—…æˆ‘ä»¬æš‚ä¸”ä¸æ, è®©æˆ‘ä»¬æ¥æ›²çº¿æ•‘å›½å§ â€“ åœ¨Windowsä¸Šè¿è¡ŒMyGUI.</p>
<a id="more"></a>
<hr>
<h1 id="é›¶-å‡†å¤‡å·¥ä½œ"><a href="#é›¶-å‡†å¤‡å·¥ä½œ" class="headerlink" title="é›¶. å‡†å¤‡å·¥ä½œ"></a>é›¶. å‡†å¤‡å·¥ä½œ</h1><p>åœ¨æ­£å¼å¼€æå‰, æˆ‘ä»¬éœ€è¦å‡†å¤‡å‡ æ ·ä¸œè¥¿, è¿™å‡ æ ·ä¸œè¥¿å¯èƒ½åœ¨å¢™å¤–, å¤§å®¶è‡ªå¤‡æ¢¯å­.</p>
<ol>
<li>ä» MyGUI çš„ <a href="https://github.com/MyGUI/mygui/releases" target="_blank" rel="noopener">github</a> ä¸Šä¸‹è½½æœ€æ–°ä»£ç , è§£å‹åˆ°ä¸€ä¸ªç›®å½•å¤‡ç”¨.</li>
<li>ä» CMake çš„å®˜ç½‘ä¸‹è½½ <a href="http://www.cmake.org/" target="_blank" rel="noopener">CMake</a> çš„æœ€æ–°å®‰è£…åŒ…, å®‰è£…ä¹‹.</li>
<li>ä» bitbucket ä¸Šä¸‹è½½ <a href="https://bitbucket.org/cabalistic/ogredeps" target="_blank" rel="noopener">ogredeps</a>.</li>
</ol>
<h1 id="ä¸€-ç¼–è¯‘-ogredeps"><a href="#ä¸€-ç¼–è¯‘-ogredeps" class="headerlink" title="ä¸€. ç¼–è¯‘ ogredeps"></a>ä¸€. ç¼–è¯‘ ogredeps</h1><p>å› ä¸º MyGUI ä¸€å¼€å§‹å°±æ˜¯ä¸º Ogre è®¾è®¡çš„, æ‰€ä»¥ä¼šç”¨åˆ° Ogre çš„ä¸€äº›ä¾èµ–åº“, æˆ‘ä»¬è¿™ä¸€æ­¥å°±éœ€è¦ç¼–è¯‘è¿™äº›ä¾èµ–åº“.</p>
<h2 id="1-è¿è¡ŒCMake"><a href="#1-è¿è¡ŒCMake" class="headerlink" title="1. è¿è¡ŒCMake"></a>1. è¿è¡ŒCMake</h2><p>åœ¨ä¸Šæ–¹è¾“å…¥æ¡†ä¸­é€‰æ‹© ogredeps çš„æºç è·¯å¾„, ä¸‹é¢é€‰æ‹© build è·¯å¾„. å¦‚ä¸‹å›¾:</p>
<p><img src="/img/QQ20150530-1.jpg" alt=""></p>
<p>build è·¯å¾„å¯ä»¥éšæ„è®¾ç½®, ä¸€èˆ¬ä¼šé€‰æ‹©å’Œsourceç›®å½•ä¸€è‡´.</p>
<h2 id="2-ç”Ÿæˆ-IDE-å·¥ç¨‹"><a href="#2-ç”Ÿæˆ-IDE-å·¥ç¨‹" class="headerlink" title="2. ç”Ÿæˆ IDE å·¥ç¨‹"></a>2. ç”Ÿæˆ IDE å·¥ç¨‹</h2><p>ç‚¹å‡»<code>Configure</code>æŒ‰é’®, åœ¨å¼¹å‡ºçš„æ¡†ä¸­é€‰æ‹©è‡ªå·±çš„ VS ç‰ˆæœ¬, ç„¶åç‚¹å‡»<code>finish</code>æŒ‰é’®.</p>
<p><img src="/img/QQ20150530-2.jpg" alt=""></p>
<p>è¿™ä¸€æ­¥ä¸€èˆ¬ä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜, æˆåŠŸåä¼šåˆ·æ–°å‡ºä¸€å¨çº¢è‰²çš„ä¸œè¥¿, ä¸è¦æ‹…å¿ƒ, é‚£ä¸æ˜¯é”™è¯¯. ç‚¹å‡»<code>Generate</code>æŒ‰é’®, ç”ŸæˆVSçš„å·¥ç¨‹æ–‡ä»¶.</p>
<h2 id="3-ç¼–è¯‘å¹¶æ‹·è´ç”Ÿæˆæ–‡ä»¶"><a href="#3-ç¼–è¯‘å¹¶æ‹·è´ç”Ÿæˆæ–‡ä»¶" class="headerlink" title="3. ç¼–è¯‘å¹¶æ‹·è´ç”Ÿæˆæ–‡ä»¶"></a>3. ç¼–è¯‘å¹¶æ‹·è´ç”Ÿæˆæ–‡ä»¶</h2><p>å» ogredeps çš„æ ¹ç›®å½•, è¿è¡Œç”Ÿæˆçš„<code>OGREDEPS.sln</code>æ–‡ä»¶æ‰“å¼€VS, åœ¨<code>Solution Explorer</code>çª—å£ä¸­æ‰¾åˆ°<code>INSTALL</code>å·¥ç¨‹,å³é”®<code>Build</code>:</p>
<p><img src="/img/QQ20150530-3.jpg" alt=""></p>
<p>ç­‰å¾…ç¼–è¯‘æˆåŠŸå, å» ogredeps æ ¹ç›®å½•ä¸‹æ‰¾åˆ°åˆšç”Ÿæˆçš„ <code>ogredeps</code> æ–‡ä»¶å¤¹, é‡Œé¢åŒ…å«æœ‰å¤´æ–‡ä»¶å’Œåº“æ–‡ä»¶, æŠŠå®ƒæ‹·è´åˆ° MyGUI çš„æ ¹ç›®å½•ä¸‹, å¹¶é‡å‘½åä¸º <code>Dependencies</code>.</p>
<p>å¥½äº†, è¿™ä¸€æ­¥å°±ç®—å®Œæˆäº†.</p>
<h1 id="äºŒ-ç¼–è¯‘-MyGUI"><a href="#äºŒ-ç¼–è¯‘-MyGUI" class="headerlink" title="äºŒ. ç¼–è¯‘ MyGUI"></a>äºŒ. ç¼–è¯‘ MyGUI</h1><h2 id="1-ç”Ÿæˆ-VS-å·¥ç¨‹"><a href="#1-ç”Ÿæˆ-VS-å·¥ç¨‹" class="headerlink" title="1. ç”Ÿæˆ VS å·¥ç¨‹"></a>1. ç”Ÿæˆ VS å·¥ç¨‹</h2><p>ç¬¬ä¸€æ­¥è¿˜æ˜¯è¿è¡Œ CMake, ä¸è¿‡è¿™æ¬¡è¦å…ˆ<code>Delete Cach</code> ä¸‹, å¯ä»¥åœ¨<code>File</code>èœå•ä¸‹æ‰¾åˆ°å®ƒ:</p>
<p><img src="/img/QQ20150530-4.jpg" alt=""></p>
<p>ç„¶åé€‰æ‹© source è·¯å¾„ å’Œ build è·¯å¾„, å®Œæˆä¹‹å, ç‚¹å‡»<code>Configure</code>æŒ‰é’®, åœ¨å¼¹å‡ºçš„æ¡†ä¸­é€‰æ‹©è‡ªå·±çš„ VS ç‰ˆæœ¬, ç„¶åç‚¹å‡»<code>finish</code>æŒ‰é’®.</p>
<p>ä¸€ç•ªç­‰å¾…ä¹‹å, å¼¹å‡ºäº†é”™è¯¯æç¤º! è¿™æ¬¡æ˜¯ç¡®å®æœ‰é”™è¯¯äº†:</p>
<p><img src="/img/QQ20150530-5.jpg" alt=""></p>
<p>ä»çº¢æ¡†éƒ¨åˆ†,å¯ä»¥çœ‹åˆ°é”™è¯¯ç»†èŠ‚:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ ogre: Support for the Ogre render system &lt;&gt;</span><br></pre></td></tr></table></figure>
<p>MyGUI çš„è®¾è®¡ç†å¿µç¡®å®æ˜¯æŒ‰ç…§ Cross Platform è®¾è®¡æ¥æçš„, æ‰€ä»¥ä»–çš„ render system æ˜¯æœ‰å¤šå¥—å®ç°çš„, é»˜è®¤æ˜¯ç”¨ Ogre çš„æ¸²æŸ“. å¾€ä¸Šçœ‹ä¸€ä¸‹å°±èƒ½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ:</p>
<blockquote>
<p>â€“ Also check that you buildind with RenderSystem that you need or set<br>  another with -DMYGUI_RENDERSYSTEM=<1 2="" 3="" or="" for="" direct3d_9="" ogre="" opengl=""></1></p>
</blockquote>
<p>å¥½çš„, é‚£æˆ‘ä»¬æ‰¾åˆ° <code>MYGUI_RENDERSYSTEM</code> è¿™ä¸ªå®, ç»™ä»–æ”¹æˆ <code>3 &lt;OpenGL&gt;</code> å°±å¯ä»¥äº†! åœ¨ CMake ç•Œé¢çš„ä¸€å¨çº¢è‰²çš„ä¸œä¸œä¸­æ‰¾åˆ° <code>MYGUI_RENDERSYSTEM</code>, å¦‚ä¸‹å›¾:</p>
<p><img src="/img/QQ20150530-6.jpg" alt=""></p>
<p>é¼ æ ‡æ‚¬åœçš„è¯ä¼šæœ‰è¯¦ç»†ä»‹ç».</p>
<p>å†æ¬¡ç‚¹å‡»<code>Configure</code>æŒ‰é’®, è¿™æ¬¡å°±ä¸ä¼šæœ‰é”™è¯¯äº†! å®Œæˆåç‚¹å‡»<code>Generate</code>æŒ‰é’®, ç”ŸæˆVSçš„å·¥ç¨‹æ–‡ä»¶.</p>
<h2 id="2-ç¼–è¯‘-MyGUI"><a href="#2-ç¼–è¯‘-MyGUI" class="headerlink" title="2. ç¼–è¯‘ MyGUI"></a>2. ç¼–è¯‘ MyGUI</h2><p>åœ¨ MyGUI çš„æ ¹ç›®å½•ä¸‹æ‰¾åˆ° <code>MYGUI.sln</code> ,è¿è¡Œå®ƒ! è¿˜æ˜¯åœ¨<code>Solution Explorer</code>çª—å£ä¸­æ‰¾åˆ°<code>INSTALL</code>å·¥ç¨‹,å³é”®<code>Build</code>. è¿™æ¬¡ç¼–è¯‘ä¼šç•¥å¾®ä¹…ä¸€äº›, ä¸è¿‡æ­£å¸¸æƒ…å†µä¸‹æ˜¯ä¸ä¼šæœ‰æ„å¤–æ»´!</p>
<p><img src="/img/QQ20150530-7.jpg" alt=""></p>
<p>ç¼–è¯‘å®Œæˆå, ä¼šåœ¨ <code>bin/debug</code> ç›®å½•ä¸‹çœ‹åˆ°æ‰€æœ‰çš„ Demo çš„è¿è¡Œæ–‡ä»¶, å¯ä»¥æŒ¨ä¸ªè¿è¡Œçœ‹ä¸€ä¸‹éƒ½æ˜¯ä»€ä¹ˆ.</p>
<h2 id="3-è°ƒè¯•é¡¹ç›®"><a href="#3-è°ƒè¯•é¡¹ç›®" class="headerlink" title="3. è°ƒè¯•é¡¹ç›®"></a>3. è°ƒè¯•é¡¹ç›®</h2><p>å¦‚æœæˆ‘ä»¬æƒ³è°ƒè¯•æŸä¸ª Demo, éœ€è¦åœ¨è¿™ä¸ªDemoçš„å·¥ç¨‹æ–‡ä»¶ä¸Šå³é”®è®¾ä¸ºå¯åŠ¨é¡¹<code>Set as StartUp Project</code>, ç„¶å <code>F5</code> å¯åŠ¨è°ƒè¯•, ä¸è¿‡åœ¨è¿è¡Œæ—¶ä¼šå› ä¸ºæ‰¾ä¸åˆ°èµ„æºå´©æºƒæ‰. ä¼°è®¡åŸå› æ˜¯å·¥ä½œç›®å½•ä¸æ­£ç¡®çš„, æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸‹, é¡¹ç›®å³é”®<code>Properties</code>:</p>
<p><img src="/img/QQ20150530-8.jpg" alt=""></p>
<p>å°†<code>$(ProjectDir)</code>æ”¹ä¸º<code>$(OutDir)</code>, ç¡®å®š, å†æ¬¡å¯åŠ¨è°ƒè¯•, æˆåŠŸ!</p>
<hr>
<p>è‡³æ­¤ä¸ºæ­¢, windows ä¸Šçš„è¿è¡Œè°ƒè¯•å·²æ— é—®é¢˜, å¯ä»¥å¼€å§‹å­¦ä¹ äº†!</p>
<p>â€“EOFâ€“</p>
]]></content>
      
        
        <tags>
            
            <tag> MyGUI </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¸º Quick-cocos2d-x æ·»åŠ ææ„äº‹ä»¶]]></title>
      <url>http://blog.justbilt.com/2015/05/17/onDestroy/</url>
      <content type="html"><![CDATA[<h1 id="ä¸€-ä¸ºä»€ä¹ˆä¼šéœ€è¦ææ„äº‹ä»¶"><a href="#ä¸€-ä¸ºä»€ä¹ˆä¼šéœ€è¦ææ„äº‹ä»¶" class="headerlink" title="ä¸€. ä¸ºä»€ä¹ˆä¼šéœ€è¦ææ„äº‹ä»¶ ?"></a>ä¸€. ä¸ºä»€ä¹ˆä¼šéœ€è¦ææ„äº‹ä»¶ ?</h1><p>quick çš„ class å®ç°æä¾›äº†ç±»ä¼¼c++æ„é€ å‡½æ•°çš„<code>ctor</code> , <strong>å´æ²¡æœ‰æä¾›ç±»ä¼¼ c++ çš„ææ„å‡½æ•°</strong>. æˆ‘ä»¬ç¡®å®éœ€è¦è¿™æ ·çš„ä¸€ä¸ªå›è°ƒ,å»å†™ä¸€äº›retainå¯¹è±¡çš„releaseè°ƒç”¨, ç§»é™¤ç›‘å¬çš„äº‹ä»¶ç­‰. é‚£ä¹ˆè¯¥æ€ä¹ˆåšå‘¢?</p>
<a id="more"></a>
<h2 id="1-onEnter-ä¸-onExit"><a href="#1-onEnter-ä¸-onExit" class="headerlink" title="1. onEnter ä¸ onExit"></a>1. onEnter ä¸ onExit</h2><p>onEnter ä¸ onExit ç¡®å®æ˜¯ä¸€ä¸ªè›®ä¸é”™çš„é€‰æ‹©, æ€»æ˜¯æˆå¯¹å‡ºç°. ä½†æ˜¯, ç¡®å®å­˜åœ¨è¿™æ ·çš„é—®é¢˜:</p>
<blockquote>
<p>é—®é¢˜1: å¯èƒ½ä¼šè¢«è°ƒç”¨å¤šæ¬¡</p>
</blockquote>
<p>ç¡®å®å¦‚æ­¤, å½“ä½ ä»¥ pushScene çš„å½¢å¼åŠ å…¥ä¸€ä¸ªæ–°çš„åœºæ™¯, åŸå…ˆåœºæ™¯çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¼šè¢«è°ƒç”¨ onExit, popScene æ—¶åˆä¼šè°ƒç”¨ onEnter ; æˆ–è€…æˆ‘ä»¬æƒ³æš‚åœä¸€ä¸ª Node, å¯ä»¥é€šè¿‡æ‰‹åŠ¨è°ƒç”¨ onExit æ¥å®ç°, æ¢å¤æ—¶è°ƒç”¨ onEnter, ç­‰ç­‰. è¿™æ ·å­åœ¨ onExit ä¸­å†™ä¸€å†™é‡Šæ”¾çš„ä»£ç ä¼¼ä¹åˆä¸å¤ªåˆé€‚.</p>
<blockquote>
<p>é—®é¢˜2: åªæœ‰åŠ å…¥åˆ°æ¸²æŸ“æ ‘çš„èŠ‚ç‚¹æ‰ä¼šè¢«è°ƒç”¨ onEnter/onExit</p>
</blockquote>
<p>å­˜åœ¨è¿™æ ·çš„éœ€æ±‚, æˆ‘ä»¬ new ä¸€ä¸ª Node å¯¹è±¡, ä½†æ˜¯å´ä¸æ€¥äºå°†ä»– addChild åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸Š, è€Œæ˜¯å…ˆretainä¸‹, è¿™æ ·çš„è¯å°±ä¸ä¼šè°ƒç”¨çš„onEnter/onExit. æˆ–è€…æˆ‘ä»¬æœ‰ä¸€ä¸ªå±€éƒ¨çš„ Node å¯¹è±¡, ä¸æ·»åŠ åˆ°èŠ‚ç‚¹æ ‘, è¿™æ ·ä¸‹ä¸€ä¸ªå›æ”¶å‘¨æœŸä¼šè¢«å›æ”¶æ‰, ä½†æ˜¯æ•´ä¸ªè¿‡ç¨‹å´ä¸ä¼šè°ƒç”¨çš„onEnter/onExit.</p>
<h2 id="2-ctor-ä¸-onCleanup"><a href="#2-ctor-ä¸-onCleanup" class="headerlink" title="2. ctor ä¸ onCleanup"></a>2. ctor ä¸ onCleanup</h2><p>å½“æˆ‘çœ‹åˆ° onCleanup æ•´ä¸ªåå­—, æˆ‘ä¸€åº¦ä¸ºæˆ‘æ‰¾åˆ°äº†æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆ. äº‹å®ä¸Š, <strong>å®ƒåœ¨å¤šæ•°æƒ…å†µä¸‹ç¡®å®æ˜¯èƒ½å¤Ÿæ­£å¸¸å·¥ä½œçš„</strong>, å®ƒä¼šåœ¨ node è¢« remove æ—¶è°ƒç”¨. è¯´åˆ°è¿™é‡Œä½ å¯èƒ½ä¼šæ•é”å‘ç°å®ƒä¼šé‡åˆ°ä¸ onExit ç›¸åŒçš„é—®é¢˜2, ä¹Ÿç¡®å®å¦‚æ­¤. <strong>åªæœ‰åŠ å…¥åˆ°æ¸²æŸ“æ ‘çš„èŠ‚ç‚¹æ‰ä¼šè¢«è°ƒç”¨ onCleanup</strong>.</p>
<p>ä½†æ˜¯å¦‚æœä½ æ²¡æœ‰ä¸Šè¿°çš„è¦æ±‚çš„è¯, ctor ä¸ onCleanup é…åˆä½¿ç”¨è¿˜æ˜¯å¾ˆä¸é”™çš„. éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯, è°ƒç”¨ <code>removeFromParentAndCleanup(bool cleanup)</code> æ—¶å¦‚æœ cleanup ä¸ä¼ å…¥ true çš„è¯æ˜¯ä¸ä¼šè§¦å‘ onCleanup äº‹ä»¶çš„.</p>
<hr>
<p>ç»¼ä¸Šæ‰€è¿°, ç°åœ¨å¹¶æ²¡æœ‰ä¸€ä¸ªå®Œç¾çš„æ–¹æ¡ˆ, åªèƒ½è‡ªå·±æä¸€ä¸ª.</p>
<p><img src="/img/22015-04-19-001.jpg" alt=""></p>
<h1 id="äºŒ-å®ç°"><a href="#äºŒ-å®ç°" class="headerlink" title="äºŒ. å®ç°"></a>äºŒ. å®ç°</h1><p>è¦å®ç°ä¸€ä¸ªææ„æ¶ˆæ¯, å…¶å®ç‰¹åˆ«ç®€å•, åªç”¨åœ¨ Node çš„ææ„å‡½æ•°ä¸­åˆ†å‘ä¸€ä¸ªæ¶ˆæ¯å°±å¯ä»¥äº†. è¿™é‡Œæˆ‘ç”¨ <code>quick-3.5</code> å®ç°ä¸€ä¸‹.</p>
<h2 id="1-æ·»åŠ -kNodeOnDestroy-äº‹ä»¶å¹¶åˆ†æ³•"><a href="#1-æ·»åŠ -kNodeOnDestroy-äº‹ä»¶å¹¶åˆ†æ³•" class="headerlink" title="1. æ·»åŠ  kNodeOnDestroy äº‹ä»¶å¹¶åˆ†æ³•"></a>1. æ·»åŠ  kNodeOnDestroy äº‹ä»¶å¹¶åˆ†æ³•</h2><p>æ‰“å¼€ CCNode.h , æ‰¾åˆ° <code>kNodeOnCleanup</code> æšä¸¾, å¹¶åœ¨ä¸‹æ–¹æ·»åŠ  <code>kNodeOnDestroy</code> :</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> &#123;</span><br><span class="line">    kNodeOnEnter,</span><br><span class="line">    kNodeOnExit,</span><br><span class="line">    kNodeOnEnterTransitionDidFinish,</span><br><span class="line">    kNodeOnExitTransitionDidStart,</span><br><span class="line">    kNodeOnCleanup,</span><br><span class="line">    kNodeOnDestroy</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€ CCNode.cpp, æ‰¾åˆ°<code>Node::~Node()</code>å‡½æ•°, åœ¨å‡½æ•°å¼€å§‹å¤„æ·»åŠ :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> CC_ENABLE_SCRIPT_BINDING</span></span><br><span class="line">    <span class="keyword">if</span> ( _scriptType != kScriptTypeNone)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> action = kNodeOnDestroy;</span><br><span class="line">        BasicScriptData data(this,(void*)&amp;action);</span><br><span class="line">        ScriptEvent scriptEvent(kNodeEvent,(void*)&amp;data);</span><br><span class="line">        ScriptEngineManager::getInstance()-&gt;getScriptEngine()-&gt;sendEvent(&amp;scriptEvent);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// #if CC_ENABLE_SCRIPT_BINDING</span></span></span><br></pre></td></tr></table></figure></p>
<p>æ‰“å¼€ <code>CCLuaEngine.cpp</code>, ä¿®æ”¹ <code>handleNodeEvent</code> å‡½æ•°, æ·»åŠ :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">case kNodeOnDestroy:</span><br><span class="line">    _stack-&gt;pushString(&quot;destroy&quot;);</span><br><span class="line">    break;</span><br></pre></td></tr></table></figure></p>
<p>ç¼–è¯‘ player, c++ è¿™è¾¹çš„ä¿®æ”¹å°±ç»“æŸäº†.</p>
<h2 id="2-Lua-æ·»åŠ äº‹ä»¶å¤„ç†"><a href="#2-Lua-æ·»åŠ äº‹ä»¶å¤„ç†" class="headerlink" title="2. Lua æ·»åŠ äº‹ä»¶å¤„ç†"></a>2. Lua æ·»åŠ äº‹ä»¶å¤„ç†</h2><p>æ‰“å¼€ NodeEx.lua , åœ¨<code>onCleanup</code>å‡½æ•°ä¸‹æ–¹æ·»åŠ :<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node:onDestroy</span><span class="params">()</span></span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></p>
<p>ä¿®æ”¹<code>setNodeEventEnabled</code>å‡½æ•°, æ·»åŠ è°ƒç”¨:<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">elseif</span> name == <span class="string">"cleanup"</span> <span class="keyword">then</span></span><br><span class="line">    self:onCleanup()</span><br><span class="line"><span class="keyword">elseif</span> name == <span class="string">"destroy"</span> <span class="keyword">then</span></span><br><span class="line">    self:onDestroy()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<hr>
<p>ä¸‹æ¥æˆ‘ä»¬è¦ä¿®æ”¹ä¸€ä¸‹luaè¿™è¾¹ç§»é™¤äº‹ä»¶ç›‘å¬çš„æ¡ä»¶, ä¹‹å‰æ˜¯æ”¶åˆ°<code>cleanup</code>æ¶ˆæ¯, ç°åœ¨åº”å½“æ”¹ä¸º<code>destroy</code>æ¶ˆæ¯.</p>
<p>è¿˜æ˜¯ NodeEx.lua , æ‰¾åˆ°<code>EventDispatcher</code>å‡½æ•°, ä¿®æ”¹åˆ¤æ–­æ¡ä»¶å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if idx==c.NODE_EVENT then</span><br><span class="line">    event = &#123; name=data &#125;</span><br><span class="line">    if data==&quot;destroy&quot; then</span><br><span class="line">        flagNodeCleanup = true</span><br><span class="line">    end</span><br></pre></td></tr></table></figure></p>
<h2 id="3-æµ‹è¯•"><a href="#3-æµ‹è¯•" class="headerlink" title="3. æµ‹è¯•"></a>3. æµ‹è¯•</h2><blockquote>
<p>1.æˆ‘ä»¬æ–°å»ºä¸€ä¸ªscene, ç„¶åæ·»åŠ å¦‚ä¸‹ä»£ç :</p>
</blockquote>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> nodeEventTest = class(<span class="string">"nodeEventTest"</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">return</span> display.newScene(<span class="string">"nodeEventTest"</span>)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nodeEventTest:ctor</span><span class="params">()</span></span></span><br><span class="line">    cc.FileUtils:getInstance():addSearchPath(<span class="string">"src/"</span>)</span><br><span class="line"></span><br><span class="line">    self:setNodeEventEnabled(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nodeEventTest:onDestroy</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"--nodeEventTest:onDestroy"</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨è¿™ä¸ªsceneå,ç„¶åå†è¿›å…¥å¦ä¸€ä¸ªsceneå,ä¼šåœ¨æ§åˆ¶å°è§‚å¯Ÿåˆ°è¾“å‡º.</p>
<blockquote>
<p>2.æˆ‘ä»¬åœ¨ä¸€ä¸ªLayerä¸­æ·»åŠ ä¸‹é¢è¿™å‡ è¡Œä»£ç :</p>
</blockquote>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> node = display.newNode()</span><br><span class="line">node:setNodeEventEnabled(<span class="literal">true</span>, <span class="function"><span class="keyword">function</span><span class="params">(event)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"node:"</span>,event.name)</span><br><span class="line"><span class="keyword">end</span>)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥åœ¨æ§åˆ¶å°è§‚å¯Ÿåˆ°:<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[LUA-<span class="built_in">print</span>] node: destroy</span><br></pre></td></tr></table></figure></p>
<p>å› æ­¤æˆ‘ä»¬çš„åšæ³•æ˜¯æˆåŠŸçš„, ä¸€ä¸ªä¸´æ—¶cocoså¯¹è±¡ä¹Ÿå¯ä»¥æ”¶åˆ°<code>onDestroy</code>äº‹ä»¶.</p>
<p>â€“EOFâ€“</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å…¥æ‰‹ iMac Retina 5K]]></title>
      <url>http://blog.justbilt.com/2015/05/08/buy-imac-with-retina/</url>
      <content type="html"><![CDATA[<h2 id="å¼•å­"><a href="#å¼•å­" class="headerlink" title="å¼•å­"></a>å¼•å­</h2><p>å°±ä¹°ç”µè„‘è¿™äº‹æ¥è¯´ï¼Œè¿˜æ˜¯æŒºæ›²æŠ˜çš„ã€‚å¤§çº¦æ˜¯12å¹´ä»æœ‹å‹é‚£å…¥æ‰‹äº†ä»–æ·˜æ±°çš„10å¹´13å¯¸Airï¼Œå½“æ—¶é‚£å«ä¸€ä¸ªå¼€å¿ƒå•Šï¼Œå§æ§½ï¼Œè‹¹æœç¬”è®°æœ¬å°±æ˜¯å°¼ç›å¥½çœ‹ï¼Œæ¨ä¸å¾—ç¡è§‰éƒ½æŠ±ç€ã€‚ç„¶åæ¯å¤©å›å®¶å°±æŠ±ç€Airå†™ä»£ç ï¼Œç°åœ¨æƒ³èµ·æ¥è¿˜èƒ½å¤Ÿæ„Ÿå—åˆ°å½“æ—¶çš„é‚£ç§å–œæ‚¦ä¹‹æƒ…ã€‚</p>
<a id="more"></a>
<p>å°±è¿™æ ·ä¸€ç›´ç”¨ç€ï¼Œçªç„¶æœ‰ä¸€å¤©å°±å‘ç°ç”µè„‘å¸¦ä¸åŠ¨äº†ï¼Œå½“æ—¶ååˆ†lowé€¼çš„è£…äº†çš„windowsï¼Œä¸€å¼€æœºå°±èµ·é£ï¼Œç”µæ± ä¹Ÿç”¨çš„å·¨å¿«ã€‚åæ¥å‘ç°åˆ‡åˆ° Mac OS ä¸‹ä¼šå¥½å¾ˆå¤šï¼Œäºæ˜¯å¸äº†windowsï¼Œå¼€å§‹æ Macã€‚å°±è¿™æ ·åˆè¿‡äº†ä¸€æ®µæ—¶é—´ï¼ŒMac å‡çº§äº†å‡ æ¬¡ç³»ç»Ÿåï¼Œå‘ç°åˆæœ‰äº›æ‰›ä¸ä½äº†ï¼Œè€Œä¸”å› ä¸ºåˆ†è¾¨ç‡ä¸é«˜ï¼Œå¥½å¤šè½¯ä»¶ç”¨ç€å¾ˆéš¾å—ï¼Œæ…¢æ…¢çš„å°±ä¸çˆ±ç”¨äº†ã€‚</p>
<p>å†åæ¥æ¢äº†å·¥ä½œï¼Œæ–°å…¬å¸é…äº†å°æ–°ç‰ˆçš„Airï¼Œè€Œä¸”éå¸¸ Nice çš„å¯ä»¥å¸¦å›å®¶é‡Œç”¨ï¼Œç›¸æ¯”ä¹‹ä¸‹å°±å½»åº•æ”¾å¼ƒäº†åŸæ¥çš„Airã€‚å¤§çº¦è¿‡äº†åŠå¹´å§ï¼Œç¦»å¼€äº†è¿™å®¶å…¬å¸ï¼ˆ<em>è¿™ä¸ªæˆ‘è¿‡å‡ å¤©2014çš„å¹´ç»“çš„æ–‡ç« é‡Œä¼šç»†è¯´ï¼ŒåŸè°…æˆ‘çš„æ‹–å»¶ç—‡</em>ï¼‰ï¼Œä¸èˆå½’ä¸èˆï¼Œç”µè„‘è‡ªç„¶æ˜¯è¦å½’è¿˜çš„ã€‚ä¸è¿‡å› ä¸ºå†™ä»£ç ç”¨èµ·äº† Sublime ï¼Œç›¸å¯¹ Xcode å’Œ VS æ¥è¯´ï¼Œè¦è½»é‡å¥½å¤šï¼Œæ‰€ä»¥åˆå¯ç”¨äº†å°˜å°å·²ä¹…çš„Airï¼Œç”¨ç€å€’ä¹Ÿç›¸å®‰æ— äº‹ã€‚</p>
<hr>
<p>ç„¶åé‡ç‚¹å°±æ¥äº†ï¼Œä¸ºå•¥åˆæƒ³ä¹°ç”µè„‘äº†å‘¢ï¼Ÿå› ä¸ºQTï¼Œå› ä¸º Qt Creater çš„ç•Œé¢å¤ªå¤§äº†ï¼Œç¼–ä¸€ä¸ª 960x640 çš„ ui éƒ½æ”¾ä¸å…¨ï¼Œéœ€è¦æ»šæ¥æ»šå»çš„ï¼Œå¤ªç—›è‹¦äº†ã€‚é¢ï¼Œæˆ‘æ˜¯æƒ³è¿‡å¤–æ¥æ˜¾ç¤ºå™¨çš„ï¼Œä¸è¿‡æ¯æ¬¡é€‰å¥½æ”¾åˆ°è´­ç‰©è½¦ç‚¹ä¸‹å•çš„æ—¶å€™å°±å¼€å§‹çŠ¹è±«äº†ï¼Œæ¼å…‰æ€ä¹ˆåŠï¼Ÿå°ºå¯¸ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿæœ‰è‰²å·®æ€ä¹ˆåŠï¼Ÿã€‚ã€‚ã€‚ã€‚ç„¶åå°±æ²¡æœ‰ç„¶åäº†ï¼</p>
<p>å°±è¿™æ ·ä¸€ç›´æ‹–åˆ°äº†15å¹´çš„5æœˆä»½ï¼Œæœ‰ä¸€å¤©æ™šä¸Šï¼Œå°±è’™ç”Ÿäº†ä¹°ä¸€ä¸ª iMac çš„å†²åŠ¨ï¼Œæˆ‘çš„æƒ³æ³•æ¯”è¾ƒç®€å•ï¼Œä¹°ä¸€ä¸ªä¹‹åä¸»æœºï¼Œæ˜¾ç¤ºå™¨ï¼Œé¼ æ ‡ï¼Œé”®ç›˜éƒ½æœ‰äº†ï¼Œå˜¿å˜¿ï¼ˆ<em>å¤šå®åœ¨çš„ä¸€ä¸ªäººå‘</em>ï¼‰ã€‚ç¬¬äºŒå¤©æˆ‘èµ·äº†ä¸€å¤§æ—©ï¼ˆ6ç‚¹ï¼‰ï¼Œå°±åœ¨è‹¹æœå®˜ç½‘ä¹°äº†ï¼Œç”¨çš„æ‹›è¡Œä¿¡ç”¨å¡ï¼Œåˆ†æœŸå¯ä»¥å…åˆ©æ¯ï¼Œä¸è¿‡å¾—ä»æ‹›è¡Œçš„å®˜ç½‘(<a href="http://mall.cmbchina.com/" target="_blank" rel="noopener">è¿™é‡Œ</a>)è¿›å»ã€‚è¿™ä¸€æ¬¡éå¸¸åˆ©ç´¢ï¼Œæ‹–å»¶å›å®Œå…¨æ²¡æœ‰ååº”è¿‡æ¥å°±å·²ç»å‰æ‰‹å•¦~ å“ˆå“ˆå“ˆã€‚</p>
<p>ä¸è¿‡è¿˜æ˜¯è¦ç‰¹åˆ«æ„Ÿè°¢è€å©†å¤§äººçš„å¤§åŠ›æ”¯æŒï¼Œè‹¥ä¸æ˜¯å¦‚æ­¤ï¼Œææ€•ä¹Ÿä¸ä¼šå¦‚æ­¤é¡ºåˆ© ~ è¯´å‡ºæ¥ä¸æ€•å¤§å®¶è§ç¬‘å•¦ï¼Œå“ˆå“ˆã€‚</p>
<h2 id="å¼€ç®±"><a href="#å¼€ç®±" class="headerlink" title="å¼€ç®±"></a>å¼€ç®±</h2><p>ä¸‹å®Œå•åå°±å„ç§åˆ·å¿«é€’äº†ï¼Œä»ä¸Šæµ·å‘çš„è´§ï¼Œç¬¬äºŒå¤©æ™šä¸Šå°±åˆ°äº†ã€‚è¿™é‡Œå¿…é¡»èµä¸€ä¸‹é¡ºä¸°çš„æœåŠ¡ï¼Œå› ä¸ºæ˜¯é™æ—¶é€è¾¾ï¼Œå¿«é€’å°å“¥ç‰¹æ„æ‰“äº†å‡ ä¸ªç”µè¯ç¡®è®¤æ—¶é—´ï¼Œæå‰30åˆ†é’Ÿå°±åˆ°æ¥¼ä¸‹ç­‰æˆ‘äº†ï¼ˆå› ä¸ºæˆ‘è¿˜åœ¨å…¬å¸æ”¹bugï¼Œè‹¦é€¼ï¼‰ï¼Œè§åˆ°æˆ‘åä¸»åŠ¨è¦æ±‚å¸®æˆ‘æ¬ä¸Š6æ¥¼ï¼Œéå¸¸ç»™åŠ›çš„æœ‰æœ¨æœ‰~</p>
<hr>
<p><img src="/img/IMG_20150508_215741_HDR.jpg" alt=""></p>
<p>â†‘â†‘â†‘ å‘ï¼Œå°±æ˜¯è¿™ä¸ªå•¦ï¼Œä¸è¿‡è¿˜çœŸæ˜¯è›®å¤§çš„å“~</p>
<p><img src="/img/IMG_20150507_202522_HDR.jpg" alt=""></p>
<p>â†‘â†‘â†‘ æ‹†æ‰å¤–åŒ…è£…çš„æ ·å­ã€‚</p>
<p><img src="/img/IMG_20150507_202912_HDR.jpg" alt=""></p>
<p>â†‘â†‘â†‘ å¼€ç®±ingï¼Œå†…éƒ¨é˜²éœ‡æ³¡æ²«è´´åˆçš„éå¸¸å®Œç¾ï¼Œä¸‹æ–¹çš„è¿ä¸ªæ³¡æ²«éœ€è¦å·¦å³æŠ½å‡ºã€‚</p>
<p><img src="/img/IMG_20150507_203403.jpg" alt=""></p>
<p>â†‘â†‘â†‘ æ”¾åˆ°ç”µè„‘æ¡Œä¸Šï¼Œå±å¹•ä¸Šçš„ä¿æŠ¤å¥—æ²¡æœ‰æ‘˜ï¼Œå›¾ç‰‡åŠ äº†ç‰¹æ•ˆï¼Œè¿˜ä¸é”™å§ï¼</p>
<p><img src="/img/IMG_20150507_203849.jpg" alt=""></p>
<p>â†‘â†‘â†‘ å±å¹•ä¸Šè¿˜æœ‰ä¸€å±‚è´´è†œ</p>
<p><img src="/img/IMG_20150507_204253_HDR.jpg" alt=""></p>
<p>â†‘â†‘â†‘ èƒŒéƒ¨æ¥å£ç‰¹å†™ï¼Œä»å·¦è‡³å³ä¾æ¬¡æ˜¯ï¼š<code>è€³æœºå£</code>ï¼Œ<code>SDå¡</code>,<code>USB3</code>x4,<code>é›·ç”µå£</code>x2,<code>ç½‘çº¿å£</code>.</p>
<p><img src="/img/IMG_20150507_204450_HDR.jpg" alt=""></p>
<p>â†‘â†‘â†‘ é”®é¼ ç‰¹å†™ï¼Œè‹¹æœçš„é”®ç›˜æˆ‘ç‰¹åˆ«å–œæ¬¢ï¼Œç»ˆäºæ‹¥æœ‰äº†ï¼Œå¼€å¿ƒ~</p>
<p><img src="/img/IMG_20150507_233159_HDR.jpg" alt=""></p>
<p>â†‘â†‘â†‘ æœ€åæ¥ä¸€å¼ å’Œ Air çš„åˆç…§ï¼Œå¯¹æ¯”ååˆ†å¼ºçƒˆï¼</p>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ç»è¿‡æ–­æ–­ç»­ç»­ä¸€å¤©çš„ä½¿ç”¨ï¼Œæ€»ä½“æ„Ÿè§‰è¿˜æ˜¯ååˆ†ç»™åŠ›çš„ï¼Œå¤§å±çœ‹ç€å°±æ˜¯çˆ½ã€‚å› ä¸ºæ˜¯æ··åˆç¡¬ç›˜ï¼Œè™½ç„¶æ²¡æœ‰çº¯ SSD å¿«ï¼Œä½†æ˜¯ç›´è§‚ä¸Šå·²ç»æ„Ÿè§‰ä¸å‡ºä»€ä¹ˆå·®å¼‚äº†ã€‚æ‰“å¼€ Sublime åï¼Œå°±ä¼šæœ‰æƒ³å†™äº›ä»€ä¹ˆçš„å†²åŠ¨ï¼Œå¸Œæœ›è‡ªå·±ä¸æ˜¯3åˆ†é’Ÿçƒ­æƒ…å§ï¼Œä¸è¦æœ€åˆå¿˜è®°ç›®çš„æ˜¯ä»€ä¹ˆã€‚</p>
<p>â€“EOFâ€“</p>
]]></content>
      
        
        <tags>
            
            <tag> ç”Ÿæ´» </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¸€ä¸ªå‘½ä»¤è¡Œçš„ TexturePacker æ‹†è§£å·¥å…· (ä¸€)]]></title>
      <url>http://blog.justbilt.com/2015/04/19/untp/</url>
      <content type="html"><![CDATA[<h2 id="ä¸€-èµ·æº"><a href="#ä¸€-èµ·æº" class="headerlink" title="ä¸€. èµ·æº"></a>ä¸€. èµ·æº</h2><p>ä¸ºä»€ä¹ˆæƒ³ç€åšè¿™æ ·çš„ä¸€ä¸ªå·¥å…·å‘¢? </p>
<p>äº‹æƒ…æ˜¯è¿™æ ·çš„, åœ¨æ¸¸æˆåæœŸçš„ä¼˜åŒ–è¿‡ç¨‹ä¸­, å‘ç°ç‰¹æ•ˆåœ¨èµ„æºçš„æ€»é‡ä¸­å æ¯”å¾ˆå¤§, æ‰€ä»¥æ‰“ç®—å‹ç¼©ä¸‹ç‰¹æ•ˆçš„å°ºå¯¸. æˆ‘ä»¬ç‰¹æ•ˆæ˜¯ç”±ç­–åˆ’ç”¨ TexturePacker æ‰“æˆ <code>plist + png</code>çš„å½¢å¼, å› ä¸ºé¡¹ç›®ç»æ‰‹äº†å¥½å¤šäºº, æ‰€ä»¥å¥½å¤šç‰¹æ•ˆçš„æºæ–‡ä»¶<strong>éƒ½å·²ä¸¢å¤±</strong>. å› æ­¤æƒ³åˆ°åšä¸€ä¸ªè¿™æ ·çš„è„šæœ¬æ¥å®ç°è¿™ä¸ªåŠŸèƒ½.</p>
<a id="more"></a>
<p>é¦–å…ˆæƒ³åˆ°çš„æ˜¯ <a href="http://weibo.com/p/1005051307211523" target="_blank" rel="noopener">@å¶å°”eç½‘äº‹</a> åŒå­¦çš„<a href="http://blog.csdn.net/jackystudio/article/details/12867863" target="_blank" rel="noopener">Anti_TexturePacker</a>, éå¸¸å¥½ç”¨, æˆ‘ç»å¸¸æ¨èç»™æœ‰éœ€è¦çš„æœ‹å‹. ä¸è¿‡ç›®å‰åªèƒ½è¿è¡Œåœ¨ Windows ä¸Š, è€Œä¸”ä¸æ”¯æŒå‘½ä»¤è¡Œ, æˆ‘ä»¬çš„ç‰¹æ•ˆæœ‰å¥½å‡ ç™¾ä¸ª, ä¸€ä¸ªä¸€ä¸ªæ¥çš„è¯ä¼šæ­»äººçš„å“¦~</p>
<p>ä¸‹æ¥æ‰¾åˆ°çš„æ˜¯è¿™ä¸ª, <a href="https://github.com/onepill/texture_unpacker_scirpt" target="_blank" rel="noopener">texture_unpacker_scirpt</a>, ä¸€çœ‹è¿˜ä¸é”™, ç®€å•æµ‹è¯•äº†ä¸‹é›†æˆåˆ°äº†å¼€å‘ç¯å¢ƒä¸­, ä¸è¿‡åæ¥å‘ç°éƒ¨åˆ† <code>trim+rotate</code> è¿‡çš„ frame è§£ææ˜¯ä¸æ­£ç¡®çš„.</p>
<blockquote>
<p><strong>ä¸€ç§é€ è½®å­çš„å†²åŠ¨æ¶Œä¸Šå¿ƒå¤´.</strong></p>
</blockquote>
<p><img src="/img/22015-04-19-001.jpg" alt=""></p>
<h2 id="äºŒ-åˆ†æ"><a href="#äºŒ-åˆ†æ" class="headerlink" title="äºŒ. åˆ†æ"></a>äºŒ. åˆ†æ</h2><p>è¯•ç€åˆ†æä¸‹è¿™ä¸ªé¡¹ç›®, ä¸»è¦åˆ†ä¸ºè¿™å‡ ç‚¹:</p>
<h3 id="1-plist-æ–‡ä»¶çš„è§£æå’Œåˆ†æ"><a href="#1-plist-æ–‡ä»¶çš„è§£æå’Œåˆ†æ" class="headerlink" title="1.plist æ–‡ä»¶çš„è§£æå’Œåˆ†æ."></a>1.plist æ–‡ä»¶çš„è§£æå’Œåˆ†æ.</h3><p>plist æ–‡ä»¶å…¶å®å°±æ˜¯ xml æ–‡ä»¶, å¯ä»¥ç”¨ <code>xml.etree.ElementTree</code> æ¥è§£æ, æ°å¥½ä¹‹å‰åšè¿‡ä¸€ä¸ª <code>ccb2lua</code> çš„é¡¹ç›®, æèµ·æ¥ä¹Ÿæ˜¯è½»è½¦ç†Ÿè·¯. </p>
<p>plsit ä¸­å…³é”®çš„ä¸€ä¸ªç»“æ„æ˜¯:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;key&gt;oooo_001.png&lt;/key&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">    &lt;key&gt;frame&lt;/key&gt;</span><br><span class="line">    &lt;string&gt;&#123;&#123;978,582&#125;,&#123;38,40&#125;&#125;&lt;/string&gt;</span><br><span class="line">    &lt;key&gt;offset&lt;/key&gt;</span><br><span class="line">    &lt;string&gt;&#123;15,42&#125;&lt;/string&gt;</span><br><span class="line">    &lt;key&gt;rotated&lt;/key&gt;</span><br><span class="line">    &lt;true/&gt;</span><br><span class="line">    &lt;key&gt;sourceColorRect&lt;/key&gt;</span><br><span class="line">    &lt;string&gt;&#123;&#123;76,18&#125;,&#123;38,40&#125;&#125;&lt;/string&gt;</span><br><span class="line">    &lt;key&gt;sourceSize&lt;/key&gt;</span><br><span class="line">    &lt;string&gt;&#123;160,160&#125;&lt;/string&gt;</span><br><span class="line">&lt;/dict&gt;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th style="text-align:center">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>frame</td>
<td style="text-align:center">åœ¨å¤§å›¾ä¸Šçš„åæ ‡å’Œå°ºå¯¸ä¿¡æ¯</td>
</tr>
<tr>
<td>offset</td>
<td style="text-align:center">trim è¿‡çš„å›¾ç‰‡å’ŒåŸå›¾ä¹‹é—´çš„åç§»</td>
</tr>
<tr>
<td>rotated</td>
<td style="text-align:center">æ˜¯å¦è¿›è¡Œäº†æ—‹è½¬</td>
</tr>
<tr>
<td>sourceColorRect</td>
<td style="text-align:center">åŸå§‹å›¾ä¸Šçš„åæ ‡å’Œå°ºå¯¸ä¿¡æ¯</td>
</tr>
<tr>
<td>sourceSize</td>
<td style="text-align:center">åŸå§‹å›¾ç‰‡å°ºå¯¸</td>
</tr>
</tbody>
</table>
<p>æˆ‘åšäº†ä¸€å¼ å›¾æ¥è§£é‡Šè¿™äº›å‚æ•°:</p>
<p><img src="http://i.stack.imgur.com/4JxYT.png" alt=""></p>
<p>è¿™é‡Œè¦æ³¨æ„:</p>
<ol>
<li>ä¸€å¼ å›¾ç‰‡æ˜¯å¦æ—‹è½¬, éƒ½ä¼šä¿å­˜ç›¸åŒçš„<code>frame.w</code>,<code>frame.h</code> è¿™ç‚¹æ¯”è¾ƒå‘.</li>
<li>å¦‚æœæ²¡æœ‰è£å‰ª, <code>sourceColorRect</code>çš„<code>x</code>,<code>y</code>å°±æ˜¯<code>0</code>, <code>w,h</code> å’Œ <code>sourceSize</code> ä¸€è‡´.</li>
</ol>
<h3 id="2-å›¾åƒçš„åˆ‡å–å’Œä¿å­˜"><a href="#2-å›¾åƒçš„åˆ‡å–å’Œä¿å­˜" class="headerlink" title="2. å›¾åƒçš„åˆ‡å–å’Œä¿å­˜."></a>2. å›¾åƒçš„åˆ‡å–å’Œä¿å­˜.</h3><p>å›¾åƒ python çš„è¿˜æ˜¯é€‰ç”¨äº† PIL æ¥æ, ç”¨åˆ°çš„æ¥å£ä¹Ÿä¸å¤š:</p>
<blockquote>
<p><strong>Image.open(file) â‡’ image</strong></p>
</blockquote>
<p>æ‰“å¼€å›¾åƒ</p>
<blockquote>
<p><strong>Image.new(mode, size) â‡’ image</strong></p>
</blockquote>
<p>åˆ›å»ºä¸€å¼ å›¾åƒ</p>
<blockquote>
<p><strong>im.crop(box) â‡’ image</strong></p>
</blockquote>
<p>æˆªå›¾å›¾åƒä¸€ä¸ªåŒºåŸŸ</p>
<blockquote>
<p><strong>im.paste(image, box)</strong></p>
</blockquote>
<p>å°†ä¸€å¼ å›¾åƒç²˜è´´åˆ°ä¸€ä¸ªåŒºåŸŸ</p>
<h1 id="ä¸‰-å®ç°"><a href="#ä¸‰-å®ç°" class="headerlink" title="ä¸‰. å®ç°"></a>ä¸‰. å®ç°</h1><p>è¿™é‡Œæˆ‘å¤§æ¦‚è®²ä¸€ä¸‹å®ç°, å…·ä½“å¤§å®¶å¯ä»¥å»çœ‹æºç .</p>
<h3 id="1-plist-è¯»å–"><a href="#1-plist-è¯»å–" class="headerlink" title="1.plist è¯»å–"></a>1.plist è¯»å–</h3><p>cocos2d-x çš„è¿™ä¸ª plist çš„æ ¼å¼æ˜¯æ¯”è¾ƒå¥‡æ€ªçš„ xml, æ¯ä¸€ä¸ª key çš„ value éƒ½æ˜¯åœ¨ä¸‹ä¸€è¡Œ:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>format<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">integer</span>&gt;</span>2<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>realTextureFileName<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>oooo.png<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>size<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>&#123;1024,1024&#125;<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥æ¯”è¾ƒæ–¹ä¾¿çš„å®ç°æ˜¯ä¸€æ¬¡è·å–ä¸¤è¡Œ, å¦‚ä¸‹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;&#125;</span><br><span class="line">iterator = iter(_element)</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        key = iterator.next()</span><br><span class="line">        value = iterator.next()</span><br><span class="line">        data[key.text] = parseElement(value.tag, value)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h3 id="2-å›¾ç‰‡çš„-trim-rotate"><a href="#2-å›¾ç‰‡çš„-trim-rotate" class="headerlink" title="2.å›¾ç‰‡çš„ trim+rotate"></a>2.å›¾ç‰‡çš„ trim+rotate</h3><p>è¿™ä¸ªç€å®ä»¤äººè›‹ç–¼, å› ä¸ºæ—‹è½¬ä¹‹å, <code>frame</code> æ ‡ç­¾è®°å½•çš„å®½é«˜å€¼å¹¶æ²¡æœ‰æ”¹å˜, æ‰€ä»¥è¿˜å¾—è‡ªå·±å»åˆ¤æ–­ä¸‹æœ‰æ²¡æœ‰æ—‹è½¬. <code>trim+rotate</code> ä¹‹åæ›´æ˜¯ä»¤äººå‘æŒ‡, å› ä¸ºè¿™æ · <code>sourceColorRect</code> çš„å®½é«˜,xyåç§»éƒ½ä¼šäº’æ¢. è¿™é‡Œè‹¥æ˜¯æ€è·¯ä¸æ¸…æ™°, ææœ‰å¯èƒ½è¢«ç»•æ™•.</p>
<p>å› ä¸ºå¼€å§‹å‚è€ƒäº†<a href="https://github.com/onepill/texture_unpacker_scirpt" target="_blank" rel="noopener">texture_unpacker_scirpt</a>çš„å®ç°, æ‰€ä»¥æ€è·¯ä¸€ç›´æŒ‰ç…§å®ƒçš„è·¯çº¿èµ°, ä»£ç ä¸­å¤šæ¬¡åˆ¤æ–­äº†æ˜¯å¦æ—‹è½¬. åæ¥å‘ç°ä»£ç è¿‡äºæ™¦æ¶©, äºæ˜¯å®Œå…¨æŠ›å¼ƒäº†å®ƒçš„å®ç°. </p>
<p>æœ€ç»ˆæ ¸å¿ƒä»£ç å¦‚ä¸‹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">src_image = Image.open(_imagefile)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (name,config) <span class="keyword">in</span> data[<span class="string">"frames"</span>].items():</span><br><span class="line">    <span class="comment"># parse config</span></span><br><span class="line">    frame           = parse.parse(<span class="string">"&#123;&#123;&#123;&#123;&#123;x:d&#125;,&#123;y:d&#125;&#125;&#125;,&#123;&#123;&#123;w:d&#125;,&#123;h:d&#125;&#125;&#125;&#125;&#125;"</span>,config[<span class="string">"frame"</span>])</span><br><span class="line">    sourceColorRect = parse.parse(<span class="string">"&#123;&#123;&#123;&#123;&#123;x:d&#125;,&#123;y:d&#125;&#125;&#125;,&#123;&#123;&#123;w:d&#125;,&#123;h:d&#125;&#125;&#125;&#125;&#125;"</span>,config[<span class="string">"sourceColorRect"</span>])</span><br><span class="line">    sourceSize      = parse.parse(<span class="string">"&#123;&#123;&#123;w:d&#125;,&#123;h:d&#125;&#125;"</span>,config[<span class="string">"sourceSize"</span>])</span><br><span class="line">    rotated         = config[<span class="string">"rotated"</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># create temp image</span></span><br><span class="line">    src_rect = (frame[<span class="string">"x"</span>],frame[<span class="string">"y"</span>],frame[<span class="string">"x"</span>]+(frame[<span class="string">"h"</span>] <span class="keyword">if</span> rotated <span class="keyword">else</span> frame[<span class="string">"w"</span>]),frame[<span class="string">"y"</span>]+(frame[<span class="string">"w"</span>] <span class="keyword">if</span> rotated <span class="keyword">else</span> frame[<span class="string">"h"</span>]))</span><br><span class="line">    temp_image = src_image.crop(src_rect)</span><br><span class="line">    <span class="keyword">if</span> rotated:</span><br><span class="line">        temp_image = temp_image.rotate(<span class="number">90</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># create dst image</span></span><br><span class="line">    dst_image = Image.new(<span class="string">'RGBA'</span>, (sourceSize[<span class="string">"w"</span>], sourceSize[<span class="string">"h"</span>]), (<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>))</span><br><span class="line">    dst_image.paste(temp_image, (sourceColorRect[<span class="string">"x"</span>],sourceColorRect[<span class="string">"y"</span>]), mask=<span class="number">0</span>)</span><br><span class="line">    dst_image.save(outpath + <span class="string">"/"</span> + name)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°åªæœ‰ä¸¤å¤„åˆ¤æ–­äº†æ—‹è½¬. å¤§å®¶ç‚¹è¿™é‡Œå¯ä»¥çœ‹ä¸‹<a href="https://github.com/onepill/texture_unpacker_scirpt/blob/master/unpacker.py#L26-64" target="_blank" rel="noopener">texture_unpacker_scirptçš„å®ç°</a>, å°±ä¼šå‘ç°å®ƒçš„é€»è¾‘ç¡®å®ç•¥æ˜¾æ™¦æ¶©.</p>
<h1 id="å››-ç”¨æ³•"><a href="#å››-ç”¨æ³•" class="headerlink" title="å››.ç”¨æ³•"></a>å››.ç”¨æ³•</h1><p>ç”¨æ³•å·²ç»æ›´æ–°, å¤§å®¶åˆ°<a href="/2016/10/29/untp-2/">è¿™é‡ŒæŸ¥çœ‹</a>.</p>
<h1 id="äº”-åè®°"><a href="#äº”-åè®°" class="headerlink" title="äº”.åè®°"></a>äº”.åè®°</h1><p>é¡¹ç›®ç°å·²å¼€æºè‡³github, åœ°å€<a href="https://github.com/justbilt/untp" target="_blank" rel="noopener">https://github.com/justbilt/untp</a>, <del>å¹¶æä¾›äº† windows å’Œ mac çš„å¯æ‰§è¡Œæ–‡ä»¶, ä½äº <a href="https://github.com/justbilt/untp/releases" target="_blank" rel="noopener">Release Page</a></del>, æœ‰é—®é¢˜æ¬¢è¿è¯„è®ºæˆ– issue å‘ŠçŸ¥!</p>
<p>(â€“EOFâ€“)</p>
]]></content>
      
        
        <tags>
            
            <tag> Tool </tag>
            
            <tag> untp </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ‰‹æœºæ¸¸æˆæ”»é˜²(äºŒ) å®ˆæŠ¤å˜é‡æ³•]]></title>
      <url>http://blog.justbilt.com/2015/04/05/phone-game-AND-watchdog/</url>
      <content type="html"><![CDATA[<h2 id="ä¸€-æ€è·¯"><a href="#ä¸€-æ€è·¯" class="headerlink" title="ä¸€.æ€è·¯"></a>ä¸€.æ€è·¯</h2><p>æˆ‘åœ¨13å¹´8æœˆçš„æ—¶å€™å†™è¿‡ä¸€ç¯‡æ¸¸æˆé˜²å…«é—¨ç¥å™¨ä¿®æ”¹çš„æ–‡ç« (<a href="/2015/04/04/phone-game-AND-encrypt-var/">è§è¿™é‡Œ</a>), å½“æ—¶ä»‹ç»äº†ä¸€ä¸ªå®ˆæŠ¤ç­–ç•¥å°±æ˜¯<code>å˜é‡åŠ å¯†æ³•</code>, ä»Šå¤©æˆ‘ä»¬æ¥ä»‹ç»ä¸‹å¦ä¸€ç§æ€è·¯: <code>å®ˆæŠ¤å˜é‡æ³•</code>.</p>
<a id="more"></a>
<p>è¿™ä¸ªæœ€å¼€å§‹æƒ³æ³•æ¥è‡ªäºæˆ‘ä¹‹å‰çœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« <a href="http://club.tgfcer.com/thread-6817371-1-1.html" target="_blank" rel="noopener">&lt;&lt;ä»å¤–è¡Œçš„è§†è§’å°è¯•è®²è§£ä¸ºä»€ä¹ˆè¿™å›ä¸°ç”°æ ½äº†&gt;&gt;</a>ä¸­çš„ä¸€å°èŠ‚: </p>
<blockquote>
<p>å¯¹å…³é”®å˜é‡ç¼ºä¹ä¿æŠ¤ã€‚<br>åµŒå…¥å¼ç³»ç»Ÿï¼Œæˆ–è€…ä»»ä½•ç³»ç»Ÿï¼Œéƒ½ä¼šåœ¨ä¸€å®šæ¡ä»¶ä¸‹å‘ç”Ÿç¡¬ä»¶æˆ–è€…è½¯ä»¶é”™è¯¯ã€‚å®¢è§‚ä¸Šè¿™æ˜¯æ— æ³•é¿å…çš„ã€‚è€Œä¸”æ±½è½¦ä½œä¸ºä¸€ä¸ªæ—¶å¸¸åœ¨éœ‡åŠ¨ã€å‘çƒ­ã€ä½ç§»çš„ç³»ç»Ÿï¼Œå®ƒçš„å†…éƒ¨ç¯å¢ƒä¸èƒ½è¯´ä¸æ¶åŠ£ï¼Œå‘ç”Ÿç¡¬ä»¶é”™è¯¯çš„å¯èƒ½æ€§ç”šè‡³æ›´é«˜ã€‚ä»€ä¹ˆæ ·çš„ç¡¬ä»¶é”™è¯¯å‘¢ï¼Ÿåˆ«å¿˜äº†å˜é‡éƒ½æ˜¯0å’Œ1çš„ç»„åˆï¼Œè¿™äº›0å’Œ1ç”±å­˜å‚¨å™¨ä¸Šçš„é«˜ä½ç”µå¹³ä»£è¡¨ã€‚ç”±äºæŸäº›ä¸å¯æŠ—åŸå› ï¼Œä¸€ä¸ªç”µå¹³ä»é«˜å˜æˆä½ï¼Œæˆ–è€…åè¿‡æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡å°±è¢«æ›´æ”¹äº†ã€‚è¿™è¢«ç§°ä¸ºâ€œä½åè½¬ï¼ˆBit Flipï¼‰â€ã€‚ä¸ºäº†å¯¹æŠ—è¿™æ ·çš„äº‹æƒ…å‘ç”Ÿï¼Œéœ€è¦å¯¹å˜é‡è¿›è¡Œä¿æŠ¤ã€‚ä¿æŠ¤çš„æ–¹æ³•ä¸€èˆ¬æ˜¯é•œåƒæ³•ã€‚ç®€å•æ¥è¯´å°±æ˜¯åœ¨ä¸¤ä¸ªä¸åŒçš„åœ°æ–¹å†™å…¥åŒä¸€ä¸ªå˜é‡ï¼Œè¯»å–çš„æ—¶å€™ä¸¤è¾¹éƒ½è¯»ï¼Œæ¯”è¾ƒæ˜¯ä¸æ˜¯ä¸€è‡´ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œé‚£ä¹ˆå¯ä»¥å¾—çŸ¥è¿™ä¸ªå˜é‡å·²ç»ä¸å¯é ï¼Œéœ€è¦è¿›è¡Œå®¹é”™å¤„ç†ã€‚</p>
</blockquote>
<p>è¿™ç¯‡æ–‡ç« éå¸¸æœ‰æ„æ€, å¤§å®¶ä¸å¦¨ä»”ç»†é˜…è¯»ä¸€ä¸‹! å½“æ—¶æˆ‘çœ‹å®Œæ–‡ç« åæ˜¯éå¸¸éœ‡æƒŠçš„, ä½œä¸ºä¸€ä¸ªæ¸¸æˆç¨‹åºå‘˜, æˆ‘ä»¬å‡ºé”™åå¯èƒ½åªä¼šå¯¼è‡´å…¬å¸çš„ä¸€äº›æ”¶å…¥æŸå¤±. ä½†æ˜¯å¯¹äºå¼€å‘æ±½è½¦ç³»ç»Ÿçš„ç¨‹åºå‘˜, ä»–ä»¬å‡ºé”™çš„åæœå¯èƒ½å°±æ˜¯ä¸€æ¡æ¡äººå‘½äº†! è¿™ä½¿å¾—æˆ‘ä¹‹åå†™ä»£ç æ—¶æ›´åŠ è°¨æ…, è§‰å¾—å¯èƒ½å‡ºé”™çš„åœ°æ–¹éƒ½ä¼šåŠ ä»¥å¤„ç†.</p>
<p>è¨€å½’æ­£ä¼ , <strong>å®ˆæŠ¤å˜é‡æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¸ºæ¯ä¸€ä¸ªå˜é‡éƒ½å»ºç«‹ä¸€ä¸ªå®ˆæŠ¤å˜é‡, é€šè¿‡å®ˆæŠ¤å˜é‡å»éªŒè¯åŸå§‹å˜é‡çš„åˆæ³•æ€§</strong>, æ€è·¯ä¸åŸæ–‡ä¸€è‡´, ä½†å®ç°ç•¥æœ‰ä¸åŒ, å°±æ˜¯å®ˆæŠ¤å˜é‡ä¸åŸå§‹å˜é‡<strong>ä¸æ˜¯å•çº¯çš„é•œåƒ,è€Œæ˜¯è¿›è¡ŒåŠ å¯†å¤„ç†</strong>! åŸå› å¾ˆç®€å•, å•çº¯é•œåƒä¼šä½¿å¾—å®ˆæŠ¤å˜é‡ä¹Ÿè¢«ä¿®æ”¹æ‰, å¤±å»å®ˆæŠ¤çš„èƒ½åŠ›!</p>
<p>é‚£ä¹ˆé—®é¢˜å°±æ¥äº†? åŒæ ·éœ€è¦åŠ å¯†, <code>å®ˆæŠ¤å˜é‡æ³•</code>è¾ƒ<code>å˜é‡åŠ å¯†æ³•</code>åˆæœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢? ä¸¤ç‚¹:</p>
<ol>
<li>å¯ä»¥ç›‘æµ‹åˆ°ç”¨æˆ·ä¿®æ”¹çš„è¡Œä¸º</li>
<li>å¯ä»¥å¯¹æ•°æ®è¿›è¡Œè¿˜åŸ</li>
</ol>
<p><strong>å¯ä»¥ç›‘æµ‹åˆ°ç©å®¶ä¿®æ”¹æ•°æ®çš„è¡Œä¸º</strong>ä½¿å¾—æˆ‘ä»¬æŒæ¡äº†ä¸»åŠ¨æƒ, æ¥ä¸‹æ¥æ˜¯æ€æ˜¯ç•™å…¨åœ¨æˆ‘ä»¬æŒæ§ä¹‹ä¸­. <strong>å¯ä»¥å¯¹æ•°æ®è¿›è¡Œè¿˜åŸ</strong>åˆèƒ½ä¿è¯è¿›è¡Œæ¸©å’Œçš„æƒ©ç½šåæ¸¸æˆä»èƒ½æ­£å¸¸çš„è¿›è¡Œ!</p>
<h2 id="äºŒ-å®ç°"><a href="#äºŒ-å®ç°" class="headerlink" title="äºŒ.å®ç°"></a>äºŒ.å®ç°</h2><p>è¿™é‡Œæˆ‘ç”¨ quick-cocos2d-x ç®€å•å®ç°ä¸‹:</p>
<p>1). <code>CryptoNumber.lua</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">local CryptoNumber = class(&quot;CryptoNumber&quot;)</span><br><span class="line"></span><br><span class="line">function CryptoNumber:ctor(_value)</span><br><span class="line">	self:setValue(_value)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">function CryptoNumber:decode()</span><br><span class="line">	return tonumber(crypto.decodeBase64(self.protect_data))</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">function CryptoNumber:encode(_value)</span><br><span class="line">	return crypto.encodeBase64(_value)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">function CryptoNumber:setValue(_value)</span><br><span class="line">	 self.data = _value</span><br><span class="line">	 self.protect_data = self:encode(_value)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">function CryptoNumber:getValue()</span><br><span class="line">	if not self:check() then</span><br><span class="line">		print(&quot;error!&quot;) --è¿™é‡Œåšä¿®æ”¹åçš„å¤„ç†!</span><br><span class="line">		self:setValue(self:decode())</span><br><span class="line">	end</span><br><span class="line">	return self.data</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">function CryptoNumber:check()</span><br><span class="line">	return self.data == self:decode()</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">return CryptoNumber</span><br></pre></td></tr></table></figure>
<p>2). <code>MyApp.lua</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">local n = require(&quot;utils.CryptoNumber&quot;).new(5)</span><br><span class="line">print(&quot;getValue:&quot;,n:getValue())</span><br><span class="line">n.data = 10 -- è¿™é‡Œç”¨ç›´æ¥èµ‹å€¼æ¨¡æ‹Ÿæ•°æ®ä¿®æ”¹</span><br><span class="line">print(&quot;getValue:&quot;,n:getValue())</span><br></pre></td></tr></table></figure>
<p>3). console</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[LUA-print] getValue:	5</span><br><span class="line">[LUA-print] error!</span><br><span class="line">[LUA-print] getValue:	5  //å¯ä»¥çœ‹åˆ°æ•°å€¼è¢«è¿˜åŸå›å»äº†</span><br></pre></td></tr></table></figure>
<p>æ¼”ç¤ºä»£ç , æ²¡æœ‰è€ƒè™‘å¤ªå¤š. å¯¹äº lua æ¥è¯´æœ‰æ›´ç®€å•çš„åšæ³•, æ¯”å¦‚ä½¿ç”¨<code>metamethod</code>.</p>
<h2 id="ä¸‰-åè®°"><a href="#ä¸‰-åè®°" class="headerlink" title="ä¸‰.åè®°"></a>ä¸‰.åè®°</h2><p>å…¶å®æˆ‘æ˜¯å»ºè®®å¯¹ä¿®æ”¹æ•°æ®çš„ç©å®¶è¿›è¡Œæ¸©å’Œå¤„ç†çš„, æ¯”å¦‚ç›‘æµ‹åˆ°ç©å®¶ä¿®æ”¹æ•°æ®å, å¼¹å‡ºæç¤ºå‘Šè¯‰ç©å®¶è§£é”æˆå°±, æ¯”å¦‚<em>æ¸¸æˆå¤§å¸ˆ</em>. æˆ–è€…èµ°ç…½æƒ…è·¯çº¿, å‘Šè¯‰ç©å®¶æˆ‘ä»¬å¼€å‘æ¸¸æˆçš„ä¸æ˜“, å„ç§è‹¦é€¼å„ç§æƒ¨. ä¹Ÿå¯ä»¥åšæˆä¸€ä¸ªå½©è›‹, å¼¹å‡ºå¼€å‘è€…ä¿¡æ¯. ç”šè‡³å¯ä»¥ç»™ç©å®¶ä¸€äº›å°å¥–åŠ±. æ ¸å¿ƒå°±æ˜¯: <strong>ç©å®¶ä¸æ˜¯æˆ‘ä»¬çš„æ•Œäºº, è®©ç©å®¶æ„Ÿå—åˆ°æˆ‘ä»¬çš„è¯šæ„</strong>. </p>
]]></content>
      
        
        <tags>
            
            <tag> æ¸¸æˆå¿ƒå¾— </tag>
            
            <tag> æ‰‹æœºæ¸¸æˆæ”»é˜² </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ‰‹æœºæ¸¸æˆæ”»é˜²(ä¸€) å˜é‡åŠ å¯†æ³•]]></title>
      <url>http://blog.justbilt.com/2015/04/04/phone-game-AND-encrypt-var/</url>
      <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« çš„å‰ææ˜¯å•æœºæ¸¸æˆ,ç½‘ç»œæ¸¸æˆæœ‰è‡ªå·±çš„åŠ å¯†æ–¹æ³•,ä¸å•æœºæ¸¸æˆä¸å°½ç›¸åŒ!</p>
<p>æ¸¸æˆè¾›è¾›è‹¦è‹¦çš„åšå®Œäº†,ä½†æ˜¯ä½¿ç”¨å…«é—¨ç¥å™¨å¯ä»¥è½»æ¾çš„ä¿®æ”¹ä½ çš„é‡è¦æ•°æ®(é‡‘å¸,é“å…·æ•°é‡),å“ˆå“ˆå“ˆ,é‚£ä¹ˆæ­å–œæ‚¨,æ‚¨æŒ£ä¸åˆ°ä¸€åˆ†é’±!è¯´çš„æœ‰ç‚¹å±è¨€è€¸å¬äº†,æ¯•ç«ŸçŸ¥é“å…«é—¨ç¥å™¨è¿™ä¸ªå·¥å…·çš„ä¸æ˜¯éå¸¸å¤š,è€Œä¸”ä½¿ç”¨æ¡ä»¶æ¯”è¾ƒè‹›åˆ»,ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½æ‰ä»¥è½»å¿ƒ,ä»–å®Œå…¨å¯ä»¥ä¿®æ”¹å®Œæˆäº†,å°†å­˜æ¡£æ”¾åœ¨ç½‘ä¸Š,è¿™æ ·æˆ‘ä»¬å°±ååˆ†è¢«åŠ¨äº†!</p>
<a id="more"></a>
<h3 id="ä¸€-ä»€ä¹ˆæ˜¯å…«é—¨ç¥å™¨"><a href="#ä¸€-ä»€ä¹ˆæ˜¯å…«é—¨ç¥å™¨" class="headerlink" title="ä¸€.ä»€ä¹ˆæ˜¯å…«é—¨ç¥å™¨"></a>ä¸€.ä»€ä¹ˆæ˜¯å…«é—¨ç¥å™¨</h3><p>ä¸æ˜ç™½å…«é—¨ç¥å™¨ä¸ºä½•ç‰©çš„è¯·è‡ªè¡ŒGoogle!è¿™é‡Œæˆ‘å¼•ç”¨ç™¾åº¦ç™¾ç§‘(ç‚¹å‡»è¿™é‡Œ:<a href="http://baike.baidu.com/view/3258873.htm" target="_blank" rel="noopener">http://baike.baidu.com/view/3258873.htm</a>)ä¸­çš„ä¸€æ®µè¯:</p>
<blockquote>
<p>å…«é—¨ç¥å™¨æ˜¯å®‰å“ã€iOSã€å¡ç­å¹³å°ä¸Šé€šç”¨çš„æ¸¸æˆä¿®æ”¹å·¥å…·ï¼Œå¯ä»¥ä¿®æ”¹å†…å­˜ä¸­çš„æ•°å€¼å’Œå‚æ•°ï¼Œè¾¾åˆ°ä¿®æ”¹æ¸¸æˆHPã€MPã€é‡‘é’±ã€ç­‰çº§ç­‰çš„ä½œç”¨ã€‚å…«é—¨ç¥å™¨ç±»ä¼¼äºPCå¹³å°çš„é‡‘å±±æ¸¸ä¾ ç­‰æ¸¸æˆä¿®æ”¹å™¨ï¼Œæ˜¯æ‰‹æœºæ¸¸æˆä¸­çš„é‡‘æ‰‹æŒ‡ã€‚ä½†å…«é—¨ç¥å™¨åœ¨å®‰å“å¹³å°ä¸‹éœ€è¦Rootæƒé™æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œåœ¨iOSå¹³å°ä¸‹éœ€è¦iPhoneè¶Šç‹±æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”æ”¯æŒä¸­ã€è‹±åŒè¯­è¨€ï¼Œå¹¶ä¸”è‡ªå¸¦å¸®åŠ©è¯´æ˜ã€‚</p>
</blockquote>
<p>å»ºè®®å¤§å®¶è¿˜æ˜¯äº²è‡ªå»ä½¿ç”¨ä¸‹è¿™ä¸ªå·¥å…·,æ•ˆæœè¯·çœ‹ä¸‹å›¾:</p>
<p><img src="/img/31036b15a219185ac6a0c54157ebf36937540518.jpg" alt=""></p>
<h3 id="äºŒ-åŸç†"><a href="#äºŒ-åŸç†" class="headerlink" title="äºŒ.åŸç†"></a>äºŒ.åŸç†</h3><p>çŸ¥å·±çŸ¥å½¼ç™¾æˆ˜ç™¾èƒœ,æˆ‘ä»¬è¦å…ˆäº†è§£å…«é—¨ç¥å™¨çš„åŸç†:</p>
<blockquote>
<p>åœ¨æ¸¸æˆè¿è¡Œæ—¶ï¼Œå†…å­˜å’Œå¤„ç†å™¨éƒ½ä¼šå¯¹äºæ¸¸æˆè¿›è¡Œéå¸¸å¤æ‚çš„æ•°æ®äº¤æ¢å’Œå˜æ›´ï¼Œè¿™æ˜¯å› ä¸ºæ¸¸æˆæœ‰å¾ˆå¤šçš„æ•°æ®ï¼Œä¾‹å¦‚é‡‘é’±ã€HPå€¼ã€ç­‰çº§ã€æ”»å‡»åŠ›ã€é˜²å¾¡åŠ›ç­‰æ•°æ®ï¼Œè€Œè¿™äº›æ•°æ®ï¼Œå°±åœ¨å†…å­˜å’Œå¤„ç†å™¨çš„å„ä¸ªåœ°å€å½“ä¸­ï¼Œç©å®¶åªéœ€è¦åœ¨å…«é—¨ç¥å™¨ä¸­æœç´¢ç›¸å…³çš„æ•°æ®å€¼ï¼Œå…«é—¨ç¥å™¨å°±ä¼šå°†æœç´¢å‡ºè®°å½•æ­¤æ•°æ®çš„å„ä¸ªåœ°å€æ˜¾ç¤ºï¼Œç©å®¶è¿›è¡Œå¤šæ¬¡çš„æ•°æ®å˜æ›´åå†æ¬¡æœç´¢ï¼Œåˆ°æœ€åå°±ä¼šç¡®å®šæ­¤åœ°å€åˆ°åº•æ˜¯å“ªä¸€ä¸ªï¼Œç„¶åå°†æ­¤åœ°å€çš„æ•°å€¼è¿›è¡Œä¿®æ”¹ï¼Œå›åˆ°æ¸¸æˆä¸­ï¼Œç›¸å…³çš„æ•°æ®ä¹Ÿä¼šå˜åŒ–!<br>æ€»ç»“ä¸‹,å°±æ˜¯å…«é—¨ç¥å™¨ä¼šæœç´¢å‡ºå¯¹åº”æ•°å€¼çš„å†…å­˜åœ°å€,ç„¶åæ”¹å˜å†…å­˜åœ°å€å¯¹åº”çš„å€¼!</p>
</blockquote>
<h3 id="ä¸‰-åº”å¯¹æ–¹æ¡ˆ"><a href="#ä¸‰-åº”å¯¹æ–¹æ¡ˆ" class="headerlink" title="ä¸‰.åº”å¯¹æ–¹æ¡ˆ"></a>ä¸‰.åº”å¯¹æ–¹æ¡ˆ</h3><p>è¿™æ ·æˆ‘ä»¬è²Œä¼¼å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢å»å…¥æ‰‹è§£å†³è¿™ä¸ªé—®é¢˜:</p>
<ol>
<li>è®©å®ƒæœä¸ç€!</li>
<li>è®©å®ƒæ”¹å˜ä¸äº†!</li>
</ol>
<p>æˆ‘ä»¬ä»Šå¤©å…ˆæ¥çœ‹çœ‹ç¬¬ä¸€ç§æ–¹æ³•. ç”¨è¿‡è¿™ä¸ªå·¥å…·çš„äººéƒ½æ˜ç™½,ä¸€èˆ¬æƒ…å†µä¸‹,ä¸€æ¬¡æœç´¢å°±èƒ½å‡†ç¡®å®šä½å†…å­˜åœ°å€çš„æƒ…å†µéå¸¸å°‘è§(é™¤éè¿™ä¸ªæ•°å­—éå¸¸å¤§,éå¸¸å¥‡è‘©),éƒ½æ˜¯å…ˆæœç´¢,è·å¾—å¤§é‡(å‡ åä¸‡)çš„æ•°æ®,ç„¶åå›åˆ°æ¸¸æˆä¸­,æ”¹å˜è¿™ä¸ªå€¼,å†å›åˆ°å…«é—¨ç¥å™¨,ä¼šè‡ªåŠ¨ç­›é€‰å‡ºä¹‹å‰æœç´¢åˆ°çš„ç»“æœæœ‰å“ªäº›æ”¹å˜äº†â€¦ç›´åˆ°åªå‰©ä¸‹å‡ ä¸ªç»“æœ,è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æŒ¨ä¸ªå»æ”¹å˜å€¼ä¼šå˜å¾—ååˆ†çš„Easy!</p>
<p><strong>1.æ”¹å˜å†…å­˜åœ°å€</strong></p>
<p>æƒ³æƒ³è¿™ä¸ªè¿‡ç¨‹,å¥½åƒåªæœ‰ç¬¬ä¸€æ¬¡æœç´¢æ˜¯å…¨å±€æœç´¢,åé¢çš„æ¯æ¬¡æœç´¢éƒ½æ˜¯åœ¨ä¹‹å‰æœç´¢çš„ç»“æœä¸Šè¿›è¡Œç­›é€‰!è¿™æ ·å¦‚æœæˆ‘ä»¬æ¸¸æˆä¸­æ¯æ¬¡æ”¹å˜è¿™ä¸ªå˜é‡çš„æ—¶éƒ½å»æ”¹å˜è¿™ä¸ªå˜é‡çš„å†…å­˜åœ°å€,è¿™æ ·å®ƒå°±æœç´¢ä¸åˆ°äº†!ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DynamicInt</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	DynamicInt()&#123;m_pValue=<span class="literal">NULL</span>;&#125;</span><br><span class="line"></span><br><span class="line">	~DynamicInt()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (m_pValue)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">delete</span> m_pValue;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> *m_pValue;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">setValue</span><span class="params">(<span class="keyword">int</span> nValue)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (m_pValue)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">delete</span> m_pValue;</span><br><span class="line">		&#125;</span><br><span class="line">		m_pValue=<span class="keyword">new</span> <span class="keyword">int</span>();</span><br><span class="line">		*m_pValue=nValue;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> * m_pValue;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p> ç»è¿‡å°è¯•,è¿™ä¸ªæ–¹æ³•å¹¶ä¸ç®¡ç”¨,è¿˜èƒ½è¢«ç ´è§£,ä¸çŸ¥æˆ‘çš„åšæ³•é”™è¯¯å‘¢è¿˜æ˜¯å…«é—¨ç¥å™¨çš„åŸç†ä¸æ˜¯è¿™æ ·!è¯·æ‡‚è¡ŒäººæŒ‡å‡º!</p>
<blockquote>
<p>æ³¨: ç»è¿‡åˆ†æ, å¯èƒ½æ˜¯å› ä¸ºä½  delete åç«‹åˆ» new ä¼šè·å–åˆ°åŒä¸€å—å†…å­˜åœ°å€çš„åŸå› ~ è¿™æ ·çš„è¯, æˆ‘ä»¬ä¹Ÿå¥½è¯´, æˆ‘ä»¬å…ˆæ¢ä¸‹é¡ºåºå¯èƒ½å°±å¯ä»¥äº†, ä¸è¿‡æˆ‘æ²¡æœ‰è¿›è¡Œè¿‡æµ‹è¯•!</p>
</blockquote>
<p><strong>2.åŠ å¯†æ•°æ®</strong></p>
<p>æ¢ä¸ªæ€è·¯,æˆ‘ä»¬ä¸ºä½•ä¸åœ¨æ•°æ®ä¸Šåšæ‰‹è„š,å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†(å¦‚:è¡¨é¢ä¸Šæ˜¾ç¤ºçš„æ˜¯50,å†…éƒ¨å­˜çš„å´æ˜¯50^0xff),è¿™æ ·ä»–æœç´¢è¡¨é¢ä¸Šçš„æ•°å­—å½“ç„¶æœç´¢ä¸åˆ°!ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _H_DYNAMICVALUE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _H_DYNAMICVALUE_H_</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">CEncryptValue</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	CEncryptValue()</span><br><span class="line">		: m_Value(<span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">	~CEncryptValue()</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">T <span class="title">getValue</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> m_Value ^ m_EncryptKey;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">setValue</span><span class="params">(T value)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		m_Value = value;</span><br><span class="line">		m_EncryptKey = rand();</span><br><span class="line">		m_Value ^= m_EncryptKey;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">offset</span><span class="params">(T value)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		setValue(getValue() + value);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	T m_Value;</span><br><span class="line">	<span class="keyword">int</span> m_EncryptKey;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> CEncryptValue&lt;<span class="keyword">int</span>&gt; CDynamicValueInt;</span><br><span class="line"><span class="keyword">typedef</span> CEncryptValue&lt;<span class="keyword">float</span>&gt; CDynamicValueFloat;</span><br><span class="line"><span class="keyword">typedef</span> CEncryptValue&lt;<span class="keyword">bool</span>&gt; CDynamicValueBool;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨æ—¶:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CDynamicValueInt m_DynamicMoney;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®é‡‘é’±æ•°</span></span><br><span class="line">m_DynamicMoney.setValue(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¾—åˆ°é‡‘é’±</span></span><br><span class="line">m_DynamicMoney.getValue()</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¹å˜é‡‘é’±</span></span><br><span class="line">m_DynamicMoney.offset(<span class="number">-100</span>);</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•ç»è¿‡æµ‹è¯•,ååˆ†ç®¡ç”¨!ä¹Ÿæ˜¯æˆ‘ç›®å‰é‡‡å–çš„æ–¹æ¡ˆ!å¤§å®¶å¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨!</p>
<p>å†™åœ¨åé¢çš„è¯:</p>
<p>æœ‰äº›äººå¯èƒ½ä¼šéª‚å…«é—¨ç¥å™¨çš„ä½œè€…æ— è€»ä¹‹ç±»,æˆ‘éå¸¸ä¸è®¤åŒ,å¤§å®¶éƒ½æ˜¯é æ‰‹è‰ºåƒé¥­çš„,ä¹ˆæœ‰ä»€ä¹ˆæ— è€»ä¸æ— è€»çš„,å¦‚æœä½ çš„æ¸¸æˆè¢«ç ´è§£äº†,åªèƒ½è¯´æ˜ä½ æ¯”è¾ƒå‚»!è¿˜æœ‰å¯¹ä½¿ç”¨å…«é—¨ç¥å™¨ç ´è§£æ¸¸æˆçš„ç©å®¶è¡¨ç¤ºåŒæƒ…,å› ä¸ºä½ ä¸€æ—¦ç ´è§£äº†,æ•´ä¸ªæ¸¸æˆå°±æ²¡æœ‰æ„ä¹‰äº†!</p>
]]></content>
      
        
        <tags>
            
            <tag> æ¸¸æˆå¿ƒå¾— </tag>
            
            <tag> æ‰‹æœºæ¸¸æˆæ”»é˜² </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[QuickxDevæ’ä»¶(äºŒ) debug.logæ–‡ä»¶çš„å¤„ç†]]></title>
      <url>http://blog.justbilt.com/2015/03/16/quickxdev-2/</url>
      <content type="html"><![CDATA[<p>ä¸Šç¯‡æ–‡ç« ä¸­æˆ‘ä»¬è¯´è¿‡è¦å¯¹debug.logæ–‡ä»¶åšä¸€äº›ç‰¹æ®Šå¤„ç†, è¿™é‡Œæˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„å®ç°.</p>
<a id="more"></a>
<h1 id="ä¸€-å¯¹-debug-log-æ–‡ä»¶è¿›è¡Œé…è‰²"><a href="#ä¸€-å¯¹-debug-log-æ–‡ä»¶è¿›è¡Œé…è‰²" class="headerlink" title="ä¸€. å¯¹ debug.log æ–‡ä»¶è¿›è¡Œé…è‰²"></a>ä¸€. å¯¹ debug.log æ–‡ä»¶è¿›è¡Œé…è‰²</h1><p>debug.logæ–‡ä»¶é»˜è®¤æ˜¯æ²¡æœ‰é…è‰²çš„, ç°ä¸æ‹‰å‡ ä¸å¥½çœ‹. å®ç°è¿™ä¸ªå…¶å®éå¸¸ç®€å•, æ¯ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ª<code>sublime.View</code>, <code>sublime.View</code>ä¸­æœ‰ç°æˆçš„å‡½æ•°<code>set_syntax_file</code>æ¥è®¾ç½®æ–‡ä»¶å¥æ³•è§„åˆ™, è®©æˆ‘ä»¬æ¥çœ‹ä¸‹å®šä¹‰:</p>
<blockquote>
<p>set_syntax_file(syntax_file)<br>Changes the syntax used by the view. syntax_file should be a name along the lines of Packages/Python/Python.tmLanguage. To retrieve the current syntax, use view.settings().get(â€˜syntaxâ€™).</p>
</blockquote>
<p>è¿™ä¸ªå‡½æ•°å…¶å®å¯¹åº”çš„æ˜¯ Sublime èœå•æ ä¸­çš„è¿™ä¸ª:</p>
<p><img src="/img/QQ20150316-2.jpg" alt=""></p>
<p>å¤§å®¶å¯ä»¥å¤šè¯•å‡ æ¬¡, æŒ‘ä¸€ä¸ªå¥½çœ‹ç‚¹çš„, æˆ‘é€‰ä¸­çš„æ˜¯ <code>Java</code> çš„è¯­æ³•(è·¯å¾„ä¸º:<code>Packages/Java/Java.tmLanguage</code>).</p>
<p>ä¸‹é¢æˆ‘ä»¬è¦ç›‘å¬æ–‡ä»¶ debug.log çš„æ‰“å¼€, ç›‘å¬äº‹ä»¶éœ€è¦ç»§æ‰¿<code>sublime_plugin.EventListener</code>, QuickxDev å·²ç»æœ‰äº† <code>QuickxListener</code>, æŸ¥è¯¢ api å¯ä»¥å¾—çŸ¥å¯ä»¥ç›‘å¬ <code>on_load</code> äº‹ä»¶æ¥å®ç°.</p>
<blockquote>
<p>on_load(view)<br>Called when the file is finished loading.</p>
</blockquote>
<p>å®ç°çš„ä»£ç ä¹Ÿéå¸¸çš„ç®€å•:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuickxListener</span><span class="params">(sublime_plugin.EventListener)</span>:</span></span><br><span class="line">	...</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">on_load</span><span class="params">(self, view)</span>:</span></span><br><span class="line">		print(view.file_name())</span><br><span class="line">		<span class="keyword">if</span> view.file_name().find(<span class="string">"debug.log"</span>) != <span class="number">-1</span>:</span><br><span class="line">			view.set_syntax_file(<span class="string">"Packages/Java/Java.tmLanguage"</span>)</span><br></pre></td></tr></table></figure>
<p>è®©æˆ‘ä»¬æ¥å¼ å¯¹æ¯”å›¾:</p>
<p><img src="/img/QQ20150316-3.jpg" alt=""></p>
<h1 id="äºŒ-å¯åŠ¨-Player-æ—¶æ‰“å¼€-debug-log-æ–‡ä»¶"><a href="#äºŒ-å¯åŠ¨-Player-æ—¶æ‰“å¼€-debug-log-æ–‡ä»¶" class="headerlink" title="äºŒ. å¯åŠ¨ Player æ—¶æ‰“å¼€ debug.log æ–‡ä»¶"></a>äºŒ. å¯åŠ¨ Player æ—¶æ‰“å¼€ debug.log æ–‡ä»¶</h1><p>å› ä¸ºç§ç§åŸå› , æˆ‘çš„ debug.log æ–‡ä»¶æ²¡æœ‰åœ¨ Sublime å·¥ç¨‹ä¸­, æ‰€ä»¥æ¯æ¬¡æƒ³çœ‹æ—¥å¿—éƒ½å¾—åœ¨ç£ç›˜ä¸Šæ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶, æ‹–è¿›æ¥, ç•¥æ˜¾ç¹ç. å› æ­¤èŒç”Ÿäº†è¿è¡Œ player æ—¶é¡ºå¸¦æ‰“å¼€ debug.log æ–‡ä»¶çš„éœ€æ±‚.</p>
<p>å®ç°èµ·æ¥ä¹Ÿååˆ†ç®€å•, æŸ¥è¯¢ api å¾—çŸ¥:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">open_file(file_name, &lt;flags&gt;)	</span><br><span class="line">	Opens the named file, and returns the corresponding view. If the file is already opened, it will be brought to the front. Note that as file loading is asynchronous, operations on the returned view won&apos;t be possible until its is_loading() method returns False.</span><br><span class="line">	The optional flags parameter is a bitwise combination of:</span><br><span class="line"></span><br><span class="line">	sublime.ENCODED_POSITION. Indicates the file_name should be searched for a :row or :row:col suffix</span><br><span class="line">	sublime.TRANSIENT. Open the file as a preview only: it won&apos;t have a tab assigned it until modified</span><br></pre></td></tr></table></figure>
<p><code>file_name</code>æ–‡ä»¶åä¸è¯´, åé¢çš„ flags æ¯”è¾ƒæœ‰æ„æ€: </p>
<ol>
<li><code>sublime.ENCODED_POSITION</code> é€‰é¡¹å¯ä»¥å†åœ¨æ‰“å¼€æ–‡ä»¶çš„åŒæ—¶å®šä½åˆ°æŸä¸€è¡Œ/æŸä¸€åˆ—,éå¸¸æœ‰ç”¨.</li>
<li><code>sublime.TRANSIENT</code> é€‰é¡¹æ„æ€æ˜¯åªæ˜¯é¢„è§ˆå®ƒ, ç›´åˆ°æ‰‹åŠ¨æ”¹å˜å†…å®¹å‰ä¸åˆ›å»ºæ ‡ç­¾ .</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬æ‰¾åˆ°å¯åŠ¨ Player çš„åœ°æ–¹, å› ä¸º<code>file_name</code>æ˜¯å…¨è·¯å¾„, æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å·¥ç¨‹çš„è·¯å¾„. å¯åŠ¨ player æ—¶éœ€è¦ä¼ å…¥ <code>-workdir</code> å‚æ•°, æˆ‘ä»¬ç”¨è¿™ä¸ªå°±è¡Œ. å®ç°åŒæ ·ååˆ†ç®€å•:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">workdir = os.path.split(path)[<span class="number">0</span>]</span><br><span class="line">args.append(<span class="string">"-workdir"</span>)</span><br><span class="line">args.append(workdir)</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">view.window().open_file(workdir+<span class="string">"/debug.log"</span>)</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰-é”™è¯¯å †æ ˆ-dump-çš„è·³è½¬"><a href="#ä¸‰-é”™è¯¯å †æ ˆ-dump-çš„è·³è½¬" class="headerlink" title="ä¸‰. é”™è¯¯å †æ ˆ/dump çš„è·³è½¬"></a>ä¸‰. é”™è¯¯å †æ ˆ/dump çš„è·³è½¬</h1><p>å½“æˆ‘æŸ¥çœ‹debug.log æ–‡ä»¶æ—¶, ç»å¸¸ä¼šçœ‹åˆ°ç±»ä¼¼çš„è¯­å¥:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.lua è¯­æ³•é”™è¯¯</span><br><span class="line">/Users/XXXX/scripts/app/MyApp.lua:117: &apos;=&apos; expected near &apos;a&apos;</span><br><span class="line"></span><br><span class="line">2. lua è¿è¡Œæ—¶é”™è¯¯</span><br><span class="line">Cocos2d: [LUA ERROR] [string &quot;/Users/XXX/app/MyApp.lua&quot;]:118: attempt to index local &apos;a&apos; (a nil value)</span><br><span class="line"></span><br><span class="line">3. dump ä¿¡æ¯</span><br><span class="line">Cocos2d: [0.0724] dump from: [string &quot;/Users/XXX/scripts/app/MyApp.lua&quot;]:117: in function &apos;ctor&apos;</span><br></pre></td></tr></table></figure>
<p>ä»–ä»¬ä¹‹ä¸­éƒ½åŒ…å«äº†æ–‡ä»¶å+è¡Œå·ä¿¡æ¯, è”æƒ³åˆ°ä¸Šé¢æåˆ°æ‰“å¼€æ–‡ä»¶æ—¶å¯ä»¥è·³è½¬åˆ°æŸä¸€è¡Œ, æ˜¯ä¸æ˜¯éšéšæ„Ÿè§‰å¯ä»¥åšäº›ä»€ä¹ˆ?</p>
<p>æ²¡é”™, åŸºäºè¿™ä¸ª, æˆ‘ä»¬èƒ½å¤Ÿå¾ˆå®¹æ˜“çš„å®ç°åŒå‡»é”™è¯¯ä¿¡æ¯åè·³è½¬åˆ°é”™è¯¯ä½ç½®.</p>
<h2 id="1-æ·»åŠ é¼ æ ‡åŒå‡»çš„å“åº”"><a href="#1-æ·»åŠ é¼ æ ‡åŒå‡»çš„å“åº”" class="headerlink" title="1. æ·»åŠ é¼ æ ‡åŒå‡»çš„å“åº”"></a>1. æ·»åŠ é¼ æ ‡åŒå‡»çš„å“åº”</h2><p>è¿™ä¸ªæ¯”è¾ƒç®€å•, æˆ‘ä»¬éœ€è¦åœ¨ QuickxDev æ–‡ä»¶å¤¹ä¸­åˆ›å»º <code>Default.sublime-mousemap</code> æ–‡ä»¶, å†…å®¹å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">	&#123;</span><br><span class="line">	  &quot;button&quot;: &quot;button1&quot;, &quot;count&quot;: 2,</span><br><span class="line">	  &quot;press_command&quot;: &quot;drag_select&quot;,</span><br><span class="line">	  &quot;press_args&quot;: &#123;&quot;by&quot;: &quot;words&quot;&#125;,</span><br><span class="line">	  &quot;command&quot;: &quot;my_special_doubleclick&quot;</span><br><span class="line">	&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·åœ¨åŒå‡»å·¦é”®çš„æ—¶å€™ä¼šå‘é€ <code>my_special_doubleclick</code> äº‹ä»¶, æˆ‘ä»¬åœ¨ quickx.py ä¸­å®šä¹‰å®ƒ:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySpecialDoubleclickCommand</span><span class="params">(sublime_plugin.TextCommand)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self, edit)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.view.file_name():</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		file_path, file_name = os.path.split(self.view.file_name())</span><br><span class="line">		<span class="keyword">if</span> file_name == <span class="string">"debug.log"</span>:</span><br><span class="line">			print(file_path, file_name)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åŒå‡» debug.log æ–‡ä»¶çš„æŸä¸€è¡Œå°±ä¼šæ”¶åˆ°<code>MySpecialDoubleclickCommand</code>å‘½ä»¤, è¿›è€Œæ‰“å°å‡ºæ–‡ä»¶å, è·¯å¾„!</p>
<h2 id="2-è·å–é¼ æ ‡åŒå‡»çš„æ‰€åœ¨è¡Œ"><a href="#2-è·å–é¼ æ ‡åŒå‡»çš„æ‰€åœ¨è¡Œ" class="headerlink" title="2. è·å–é¼ æ ‡åŒå‡»çš„æ‰€åœ¨è¡Œ"></a>2. è·å–é¼ æ ‡åŒå‡»çš„æ‰€åœ¨è¡Œ</h2><p>å› ä¸ºåŒå‡»ä¼šé€‰ä¸­æŸä¸ªå•è¯, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>sublime.View.sel()</code>æ¥è·å–å½“å‰é€‰ä¸­çš„è¡Œ:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> region <span class="keyword">in</span> self.view.sel():</span><br><span class="line">	<span class="keyword">if</span> <span class="keyword">not</span> region.empty():</span><br><span class="line">		line = self.view.substr(self.view.line(region.a))</span><br><span class="line">		<span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"line:"</span>,line)</span><br></pre></td></tr></table></figure>
<h2 id="3-è®¡ç®—è·³è½¬çš„æ–‡ä»¶å’Œè¡Œå·"><a href="#3-è®¡ç®—è·³è½¬çš„æ–‡ä»¶å’Œè¡Œå·" class="headerlink" title="3. è®¡ç®—è·³è½¬çš„æ–‡ä»¶å’Œè¡Œå·"></a>3. è®¡ç®—è·³è½¬çš„æ–‡ä»¶å’Œè¡Œå·</h2><p>å› ä¸ºä¸ä¼šæ­£åˆ™, åªèƒ½ç”¨ä¸€äº›åœŸåŠæ³•æ¥è®¡ç®—æ–‡ä»¶å’Œè¡Œå·, ä»£ç å¦‚ä¸‹, æ¯”è¾ƒç®€å•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">def parseLuaError(line):</span><br><span class="line">	key = &quot;.lua:&quot;</span><br><span class="line">	posKeyStart = line.find(key)</span><br><span class="line">	if posKeyStart == -1:</span><br><span class="line">		return False,&quot;&quot;</span><br><span class="line">	posKeyEnd = posKeyStart + len(key)</span><br><span class="line">	filename = line[:posKeyStart].strip(&quot; \t&quot;)+&quot;.lua&quot;</span><br><span class="line">	fileline = line[posKeyEnd:line.find(&quot;:&quot;,posKeyEnd)]</span><br><span class="line"></span><br><span class="line">	return True, filename+&quot;:&quot;+fileline</span><br><span class="line"></span><br><span class="line">def parseCocosErrorAndDump(line):</span><br><span class="line">	filename = &quot;&quot;</span><br><span class="line">	fileline = 1</span><br><span class="line">	keyHead = &quot;[string \&quot;&quot;</span><br><span class="line">	posHeadStart = line.find(keyHead)</span><br><span class="line">	if posHeadStart == -1:</span><br><span class="line">		return False,&quot;&quot;</span><br><span class="line"></span><br><span class="line">	posHeadEnd = posHeadStart + len(keyHead)</span><br><span class="line"></span><br><span class="line">	key = &quot;.lua\&quot;]:&quot;</span><br><span class="line">	posKeyStart = line.find(key,posHeadStart)</span><br><span class="line">	</span><br><span class="line">	if posHeadStart == -1:</span><br><span class="line">		return False,&quot;&quot;</span><br><span class="line"></span><br><span class="line">	posKeyEnd = posKeyStart + len(key)</span><br><span class="line"></span><br><span class="line">	filename = line[posHeadEnd:posKeyStart]+&quot;.lua&quot;</span><br><span class="line">	fileline = line[posKeyEnd:line.find(&quot;:&quot;,posKeyEnd)]</span><br><span class="line"></span><br><span class="line">	return True, filename+&quot;:&quot;+fileline</span><br></pre></td></tr></table></figure>
<p>æƒ³æƒ³è¿˜æ˜¯æ­£åˆ™ä¼šæ¯”è¾ƒç®€å•, ä»¥åæœ‰æœºä¼šåœ¨æ”¹å§!</p>
<h2 id="3-è·³è½¬"><a href="#3-è·³è½¬" class="headerlink" title="3. è·³è½¬"></a>3. è·³è½¬</h2><p>åœ¨ä¸Šé¢çš„æ­¥éª¤ä¸­æˆ‘ä»¬æ‹¿åˆ°äº†æ–‡ä»¶åå’Œè¡Œå·, ç°åœ¨æˆ‘ä»¬åªéœ€è¦è·³è½¬å°±OKäº†!</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parseLine</span><span class="params">(self, line)</span>:</span></span><br><span class="line">	re,string = self.parseCocosErrorAndDump(line)</span><br><span class="line">	<span class="keyword">if</span> re:</span><br><span class="line">		<span class="keyword">return</span> re,string</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> self.parseLuaError(line)</span><br><span class="line"></span><br><span class="line">re,filename = self.parseLine(line)</span><br><span class="line"><span class="keyword">if</span> re:</span><br><span class="line">	self.view.window().open_file(filename,sublime.ENCODED_POSITION)</span><br></pre></td></tr></table></figure>
<p>æ˜¯å•¦,å°±æ˜¯è¿™ä¹ˆç®€å•! æ„å¤–çš„å‘ç°è¿™ä¸ªåŠŸèƒ½å¯¹é”™è¯¯å †æ ˆçš„è·³è½¬ååˆ†ç»™åŠ›! å½•äº†å‡ ä¸ªå° GIF, æ„Ÿå—ä¸€ä¸‹å§!</p>
<p><a href="/img/2015-03-19-001.gif">æ¼”ç¤ºä¸€</a>,<a href="/img/2015-03-19-002.gif">æ¼”ç¤ºäºŒ</a>,<a href="/img/2015-03-19-003.gif">æ¼”ç¤ºä¸‰</a>,<a href="http://ww1.sinaimg.cn/large/7f870d23jw1eqb60t0ritg20yc0bie82.gif" target="_blank" rel="noopener">æ¼”ç¤ºå››</a></p>
<p>å…¶å®è¿™äº›åŠŸèƒ½å®ç°èµ·æ¥éƒ½ä¸éš¾, ä½†æ˜¯å´èƒ½ä»¤è‡ªå·±æ„Ÿè§‰å¾ˆçˆ½å¾ˆæœ‰æˆå°±æ„Ÿ, è¿™ææ€•å°±æ˜¯åšæ¸¸æˆæ‰€ä¸èƒ½ä½“ä¼šåˆ°çš„å§! å“ˆå“ˆ!</p>
<p>(æœ¬æ–‡å®Œ)</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> QuickxDev </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[QuickxDevæ’ä»¶(ä¸€) ç®€ä»‹]]></title>
      <url>http://blog.justbilt.com/2015/03/16/quickxdev-1/</url>
      <content type="html"><![CDATA[<h1 id="ä¸€-QuickxDev"><a href="#ä¸€-QuickxDev" class="headerlink" title="ä¸€. QuickxDev"></a>ä¸€. QuickxDev</h1><p><code>QuickxDev</code>æ˜¯ä¸€ä¸ªæå…¶å¥½ç”¨çš„Sublimeæ’ä»¶, ä¸»è¦ç”¨æ¥å¼€å‘quick-cocos2d-x, æä¾›äº†ç‰¹åˆ«å®ç”¨çš„åŠŸèƒ½:</p>
<a id="more"></a>
<h2 id="1-Run-With-Player"><a href="#1-Run-With-Player" class="headerlink" title="1.Run With Player"></a>1.Run With Player</h2><p><img src="http://ww1.sinaimg.cn/large/7f870d23gw1ehzyjexmtxj209v075wf0.jpg" alt=""></p>
<p>éå¸¸å®ç”¨çš„åŠŸèƒ½,è¿™æ ·å°±ä¸ç”¨æ‰‹åŠ¨å¯åŠ¨Player, ç„¶åé€‰ä¸­ç›®å½•é…ç½®å‚æ•°äº†. Playerè‡ªå¸¦çš„<code>Create Launcher</code>ä¸€å®šç¨‹åº¦ä¸Šèƒ½å¤ŸåŠ é€Ÿå¯åŠ¨, ä½†æ˜¯å› ä¸ºéœ€è¦æš‚æ—¶ç¦»å¼€å¼€å‘ç¯å¢ƒ, æ‰€ä»¥è¿˜æ˜¯ä¸å¦‚è¿™ä¸ªæ–¹ä¾¿.</p>
<p>è¿™ä¸ªåŠŸèƒ½å¿…é¡»åœ¨<code>scripts</code>ç›®å½•ä¸Šå³é”®æ‰æœ‰è¿™ä¸ªèœå•é€‰é¡¹.</p>
<!--more-->
<h2 id="2-Goto-Definition"><a href="#2-Goto-Definition" class="headerlink" title="2.Goto Definition"></a>2.Goto Definition</h2><p><img src="http://ww3.sinaimg.cn/large/7f870d23gw1ei1odq1ycgj20gq07zq3z.jpg" alt=""></p>
<p>é€‰ä¸­ä¸€ä¸ªå­—æ®µ, <code>ctrl+shift+g</code> æˆ–è€…å³é”®é€‰æ‹© â€˜Goto Definitionâ€™ ,å°±å¯ä»¥è·³è½¬åˆ°è¿™ä¸ªå­—æ®µçš„å®šä¹‰, æ˜¯ä¸æ˜¯é¡¿æ—¶æœ‰ç§IDEçš„æ„Ÿè§‰äº†å‘¢? å¦‚æœè¿™ä¸ªå­—æ®µå¤šå¤„éƒ½æœ‰å®šä¹‰, å°±ä¼šå¼¹å‡ºä¸€ä¸ªåˆ—è¡¨ä¾›ä½ é€‰æ‹©, éå¸¸æ£’çš„åŠŸèƒ½.</p>
<p>è¿™ä¸ªåŠŸèƒ½å¿…é¡»é€‰ä¸­è¿™ä¸ªå­—æ®µæ‰ä¼šç”Ÿæ•ˆ.</p>
<h2 id="3-Code-Snippets"><a href="#3-Code-Snippets" class="headerlink" title="3.Code Snippets"></a>3.Code Snippets</h2><p><img src="http://ww3.sinaimg.cn/large/7f870d23gw1ei1oot7o0xj20bu07dwf3.jpg" alt=""></p>
<p>ä»£ç æç¤ºå¯èƒ½æ˜¯æˆ‘ä»¬å¯¹ä¸€ä¸ªä»£ç ç¼–è¾‘å™¨æœ€åŸºæœ¬çš„éœ€æ±‚. å¦‚æœå¤§å®¶çœ‹è¿‡QuickDevçš„æºç , å¯ä»¥åœ¨<code>QuickDev/quickxlib</code>ä¸‹å‘ç°ä»£ç åˆ†ä¸ºä¸‰ç±»</p>
<ol>
<li>quick-cocos2d-x_api è¿™é‡Œæ˜¯quick-cocos2d-xçš„æç¤ºæ–‡ä»¶,åŒ…å«cocos2d-xçš„æç¤ºå’Œframeworkçš„æç¤º</li>
<li>snippets è¿™é‡Œæ˜¯luaä¸€äº›æ§åˆ¶è¯­å¥çš„æç¤º,å¦‚:<code>if else</code>, <code>while</code></li>
<li>system_api è¿™é‡Œæ˜¯luaçš„å…³é”®å­—å’Œå¸¸ç”¨åº“çš„æç¤º,å¦‚:<code>io</code>,<code>math</code></li>
</ol>
<p>ç®€ç›´ä¸šç•Œè‰¯å¿ƒçš„æœ‰æœ¨æœ‰!!!</p>
<h2 id="4-Compile-Scripts"><a href="#4-Compile-Scripts" class="headerlink" title="4.Compile Scripts"></a>4.Compile Scripts</h2><p><img src="http://ww4.sinaimg.cn/large/7f870d23gw1ei1tcrqq06j208p087wey.jpg" alt=""></p>
<p>è¿™ä¸ªåŠŸèƒ½å¯ä»¥å°†luaè„šæœ¬ç”¨luajitç¼–è¯‘æˆå­—èŠ‚ç ,è¿è¡Œæ•ˆç‡æ•°å€æå‡.åŒæ—¶å¯ä»¥è¿›è¡Œè„šæœ¬åŠ å¯†, éœ€è¦åœ¨æ’ä»¶çš„è®¾ç½®ä¸­å¡«å†™ç§˜é’¥.</p>
<h1 id="äºŒ-å®‰è£…QuickxDev"><a href="#äºŒ-å®‰è£…QuickxDev" class="headerlink" title="äºŒ. å®‰è£…QuickxDev"></a>äºŒ. å®‰è£…QuickxDev</h1><p><code>sublime</code> å®‰è£…æ’ä»¶ååˆ†å®¹æ˜“</p>
<h2 id="1-Package-Control"><a href="#1-Package-Control" class="headerlink" title="1.Package Control"></a>1.Package Control</h2><p>å¦‚æœå®‰è£…äº†<code>Package Control</code>, <code>Cmd+Shift+P</code>æ‰“å¼€å‘½ä»¤è¾“å…¥æ¡†, è¾“å…¥ <code>Install Package</code>, å›è½¦, ç¨ç­‰ç‰‡åˆ», åœ¨å¼¹å‡ºçš„æ¡†ä¸­è¾“å…¥<code>QuickxDev</code>å›è½¦åç­‰å¾…å®‰è£…æˆåŠŸ.</p>
<h2 id="2-æºç å®‰è£…"><a href="#2-æºç å®‰è£…" class="headerlink" title="2.æºç å®‰è£…"></a>2.æºç å®‰è£…</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä» <code>github</code> ä¸Šä¸‹è½½ <code>QuickxDev</code> çš„æºç åˆ°Sublimeçš„æ’ä»¶ç›®å½•, Subilmeä¼šè‡ªåŠ¨è¯†åˆ«, ååˆ†æ–¹ä¾¿.</p>
<p>å…¶å®æˆ‘çš„å»ºè®®å¤šæ•°æ’ä»¶ä»<code>Package Control</code>å®‰è£…, æ–¹ä¾¿, ä¸éœ€è¦è‡ªå·±ç»´æŠ¤, éœ€è¦ä¿®æ”¹çš„æ’ä»¶ä»æºç å®‰è£…, è¿™æ ·å¯ä»¥é¿å…Sublimeè‡ªåŠ¨å‡çº§æ’ä»¶å¸¦æ¥çš„é—®é¢˜, è€Œä¸”Sublime3ä» Package Control å®‰è£…çš„æ’ä»¶æ˜¯äºŒè¿›åˆ¶çš„,æ ¹æœ¬æ— æ³•ä¿®æ”¹æŸ¥çœ‹.</p>
<h2 id="3-æ’ä»¶è®¾ç½®"><a href="#3-æ’ä»¶è®¾ç½®" class="headerlink" title="3.æ’ä»¶è®¾ç½®"></a>3.æ’ä»¶è®¾ç½®</h2><p><img src="/img/QQ20150316-1.jpg" alt=""></p>
<p>æŒ‰ç…§ä¸Šå›¾æ‰“å¼€<code>QuickXDev.sublime-settings</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // quick_cocos2dx_root</span><br><span class="line">    &quot;quick_cocos2dx_root&quot;: &quot;/Users/.../quick-cocos2d-x-2.2.5&quot;,</span><br><span class="line">    // you name and email</span><br><span class="line">    &quot;author&quot;: &quot;wangbilt&lt;wangbilt@gmail.com&gt;&quot;,</span><br><span class="line">    // lua template attributes</span><br><span class="line">    &quot;date_format&quot;: &quot;%Y-%m-%d %H:%M:%S&quot;,</span><br><span class="line">    // i.e. peter or peter (peter@gmail.com)</span><br><span class="line">    &quot;author&quot;: &quot;justbilt&quot;,</span><br><span class="line">    // compile_scripts encrypt key,no encrypt when empty</span><br><span class="line">    &quot;compile_scripts_key&quot;: &quot;&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œå¿…é¡»è¦é…ç½®å°±æ˜¯<code>quick_cocos2dx_root</code>,æ˜¯ä½ quickxçš„ç»å¯¹è·¯å¾„.</p>
<h1 id="ä¸‰-å®šåˆ¶åŠŸèƒ½"><a href="#ä¸‰-å®šåˆ¶åŠŸèƒ½" class="headerlink" title="ä¸‰. å®šåˆ¶åŠŸèƒ½"></a>ä¸‰. å®šåˆ¶åŠŸèƒ½</h1><p><strong>QuickxDev</strong> å·²ç»ååˆ†ç‰›é€¼äº†, ä½†è¿˜æ˜¯æ— æ³•æ»¡è¶³æ¯ä¸€ä¸ªäººéœ€æ±‚, è¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬è‡ªå·±å»å®šåˆ¶ä¸€äº›åŠŸèƒ½äº†, æˆ‘è®¡åˆ’æ·»åŠ ä»¥ä¸‹åŠŸèƒ½.</p>
<h2 id="1-å¿«æ·é”®å¯åŠ¨Player"><a href="#1-å¿«æ·é”®å¯åŠ¨Player" class="headerlink" title="1.å¿«æ·é”®å¯åŠ¨Player"></a>1.å¿«æ·é”®å¯åŠ¨Player</h2><p>è™½ç„¶é€šè¿‡å³é”®èœå•åœ¨Sublimeä¸­å¯åŠ¨Playerå·²ç»å¾ˆæ–¹ä¾¿çš„äº†, ä½†è¿˜æ˜¯æ„Ÿè§‰æ¬ ä¸€äº›, å¿…é¡»éœ€è¦ <code>æ‰‹ç¦»å¼€å·¥ä½œåŒºåˆ°æŒ‡å®šä½ç½®-&gt;å³é”®-&gt;æ‰¾åˆ°èœå•é¡¹-&gt;é€‰ä¸­</code>, è¿™ä¸ªæ“ä½œçš„æ—¶é—´æ¶ˆè€—è‡³å°‘æ˜¯å¿«æ·é”®å¯åŠ¨çš„5å€ä»¥ä¸Š!</p>
<blockquote>
<p>è¿™ä¸ªåŠŸèƒ½æœ€æ–°çš„QuickxDevå·²ç»æ”¯æŒäº†,ååˆ†èµ!</p>
</blockquote>
<h2 id="2-å¯¹debug-logæ–‡ä»¶çš„å¤„ç†"><a href="#2-å¯¹debug-logæ–‡ä»¶çš„å¤„ç†" class="headerlink" title="2.å¯¹debug.logæ–‡ä»¶çš„å¤„ç†"></a>2.å¯¹debug.logæ–‡ä»¶çš„å¤„ç†</h2><p>1).debug.logç°åœ¨æ˜¯æ²¡æœ‰é…è‰²çš„,çœ‹ç€ä¸æ˜¯å¾ˆæ–¹ä¾¿.<br>2).å¯åŠ¨playerçš„æ—¶å€™è‡ªåŠ¨æ‰“å¼€debug.logæ–‡ä»¶.<br>3).å †æ ˆçš„è·³è½¬,dumpçš„è·³è½¬.</p>
<blockquote>
<p>è¿™å‡ ç‚¹ç°åœ¨å·²ç»å®Œå…¨å®ç°, ç­‰æ•´ç†å¥½åä¼šå‘å®˜æ–¹æäº¤PR.</p>
</blockquote>
<h2 id="3-ç”Ÿæˆä¸€ä¸ªJavaæ–‡ä»¶çš„å‡½æ•°ç­¾å"><a href="#3-ç”Ÿæˆä¸€ä¸ªJavaæ–‡ä»¶çš„å‡½æ•°ç­¾å" class="headerlink" title="3.ç”Ÿæˆä¸€ä¸ªJavaæ–‡ä»¶çš„å‡½æ•°ç­¾å"></a>3.ç”Ÿæˆä¸€ä¸ªJavaæ–‡ä»¶çš„å‡½æ•°ç­¾å</h2><p>å¹³æ—¶æˆ‘ä»¬è¦ç”Ÿæˆä¸€ä¸ªJavaæ–‡ä»¶çš„å‡½æ•°ç­¾åæ¯”è¾ƒéº»çƒ¦,è¦åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨<code>javac</code>,<code>javap</code>ä»€ä¹ˆçš„,æ¯”è¾ƒéº»çƒ¦,ä¸å¦‚é€šè¿‡æ’ä»¶æ¥å®ç°,åŒæ—¶è¿˜æœ‰ç”Ÿæˆ<code>java native</code>å‡½æ•°çš„C++å®ç°.</p>
<h1 id="å››-åè®°"><a href="#å››-åè®°" class="headerlink" title="å››.åè®°"></a>å››.åè®°</h1><p>ä¸Šé¢è¯´çš„è¿™å‡ ä¸ªåŠŸèƒ½æˆ‘éƒ½ä¼šå•ç‹¬å†™æ–‡ç« æ¥è®²å…·ä½“çš„å®ç°. ä½†åœ¨è¿™ä¹‹å‰å¯èƒ½æ˜¯éœ€è¦å¤§å®¶äº†è§£ Sublime æ’ä»¶å¼€å‘çš„ä¸€äº›çŸ¥è¯†, å› æ­¤æˆ‘ä¼šåŒæ—¶ä¼šå¼€å§‹å†™ <strong>Sublime æ’ä»¶å¼€å‘çš„ç³»åˆ—æ–‡ç« </strong> .</p>
<p>(æœ¬æ–‡å®Œ)</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> QuickxDev </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ­å»ºè‡ªå·±çš„ wiki ä¹‹ jingo ç¯‡]]></title>
      <url>http://blog.justbilt.com/2015/01/29/jingo/</url>
      <content type="html"><![CDATA[<h2 id="ä¸€-Why-jingo"><a href="#ä¸€-Why-jingo" class="headerlink" title="ä¸€. Why jingo ?"></a>ä¸€. Why jingo ?</h2><p>ä¸€ç›´æƒ³æ­wikiå¥½ä¹…äº†,è¿™æœŸé—´è¯•äº†å¥½å¤šä¸ªwikié¡¹ç›®,å¦‚:<a href="https://www.dokuwiki.org/dokuwiki" target="_blank" rel="noopener">dokuwiki</a>, <a href="http://simiki.org/" target="_blank" rel="noopener">simiki</a>, <a href="https://torchpad.com/" target="_blank" rel="noopener">torchpad</a>, ä¹Ÿæ…¢æ…¢åœ°å¼„æ˜ç™½äº†è‡ªå·±çœŸæ­£çš„éœ€æ±‚æ˜¯ä»€ä¹ˆ.</p>
<a id="more"></a>
<blockquote>
<p>git + markdown + (Python or nodejs)</p>
</blockquote>
<p>æ¥è¯´æ˜ä¸‹ä¸ºä»€ä¹ˆ:</p>
<ol>
<li><code>git</code>,<code>wiki</code>ç‰¹åˆ«é‡è¦çš„ä¸€ç‚¹å°±æ˜¯å†å²ç‰ˆæœ¬,æ–¹ä¾¿å›æ»š,è¿™ä¸ªç”¨<code>git</code>æ¥ç®€ç›´å¤©ä½œä¹‹åˆ.</li>
<li><code>markdown</code>,ä¹Ÿä¸å¿…å¤šè¯´, å½“æ—¶ä»ç¦»å¼€<code>Wordpress</code>å°±æ˜¯å› ä¸ºåŒå€¦äº†æ–‡ç« æ’ç‰ˆ.</li>
<li><code>Python or nodejs</code>, æ ¹æ®æˆ‘çš„ç»éªŒ,å®‰è£…æ–¹ä¾¿,é…ç½®ç®€å•,å‘å°‘.</li>
</ol>
<p><a href="https://github.com/claudioc/jingo" target="_blank" rel="noopener">jingo</a>å°±ç¬¦åˆè¿™äº›è¦æ±‚, åŒæ—¶è¿˜æ”¯æŒåœ¨çº¿ç¼–è¾‘çš„åŠŸèƒ½,ä½¿å¾—ä½ å¯ä»¥éšæ‰‹è®°,éšæ—¶è®°å½•wiki. ä½†æ˜¯jingoæ²¡æœ‰æä¾›é™æ€ç•Œé¢çš„ç”Ÿæˆ,ä¹Ÿå°±æ„å‘³ç€æ— æ³•æ‰˜ç®¡åˆ°githubä¸Š.</p>
<p><img src="/img/QQ20150129-1.jpg" alt=""></p>
<h2 id="äºŒ-å®‰è£…-jingo"><a href="#äºŒ-å®‰è£…-jingo" class="headerlink" title="äºŒ. å®‰è£… jingo"></a>äºŒ. å®‰è£… jingo</h2><p>æ–‡æ¡£è¯´çš„æ˜¯<code>npm install jingo</code>, ä¸è¿‡æˆ‘æ¨èåŠ ä¸Š<code>-g</code>å‚æ•°,å®‰è£…åˆ°å…¨å±€,ä¸ç„¶ä¼šæ‰¾ä¸åˆ°<code>jingo</code>å‘½ä»¤, åŒæ—¶è¦è€ƒè™‘æ˜¯å¦åŠ <code>sudo</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jingo -g</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å¥½ä¹‹åéšä¾¿æ‰¾ä¸€ä¸ªç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jingo -s &gt; config.yaml</span><br></pre></td></tr></table></figure>
<p>ç”Ÿæˆé»˜è®¤é…ç½®, åŒæ—¶ç”±äº<code>jingo</code>éœ€è¦ä¸€ä¸ªgitä»“åº“,æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨å½“å‰ç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€ç”Ÿæˆçš„<code>config.yaml</code>,æ‰¾åˆ°<code>repository</code>æ”¹ä¸º<code>.</code>,ä½¿ç”¨å½“å‰ç›®å½•ä½œä¸ºä»“åº“:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repository: &quot;.&quot;</span><br></pre></td></tr></table></figure>
<p>ä¿å­˜,ç„¶åå°±å¯ä»¥å¯åŠ¨äº†:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jingo -c ./config.yaml</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰-ç™»å½•"><a href="#ä¸‰-ç™»å½•" class="headerlink" title="ä¸‰. ç™»å½•"></a>ä¸‰. ç™»å½•</h2><p>å¯åŠ¨ä¹‹åæ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„, å¿…é¡»å…ˆç™»å½•,ç‚¹å‡»å³ä¸Šè§’<code>You&#39;re not logged in</code>, ä¼šåˆ‡æ¢åˆ°ç™»å½•é¡µé¢:</p>
<p><img src="/img/QQ20150130-1.jpg" alt=""></p>
<p>ä¸Šé¢æ˜¾ç¤ºä¸å…¨æ˜¯ä»€ä¹ˆæƒ…å†µå—? è€Œä¸”ä¸èƒ½æ³¨å†Œ?</p>
<p>è®©æˆ‘ä»¬å›åˆ°ç»ˆç«¯,<code>Ctrl-c</code>åœæ‰åˆšæ‰å¯åŠ¨çš„çš„jingo,ç»§ç»­æ‰“å¼€<code>config.yaml</code>çœ‹<code>authentication</code>ç»„çš„é…ç½®:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">authentication:</span><br><span class="line">  google:</span><br><span class="line">    enabled: true</span><br><span class="line">    clientId: replace me with the real value</span><br><span class="line">    clientSecret: replace me with the real value</span><br><span class="line">  github:</span><br><span class="line">    enabled: false</span><br><span class="line">    clientId: replace me with the real value</span><br><span class="line">    clientSecret: replace me with the real value</span><br><span class="line">  alone:</span><br><span class="line">    enabled: false</span><br><span class="line">    username: &quot;&quot;</span><br><span class="line">    passwordHash: &quot;&quot;</span><br><span class="line">    email: &quot;&quot;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°é»˜è®¤åªå¼€å¯äº†googleçš„æˆæƒç™»å½•, è®©æˆ‘ä»¬æ”¹ä¸ºç”¨æˆ·åå¯†ç ç™»å½•:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">alone:</span><br><span class="line">  enabled: true</span><br><span class="line">  username: &quot;XXXX&quot;</span><br><span class="line">  passwordHash: &quot;XXXXX&quot;</span><br><span class="line">  email: &quot;xxxx@gmail.com&quot;</span><br></pre></td></tr></table></figure></p>
<p>éœ€è¦æ³¨æ„ä¸‹è¿™ä¸ª<code>passwordHash</code>,è¿™é‡Œä¸æ˜¯å¡«å¯†ç ,è€Œæ˜¯å¯†ç çš„hashå€¼,<code>jingo</code>æä¾›äº†ç”Ÿæˆå¯†ç hashçš„åŠŸèƒ½,éå¸¸æ–¹ä¾¿,ç»ˆç«¯ä¸­é”®å…¥<code>jingo -# &quot;ä½ çš„å¯†ç &quot;</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jingo -# &quot;xxxx&quot;</span><br><span class="line">4ad583af22c2e7d40c1c916b2920299155a46464</span><br></pre></td></tr></table></figure>
<p>ç±»ä¼¼äº<code>4ad583af22c2e7d40c1c916b2920299155a46464</code>è¿™ä¸ªå°±æ˜¯ä½ çš„<code>passwordHash</code>.åŒæ—¶å¯ä»¥å…³æ‰googleçš„æˆæƒç™»å½•,<code>google: enabled: false</code>.</p>
<p>å®Œæˆåç„¶æˆ‘ä»¬å†æ¬¡å¯åŠ¨<code>jingo -c ./config.yaml</code>, ç‚¹å‡»ç™»å½•å°±å¯çœ‹åˆ°è¿™ä¸ªç•Œé¢äº†:</p>
<p><img src="/img/QQ20150130-2.jpg" alt=""></p>
<p>ç™»å½•ä¹‹åçš„æ“ä½œæ¯”è¾ƒç®€å•,å°±ä¸åšç‰¹æ®Šè¯´æ˜äº†.å³ä¸Šéƒ¨ä½æœ‰ä¸€ä¸ªè“åº•ç™½å­—<code>Tools</code>, é¼ æ ‡æ”¾ä¸Šå»ä¹‹åå¯ä»¥æ˜¾ç¤ºå·¥å…·æ , å•¥æ„æ€ä¹ŸçŒœçš„å‡ºæ¥.</p>
<p><img src="/img/QQ20150130-3.jpg" alt=""></p>
<h2 id="å››-åŒæ­¥åˆ°-github-oschina"><a href="#å››-åŒæ­¥åˆ°-github-oschina" class="headerlink" title="å››. åŒæ­¥åˆ° github/oschina"></a>å››. åŒæ­¥åˆ° github/oschina</h2><p>jingoçš„ä¸€ä¸ªç‰¹è‰²æ˜¯ä¿®æ”¹wikiåä¼šè‡ªåŠ¨å¸®ä½ pushåˆ°è¿œç«¯ä»“åº“, ååˆ†æ–¹ä¾¿.</p>
<p>é¦–å…ˆæˆ‘ä»¬è¦æ·»åŠ remote,åœ¨githubä¸Šæˆ–è€…å…¶ä»–æ‰˜ç®¡ç½‘ç«™å»ºç«‹ä¸€ä¸ªrepository,å¤åˆ¶<code>url</code>,ç„¶ååœ¨wikiçš„gitç›®å½•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@xxxx.git</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹,<strong>ä¸€å®š</strong>è¦ä½¿ç”¨sshåè®®æ¥<code>add remote/clone</code>, å¯ä»¥é¿å…æ¯æ¬¡<code>pull/push</code>éƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå¯†ç , é‚£æ ·ä¼šå¯¼è‡´åœ¨çº¿ç¼–è¾‘çš„æ—¶å€™ç½‘é¡µä¼šå¡æ­».</p>
<p>å¼€å¯è‡ªåŠ¨pushåªéœ€è¦ä¿®æ”¹<code>application-&gt;remote</code>å­—æ®µ.è¿™é‡Œæœ‰ä¸€ä¸ªéå¸¸å‘çš„åœ°æ–¹,æˆ‘ä¸€ç›´ä»¥ä¸ºè¿™é‡Œè¦å¡«è¿œç«¯çš„<code>url</code>,ç»“æœä¼šä¸€ç›´æŠ¥é”™:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: Remote does not exist (git@xxxx.git)</span><br></pre></td></tr></table></figure>
<p>è·Ÿè¸ªjsä»£ç æ‰å‘ç°,è¿™é‡Œè¦å¡«çš„æ˜¯remoteçš„name,å¦‚<code>origin</code>ä¹‹ç±»çš„,é…ç½®å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">application:</span><br><span class="line">  remote: &quot;origin&quot;</span><br><span class="line">  pushInterval: 30</span><br></pre></td></tr></table></figure>
<p><code>pushInterval</code>æ˜¯<code>push</code>çš„é—´éš”æ—¶é—´,å•ä½ä¸ºç§’,è¿™ä¸ªæœ‰éœ€æ±‚çš„è¯å¯ä»¥è‡ªå·±æ”¹. ä¸Šä¸€å¼ oshina <code>commit</code>è®°å½•çš„æˆªå›¾,è¿™äº›éƒ½æ˜¯è‡ªåŠ¨æäº¤çš„å“¦.</p>
<p><img src="/img/QQ20150130-4.jpg" alt=""></p>
<h2 id="å››-è§£å†³ä¸­å›½ç‰¹è‰²é—®é¢˜"><a href="#å››-è§£å†³ä¸­å›½ç‰¹è‰²é—®é¢˜" class="headerlink" title="å››. è§£å†³ä¸­å›½ç‰¹è‰²é—®é¢˜"></a>å››. è§£å†³ä¸­å›½ç‰¹è‰²é—®é¢˜</h2><p>æµ‹è¯•äº†ä¸€ä¸‹,å‘ç°åœ¨ä¸ç¿»å¢™çš„æƒ…å†µä¸‹, æœ¬åœ°è®¿é—®éƒ½ä¼šåŠ è½½å¥½ä¹…, ç”¨chromçš„åˆ†æå·¥å…·:</p>
<p><img src="/img/Screenshot-2015-01-31-1.jpg" alt=""></p>
<p>å¯ä»¥çœ‹åˆ°,å› ä¸ºå›½æƒ…çš„åŸå› ,æœ‰ä¸¤ä¸ªæ¡ç›®åŠ è½½å¤±è´¥äº†,è®©æˆ‘æ¥è§£å†³æ‰å®ƒ,æ‰“å¼€<code>jingo/views/layout.jade</code>:</p>
<ol>
<li>ç¬¬<code>9</code>è¡Œ:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">link(rel=&quot;stylesheet&quot;, href=&quot;//fonts.googleapis.com/css?family=Ubuntu|Ubuntu+Condensed&quot;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>åˆ é™¤æ‰.</p>
<ol>
<li>ç¬¬<code>61</code>è¡Œ<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script(src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&quot;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>æ”¹ä¸º:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script(src=&quot;http://lib.sinaapp.com/js/jquery/1.8/jquery.min.js&quot;)</span><br></pre></td></tr></table></figure>
<h2 id="äº”-æ€»ç»“"><a href="#äº”-æ€»ç»“" class="headerlink" title="äº”. æ€»ç»“"></a>äº”. æ€»ç»“</h2><p>jingo æ€»ä½“æ¥è¯´è¿˜æ˜¯å¾ˆä¸é”™çš„, åœ¨çº¿ç¼–è¾‘åŠŸèƒ½ååˆ†ç»™åŠ›, é…ç½®èµ·æ¥æ¯”è¾ƒç®€å•, ä¹Ÿè›®æ¼‚äº®çš„. ä½†æ˜¯æœ‰ä¸€äº›è®¾å®šä¹Ÿæ˜¯æ¯”è¾ƒäºŒçš„, æœ‰ä¸‹é¢å‡ ç‚¹:</p>
<ol>
<li>ä¸èƒ½ç›´æ¥ä¿®æ”¹ç›®å½•ä¸­çš„æ–‡ä»¶, åªèƒ½åœ¨çº¿ç¼–è¾‘</li>
<li>ç»å¸¸å‡ºç°<code>æ­¤ç½‘é¡µåŒ…å«é‡å®šå‘å¾ªç¯</code></li>
<li>ç•Œé¢è·³è½¬æœ‰é€»è¾‘é—®é¢˜,ç»å¸¸å‡ºç°urlæ‹¼æ¥é”™è¯¯.</li>
<li>ä¸èƒ½è‡ªåŠ¨ç”Ÿæˆä¾§è¾¹æ , å¾—è‡ªå·±æ‰‹åŠ¨æ”¹mdæ–‡ä»¶.</li>
</ol>
<p>ç»¼ä¸Š, <code>jingo</code> æœ‰èƒ½åŠ›çš„åŒå­¦è‡ªå·±æ”¹æ”¹è¿˜ä½•ä»¥ç”¨, æŒ‚åœ¨è‡ªå·±æœåŠ¡å™¨ä¹Ÿæ˜¯å¯ä»¥çš„, è¦ä¸åªèƒ½ç”¨æ¥ç©ç©äº†.</p>
<p>(æœ¬æ–‡å®Œ)</p>
]]></content>
      
        
    </entry>
    
    <entry>
      <title><![CDATA[svn commit å®ˆåˆ™]]></title>
      <url>http://blog.justbilt.com/2014/12/15/svn/</url>
      <content type="html"><![CDATA[<p>æ™šä¸Šå®åœ¨æ˜¯ç¡ä¸ç€, èµ·æ¥æŠŠè¿™ä¸ªå‘å¡«äº†. å…¶å®æƒ³å†™è¿™ç¯‡æ–‡ç« å¥½ä¹…äº†, å› ä¸ºä¸€äº›ä¸å¥½çš„ä¹ æƒ¯åƒäº†ä¸€äº›äº, åŠ ä¸Šå›¢é˜Ÿä¸­å‘ç°çš„ä¸€äº›é—®é¢˜, è®°ä¸‹æ¥, æ—¶åˆ»æé†’ä¸‹è‡ªå·±.</p>
<a id="more"></a>
<h3 id="1-æäº¤æ—¥å¿—"><a href="#1-æäº¤æ—¥å¿—" class="headerlink" title="1. æäº¤æ—¥å¿—"></a>1. æäº¤æ—¥å¿—</h3><p><strong>å¿…è¦æ€§:</strong>è¿™ä¸ªæˆ‘æƒ³åº”è¯¥ä¸éœ€è¦å¼ºè°ƒå§, æœ€åŸºæœ¬çš„ä¸œè¥¿, ä¸€èˆ¬ç¨å¾®ä¸¥æ ¼äº›çš„å›¢é˜Ÿéƒ½ä¼šæœ‰ç¡¬æ€§çš„è¦æ±‚. è¿™æ˜¯ä¸€ä¸ªåˆ©äººåˆ©å·±çš„å·¥ä½œ, æƒ³çŸ¥é“è‡ªå·±å‡ å‘¨å‰å¹²äº†ä»€ä¹ˆ, çœ‹logæ˜¯æœ€ä½³çš„æ–¹å¼äº†. </p>
<p><strong>å‡†ç¡®æ€§:</strong>æäº¤ä¿¡æ¯åº”è¯¥æ˜¯å‡†ç¡®çš„æè¿°ä½ è¿™æ¬¡æäº¤å¹²äº†äº›ä»€ä¹ˆ, å…¶ä»–çš„å‰æˆå’ŒåºŸè¯åˆ™ä¸è¦æœ‰. å¦‚æœæœ‰éœ€è¦å¼ºè°ƒçš„åœ°æ–¹, è¿˜åº”è¯¥å¤‡æ³¨å‡ºæ¥. è€Œä¸”ä¸€ä¸ªå›¢é˜Ÿåº”è¯¥æœ‰çº¦å®šçš„æ ¼å¼, æ¯”å¦‚ <code>fix issue xxx</code>, <code>add xxx</code>,è¿™æ ·ä¼šåœ¨åæœŸæ—¥å¿—å®šä½æ—¶éå¸¸çš„æ–¹ä¾¿.</p>
<h3 id="2-ä¸€æ¬¡æäº¤åªåšä¸€ä»¶äº‹"><a href="#2-ä¸€æ¬¡æäº¤åªåšä¸€ä»¶äº‹" class="headerlink" title="2. ä¸€æ¬¡æäº¤åªåšä¸€ä»¶äº‹"></a>2. ä¸€æ¬¡æäº¤åªåšä¸€ä»¶äº‹</h3><p>è¿™æ ·å­æ˜¯ä¸ºäº†æ–¹ä¾¿ä»¥å<code>revert</code> å’Œ <code>merge</code> æ“ä½œ, ä¸¾ä¸ªæ —å­,æ¯”å¦‚ä½ ä¸€æ¬¡æäº¤äº†ä¸¤ä¸ªåŠŸèƒ½, ä½†æ˜¯å…¶ä¸­çš„ä¸€ä¸ªåŠŸèƒ½å¯èƒ½è¢«ç æ‰æˆ–è€…ä¼šå¼•å‘ä¸€ä¸ªéå¸¸ä¸¥é‡çš„bug, æ”¹åŠ¨çš„æ–‡ä»¶éå¸¸å¤š, å¿…é¡»ä½¿ç”¨<code>revert</code>æ“ä½œ, ç„¶åå°±å‚»é€¼äº†, å¦å¤–ä¸€ä¸ªåŠŸèƒ½ä¹Ÿè¢«å›æ»šæ‰äº†.å†æ¯”å¦‚, ä½ éœ€è¦<code>merge</code>åŒäº‹çš„ä»£ç , ä½†ä»–çš„ä¸€ä¸ªåŠŸèƒ½ç›®å‰ä½ ä¸éœ€è¦æˆ–è€…åˆå¹¶åä¼šå‡ºç°é—®é¢˜, è¿™æ—¶å€™è‚¯å®šä¼šåœ¨å†…å¿ƒé—®å€™å¯¹æ–¹çš„. </p>
<p>å› æ­¤, éœ€è¦æˆ‘ä»¬æŒæ¡çš„ä¸€ä¸ªæŠ€å·§å°±æ˜¯<strong>åˆ†å¤šæ¬¡æäº¤å·¥ä½œåŒºçš„æ›´æ”¹</strong>, æ˜¯çš„, æˆ‘è§è¿‡ä¸€ä¸ªåŒäº‹æ¯æ¬¡å¿…é¡»ä¸€æ¬¡æ€§å§æ‰€æœ‰æ›´æ”¹éƒ½æäº¤å®Œ, ç„¶ååœ¨æ—¥å¿—é‡Œå†™: <code>1.xxx 2.xxx 3.xxx</code>, ä½•å¿…å‘¢! åˆ†å¤šæ¬¡æäº¤å¯èƒ½ä¼šå¯¼è‡´æŸä¸€ä¸ªç‰ˆæœ¬æ— æ³•æ­£å¸¸è¿è¡Œ, å› æ­¤ä¸€å®šè¦ä»”ç»†æ£€æŸ¥.</p>
<h3 id="3-review-ä½ çš„æ›´æ”¹"><a href="#3-review-ä½ çš„æ›´æ”¹" class="headerlink" title="3. review ä½ çš„æ›´æ”¹"></a>3. review ä½ çš„æ›´æ”¹</h3><p>è¿™ç‚¹ä¸­çš„<strong>ååˆ†é‡è¦</strong>, ä½†ä¹Ÿæ˜¯æœ€å®¹æ˜“å¿½ç•¥çš„ä¸€äº›. <strong>ä¸€å®šè¦åœ¨æäº¤å‰æŒ¨ä¸ªå¯¹æ¯”æ–‡ä»¶çš„æ¯ä¸€å¤„æ›´æ”¹</strong>, è¿™ä¸ªå¯èƒ½ä¼šèŠ±è´¹ä½ çš„ä¸€äº›æ—¶é—´, ä½†ç›¸æ¯”ä¸å¸¦æ¥çš„å¥½å¤„è¿™çš„ä¸å€¼ä¸€æ. åœ¨è¿™ä¸€æ­¥ä½ ä¼šå‘ç°ä¸€äº›éšè—çš„bug.</p>
<h3 id="4-é¿å…æ— æ„ä¹‰çš„æäº¤"><a href="#4-é¿å…æ— æ„ä¹‰çš„æäº¤" class="headerlink" title="4. é¿å…æ— æ„ä¹‰çš„æäº¤"></a>4. é¿å…æ— æ„ä¹‰çš„æäº¤</h3><p>è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢, å°±æ˜¯æŸäº›æ›´æ”¹å¯èƒ½æ˜¯æ²¡æœ‰æ„ä¹‰çš„, åŒ…æ‰©ä¸€äº›ç©ºæ ¼, æ¢è¡Œ, æµ‹è¯•ä»£ç . è¿™äº›éƒ½åº”è¯¥åœ¨æäº¤å‰çš„reviewä¸­åˆ é™¤æ‰. ä¸¾ä¸ªæ —å­,æ¯”å¦‚å·¥ç¨‹çš„configæ–‡ä»¶ä¸­DEBUGå˜é‡,é»˜è®¤å€¼ä¸º1,ä½ å¯èƒ½åœ¨è¿™æ¬¡æäº¤æ—¶æ”¹æˆ2, é‚£æ¬¡æäº¤æ—¶æ”¹æˆ3, æœ€ååˆæ”¹å›æˆ1, è¿™æ ·è«åçš„configæ–‡ä»¶åœ¨svnä¸Šå°±è«åå¤šäº†3æ¬¡ç‰ˆæœ¬,è€Œä¸”æ¯«æ— æ„ä¹‰, è¿™ç§æƒ…å†µä¸‹å°±ä¸åº”è¯¥æäº¤è¿™ä¸ªæ–‡ä»¶.</p>
<h3 id="5-ç¡®ä¿ä½ çš„ç¨‹åºèƒ½å¤Ÿè¿è¡Œ"><a href="#5-ç¡®ä¿ä½ çš„ç¨‹åºèƒ½å¤Ÿè¿è¡Œ" class="headerlink" title="5. ç¡®ä¿ä½ çš„ç¨‹åºèƒ½å¤Ÿè¿è¡Œ"></a>5. ç¡®ä¿ä½ çš„ç¨‹åºèƒ½å¤Ÿè¿è¡Œ</h3><p>ä½ å¯èƒ½ä¼šè¯´è¿™å½“ç„¶äº†, ä½†æ˜¯ä½ åœ¨æäº¤å‰æœ‰è¿è¡Œè¿‡ä½ çš„ç¨‹åºå—? reviewä¹‹åå‘¢? æˆ‘æƒ³æ²¡æœ‰ä»€ä¹ˆæ¯”æ›´æ–°ä¸‹æ¥çš„ä»£ç ä¸èƒ½è¿è¡Œæ›´è›‹ç–¼çš„äº‹æƒ…äº†. è€Œä¸”çœŸçš„æœ‰çš„äººåœ¨æ²¡æœ‰åšå®Œä¸€ä¸ªåŠŸèƒ½è¿è¡ŒæŠ¥é”™çš„æƒ…å†µä¸‹å°±æäº¤ä»£ç .</p>
<h3 id="6-clear-ä½ çš„å·¥ä½œåŒº"><a href="#6-clear-ä½ çš„å·¥ä½œåŒº" class="headerlink" title="6. clear ä½ çš„å·¥ä½œåŒº"></a>6. clear ä½ çš„å·¥ä½œåŒº</h3><p>å¯¹äºæäº¤å®Œè¿˜å­˜åœ¨äºä½ çš„å·¥ä½œåŒºæ›´æ”¹åˆ—è¡¨çš„æ–‡ä»¶, ä½ çš„é€‰æ‹©æœ‰<code>ignore/revert/delete</code>, æ€»æœ‰ä¸€ä¸ªé€‚åˆä½ . æˆ‘æ›¾ç»è§åˆ°ä¸€ä¸ªåŒäº‹æäº¤å®Œåsvnä¸­è¿˜å……æ–¥ç€æ•°åä¸ªæ›´æ”¹æ–‡ä»¶, åˆ†æ•£åœ¨å„ä¸ªç›®å½•ä¸­. å¯¼è‡´æ¯æ¬¡æäº¤éƒ½å¾—â€ç²¾æŒ‘ç»†é€‰â€ä¸‹. ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œåŒºç»å¯¹æ˜¯ä¸€å¤©å¥½å¿ƒæƒ…çš„å¼€å§‹!!!</p>
<p>å› æ­¤, ä¸€ä¸ªæœ€ä½³çš„commitæµç¨‹åº”è¯¥æ˜¯:</p>
<blockquote>
<p>test â€“&gt;&gt; review â€“&gt;&gt; test again â€“&gt;&gt; commit â€“&gt;&gt; clear</p>
</blockquote>
<p>æˆ‘å¸Œæœ›è¢«æˆ‘æåˆ°çš„åŒäº‹ä¸è¦ç”Ÿæ°”æˆ–æ„¤æ€’, å› ä¸ºæˆ‘åšä¿¡ä¸€å¥è¯: å’Œèªæ˜çš„äººä¸€èµ·å…±äº‹æœ€å¤§çš„å¥½å¤„æ˜¯ä¸ç”¨é¡¾å¿Œå¯¹æ–¹çš„è‡ªå°Šå¿ƒ!</p>
]]></content>
      
        
        <tags>
            
            <tag> æ¸¸æˆå¿ƒå¾— </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-Cocos2d-x CCGraySprite æ¶ˆå¤±å‘ (å·²æ›´æ–°è§£å†³æ–¹æ¡ˆ)]]></title>
      <url>http://blog.justbilt.com/2014/10/29/quickx-CCGraySprite-invisible/</url>
      <content type="html"><![CDATA[<p>å‰å‡ å¤©å›¢é˜Ÿä¸­å°Aé‡åˆ°äº†ä¸€ä¸ªéå¸¸è¯¡å¼‚çš„é—®é¢˜, ç‰¹æ­¤è®°å½•ä¸€ä¸‹.</p>
<a id="more"></a>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23jw1elry310gmoj20dv090jsl.jpg" alt=""></p>
<p>å¤§å®¶çœ‹ä¸Šå›¾ä¸­çš„ä¸€ä¸ªç°è‰²çš„ç²¾çµ, è¿™ä¸ªæ˜¯ç”±<code>CCGraySprite</code>åˆ›å»ºå‡ºæ¥çš„, å®ƒè¢«æ·»åŠ äº†åˆ°äº†CCNodeä¸­, å½“ç¬¬ä¸€æ¬¡è¿›å…¥ç•Œé¢æ˜¯æ­£å¸¸, é€€å‡ºç•Œé¢, å†æ¬¡è¿›å…¥æ”¹ç•Œé¢å°±çœ‹ä¸è§äº†, ä½†æ˜¯åªè¦ä¸€ç§»åŠ¨è¿™ä¸ªç•Œé¢å°±åˆå¯ä»¥çœ‹è§äº†.</p>
<p>è¿™ä¸ªé—®é¢˜ååˆ†çš„è¯¡å¼‚, å‡ºç°çš„æ¡ä»¶ååˆ†è‹›åˆ», ä½†æ˜¯å¤ç°ç‡æ˜¯100%, å°±æ¯”è¾ƒå¥½è§£å†³äº†. æˆ‘çŒœæµ‹æœ‰å¯èƒ½æ˜¯ä¸€ä¸‹å‡ ä¸ªåŸå› :</p>
<p>ç¬¬ä¸€ä¸ªå¯èƒ½, ç²¾çµçš„é—®é¢˜çš„è¢«é‡Šæ”¾æ‰äº†, ä½†æ˜¯è¿™ä¸ªæ— æ³•è§£é‡Š <strong>åªè¦ä¸€ç§»åŠ¨è¿™ä¸ªç•Œé¢å°±åˆå¯ä»¥çœ‹è§äº†</strong>.</p>
<p>ç¬¬äºŒä¸ªå¯èƒ½, luaè¿™è¾¹çš„å†…å­˜è¢«é‡Šæ”¾æ‰äº†,åŒæ ·æ— æ³•è§£é‡Šä¸Šè¾¹çš„ç°è±¡</p>
<p>ç¬¬ä¸‰ä¸ªå¯èƒ½, <code>CCGraySprite</code>çš„å†…éƒ¨å®ç°åˆé—®é¢˜, è¿™ä¸ªæ¯”è¾ƒå¥½è¯æ˜, <strong>æ¢ä¸€ç§å˜ç°çš„å®ç°</strong>å°±å¯ä»¥éªŒè¯äº†.</p>
<p>äºæ˜¯æˆ‘ä»¬æ”¹ç”¨zrongè´¡çŒ®çš„æ»¤é•œæ¥å®ç°å˜ç°çš„åŠŸèƒ½:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºç°åº¦ç²¾çµ</span></span><br><span class="line">_spr = CCFilteredSpriteWithOne:createWithTexture(_texture, _rect)</span><br><span class="line"><span class="keyword">local</span> filters = filter.newFilter(<span class="string">"GRAY"</span>)</span><br><span class="line">_spr:setFilter(filters)</span><br></pre></td></tr></table></figure>
<p>éªŒè¯ç»“æœæœç„¶æ˜¯<code>CCGraySprite</code>çš„é—®é¢˜,ç”¨<code>CCFilteredSprite</code>æ›¿æ¢å¯ä»¥è§£å†³.</p>
<p><del>å› ä¸ºæ¯”è¾ƒç€æ€¥, è™½ç„¶æœ€åè§£å†³äº†, ä½†æ²¡æœ‰å…·ä½“å»åˆ†æåŸå› , å¸Œæœ›æœ‰çŸ¥é“åŸå› çš„åŒå­¦å¯ä»¥å‘ŠçŸ¥ä¸€ä¸‹.</del></p>
<h3 id="Update-12æœˆ20æ—¥"><a href="#Update-12æœˆ20æ—¥" class="headerlink" title="Update 12æœˆ20æ—¥:"></a>Update 12æœˆ20æ—¥:</h3><p>ä»Šå¤©åˆé‡åˆ°äº†è¿™ä¸ªbug, çœ‹æ¥å¾—å¥½å¥½ç ”ç©¶ä¸‹äº†!</p>
<p>Googleäº†ä¸€ä¸‹, çœ‹æ¥ä¸æ­¢æˆ‘ä¸€ä¸ªäººé‡åˆ°äº†è¿™ä¸ªé—®é¢˜, <a href="http://www.cocoachina.com/bbs/read.php?tid-217500-page-e-fpage-1.html" target="_blank" rel="noopener">è°ç”¨è¿‡CCGraySpriteï¼Œç§»é™¤å†æ–°å»ºå°±ä¸ä¼šæ˜¾ç¤ºäº†</a>, è™½ç„¶æ²¡æœ‰è§£å†³, ä½†æ˜¯çŸ¥é“æ€ä¹ˆé‡ç°äº†.</p>
<blockquote>
<p>è°ç”¨è¿‡CCGraySpriteï¼Œ<strong>ç§»é™¤å†æ–°å»ºå°±ä¸ä¼šæ˜¾ç¤ºäº†</strong>ï¼Œä¸çŸ¥é“å¤§å®¶ç”¨ä»€ä¹ˆç°æ€ç²¾çµï¼Œæ±‚è§£.</p>
</blockquote>
<p>è¿™ä¸ªç¡®å®å®¹æ˜“é‡ç°, æµ‹è¯•ä»£ç :</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MainScene:ctor</span><span class="params">()</span></span></span><br><span class="line">    ui.newMenu(&#123;ui.newTTFLabelMenuItem(&#123;text = <span class="string">"åˆ é™¤&amp;åˆ›å»º"</span>, listener = handler(self, self.init)&#125;)&#125;)</span><br><span class="line">        :pos(display.cx, display.cy - <span class="number">100</span>)</span><br><span class="line">        :addTo(self)</span><br><span class="line"></span><br><span class="line">    self:init()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MainScene:init</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">if</span> self.spr <span class="keyword">then</span></span><br><span class="line">        self.spr:removeFromParent()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    self.spr = CCNodeExtend.extend(CCGraySprite:<span class="built_in">create</span>(<span class="string">"start.png"</span>))</span><br><span class="line">        :pos(display.cx, display.cy)</span><br><span class="line">        :addTo(self)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ªCCGraySprite, ç‚¹å‡»æŒ‰é’®ååˆ é™¤å†é‡æ–°åˆ›å»º, å°±çœŸçš„çœ‹ä¸è§äº†!</p>
<p>èµ·åˆæˆ‘ä»¬çŒœæµ‹æ˜¯å› ä¸ºåˆ é™¤åç«‹åˆ»åˆ›å»ºçš„é—®é¢˜, åœ¨åŠ äº†å®šæ—¶å™¨åä¾ç„¶å¦‚æ­¤, æ’é™¤!</p>
<p>ç„¶åæˆ‘ä»¬å»çœ‹CCGraySpriteçš„å®ç°, æ—¢ç„¶ç¬¬äºŒæ¬¡åˆ›å»ºä¼šå‡ºç°é—®é¢˜, é‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯initçš„å®ç°æœ‰é—®é¢˜, CCGraySprite çš„å®ç°æœ€ç»ˆéƒ½ä¼šè°ƒç”¨ initWithTexture</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">CCGLProgram* pProgram = CCShaderCache::sharedShaderCache()-&gt;programForKey(kCCShader_PositionTextureGray);</span><br><span class="line">setShaderProgram(pProgram);</span><br><span class="line">CHECK_GL_ERROR_DEBUG();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸ºæ¸²æŸ“çš„é¡¶ç‚¹æµå¢åŠ å±æ€§ï¼ˆé¡¶ç‚¹å±æ€§ï¼š position, texCoord, color, normal ç­‰ï¼‰</span></span><br><span class="line">getShaderProgram()-&gt;addAttribute(kCCAttributeNamePosition, kCCVertexAttrib_Position);</span><br><span class="line">getShaderProgram()-&gt;addAttribute(kCCAttributeNameColor, kCCVertexAttrib_Color);</span><br><span class="line">getShaderProgram()-&gt;addAttribute(kCCAttributeNameTexCoord, kCCVertexAttrib_TexCoords);</span><br><span class="line">CHECK_GL_ERROR_DEBUG();</span><br><span class="line"></span><br><span class="line"><span class="comment">//é“¾æ¥ç”ŸæˆshaderProgramï¼Œåˆå§‹åŒ–å®Œæ¯•åè°ƒç”¨ç”Ÿæˆæ‰èƒ½å¤Ÿåœ¨ç¨‹åºä¸­ä½¿ç”¨ </span></span><br><span class="line">getShaderProgram()-&gt;link();</span><br><span class="line">CHECK_GL_ERROR_DEBUG();</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ›´æ–°2dxè‡ªå¸¦çš„å‡ ä¸ªuniform å€¼ï¼ˆä½¿ä¹‹ä¸shaderä¸­çš„å˜é‡å€¼åŒæ­¥ï¼‰</span></span><br><span class="line">getShaderProgram()-&gt;updateUniforms();</span><br><span class="line">CHECK_GL_ERROR_DEBUG();</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºåœ¨<code>CCShaderCache::loadDefaultShader</code>ä¸­çœ‹åˆ°è¿‡ä¸€æ ·çš„ä»£ç , å°±æ€€ç–‘æ˜¯å› ä¸º<strong>å¤šæ¬¡åˆå§‹åŒ–</strong>çš„åŸå› . ç»è¿‡æ’æŸ¥, å°†</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getShaderProgram()-&gt;link();</span><br></pre></td></tr></table></figure>
<p>è¿™è¡Œä»£ç æ³¨é‡Šæ‰ä¹‹åæˆåŠŸ! é™„å›¾:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23gw1enoa7sayraj20tu0lkjsq.jpg" alt=""></p>
<p>(EOF)</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æˆ‘èŠ±åœ¨äº’è”ç½‘æœåŠ¡ä¸Šçš„é’±]]></title>
      <url>http://blog.justbilt.com/2014/10/17/spend-money-on-network/</url>
      <content type="html"><![CDATA[<p>çé€›çš„æ—¶å€™çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« , <a href="http://www.vinkyq.com/posts/212217-a-programmer-a-year-how-much-money-spend-on-products-on-the-internet" target="_blank" rel="noopener">ä¸€ä¸ªç¨‹åºå‘˜ä¸€å¹´ä¼šåœ¨äº’è”ç½‘äº§å“ä¸ŠèŠ±å¤šå°‘é’±</a>, ä½œä¸ºç¦»äº’è”ç½‘æœ€è¿‘çš„ä¸€æ‰¹äºº, ä½œä¸ºä¸€ç¾¤æœ‰é’±åˆå·¨æŠ æ— æ¯”çš„äºº, æˆ‘ä»¬åˆ°åº•å›ä¸ºä»€ä¹ˆ(æœåŠ¡)ä»˜è´¹å‘¢?</p>
<a id="more"></a>
<p>è¿™é‡Œè¯´è¯´æˆ‘çš„æƒ…å†µ, æˆ‘æ˜¯ä¸€ä¸ªä¸ä¼šéšä¾¿ä¸ºæœåŠ¡èŠ±é’±çš„, æˆ‘çš„é›¶èŠ±é’±åŸºæœ¬å…¨éƒ¨èŠ±è´¹åœ¨äº†è´­ä¹°ç¡¬ä»¶å’Œå¤–è®¾ä¸Š, æ‰€ä»¥èƒ½è®©æˆ‘ä»˜è´¹çš„æœåŠ¡å·²ç»å¾ˆå‰å®³äº†!</p>
<h3 id="æ›²å¾„-ç¿»å¢™ä»£ç†"><a href="#æ›²å¾„-ç¿»å¢™ä»£ç†" class="headerlink" title="æ›²å¾„(ç¿»å¢™ä»£ç†)"></a>æ›²å¾„(ç¿»å¢™ä»£ç†)</h3><p>ç”¨å®˜ç½‘ä¸Šçš„ä¸€å¥è¯å°±æ˜¯:â€ç”Ÿå‘½çŸ­æš‚ï¼Œå³ä¹°å³ç”¨â€, è¿™æ˜¯æˆ‘ä¹°äº†æœ€ä¸åæ‚”çš„æœåŠ¡äº†, æœ€çœå¿ƒçš„ä»£ç†(æ²¡æœ‰ä¹‹ä¸€).</p>
<p>è´¹ç”¨: 130 å…ƒ/å­£ * 4 = 520</p>
<h3 id="ä¸‡ç½‘åŸŸåæœåŠ¡-åŸŸå"><a href="#ä¸‡ç½‘åŸŸåæœåŠ¡-åŸŸå" class="headerlink" title="ä¸‡ç½‘åŸŸåæœåŠ¡(åŸŸå)"></a>ä¸‡ç½‘åŸŸåæœåŠ¡(åŸŸå)</h3><p>æœ¬åšå®¢ (<a href="http://post.justbilt.com/" target="_blank" rel="noopener">http://post.justbilt.com/</a>) å’Œå¦å¤–ä¸€ä¸ªåŸŸåçš„è´¹ç”¨. æˆ‘çš„åšå®¢æ˜¯æ‰˜ç®¡åœ¨githubä¸Šçš„, æ‰€ä»¥æ²¡æœ‰èŠ±é’±.</p>
<p>è´¹ç”¨: 2ä¸ª * ä¸€å¹´ 55 å…ƒ = 110</p>
<h3 id="è¿…é›·ç™½é‡‘ä¼šå‘˜-ä¸‹è½½åŠ é€Ÿ"><a href="#è¿…é›·ç™½é‡‘ä¼šå‘˜-ä¸‹è½½åŠ é€Ÿ" class="headerlink" title="è¿…é›·ç™½é‡‘ä¼šå‘˜(ä¸‹è½½åŠ é€Ÿ)"></a>è¿…é›·ç™½é‡‘ä¼šå‘˜(ä¸‹è½½åŠ é€Ÿ)</h3><p>ä½œä¸ºä¸€ä¸ªç”µå½±çˆ±å¥½è€…(ä¸ä¸“æŒ‡å²›å›½), è¿…é›·ä¼šå‘˜æ€ä¹ˆèƒ½å°‘?</p>
<p>è´¹ç”¨: å¹´è´¹149å…ƒï¼ˆåŸä»·180ï¼‰</p>
<p>å…±è®¡: 520 + 110 + 149 = 779 RMB</p>
<h3 id="Feedly-Pro-RSS"><a href="#Feedly-Pro-RSS" class="headerlink" title="Feedly Pro (RSS)"></a>Feedly Pro (RSS)</h3><p>ä½œä¸ºä¸€ä¸ªé‡åº¦çš„rssæ‚£è€…, Feedlyæˆ‘ç°åœ¨å·²ç»ç¦»ä¸å¼€äº†, å°¤å…¶æ˜¯åœ¨è´­ä¹°äº†æ›²å¾„ä¹‹å. ç°åœ¨æ¥è¯´å…è´¹åŠŸèƒ½è¶³å¤Ÿä½¿ç”¨, è€ƒè™‘ä»˜è´¹.</p>
<p>è´¹ç”¨:  $45 yearly = 276</p>
<h3 id="æ–°æµªå¾®åšä¼šå‘˜-è£…B"><a href="#æ–°æµªå¾®åšä¼šå‘˜-è£…B" class="headerlink" title="æ–°æµªå¾®åšä¼šå‘˜ (è£…B)"></a>æ–°æµªå¾®åšä¼šå‘˜ (è£…B)</h3><p>è¿™ä¸ªå‡†å¤‡å¼ƒå‘äº†, æ„Ÿè§‰æ²¡æœ‰ä»€ä¹ˆå®é™…ä½œç”¨, è¿˜ä¸å¦‚ä¹°ä¸ªè¿…é›·ç»¿é’»æˆ–è€…ä¼˜é…·ä¼šå‘˜ä»€ä¹ˆçš„å‘¢!</p>
<p>è´¹ç”¨: 108 å…ƒ</p>
<p>è¿™äº›æœåŠ¡åŠ èµ·æ¥ä¸€å¹´ä¹Ÿå°±ä¸€åƒå¤šå—, å¹³å‡åˆ°æ¯ä¸€å¤©ä¹Ÿå°±å‡ å—é’±, ä¸å®ƒä»¬æ‰€å¸¦æ¥çš„ä»·å€¼æ¥è¯´, è¿˜æ˜¯ååˆ†åˆ’ç®—çš„!</p>
]]></content>
      
        
        <tags>
            
            <tag> ç”Ÿæ´» </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Quick-Cocos2d-x addToå¯¼è‡´tagæ— æ•ˆå‘]]></title>
      <url>http://blog.justbilt.com/2014/09/11/quickx-addto/</url>
      <content type="html"><![CDATA[<p>å‰å‡ å¤©é‡åˆ°äº†ä¸€ä¸ªååˆ†è¯¡å¼‚çš„bug,åˆ†äº«å‡ºæ¥å¤§å®¶çœ‹çœ‹,ä»£ç æ˜¯è¿™ä¸ªæ ·å­çš„:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> a = display.newNode()</span><br><span class="line"><span class="keyword">local</span> b = display.newNode()</span><br><span class="line">b:setTag(<span class="number">10</span>)</span><br><span class="line">b:addTo(a)</span><br><span class="line"><span class="built_in">print</span>(b:getTag())</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>è¿™ä¸ªç¨‹åºæ­£å¸¸çš„ç»“æœåº”è¯¥æ˜¯<code>10</code>,ä½†å®é™…å´æ˜¯<code>0</code>.è¿™ä¸ªé—®é¢˜ååˆ†è¯¡å¼‚,å¦‚æœæ˜¯<code>-1</code>çš„è¯è¿˜è¯´çš„è¿‡å»,ä½†<code>0</code>æ˜¯ä¸ªä»€ä¹ˆæƒ…å†µå˜›?</p>
<p>ä»”ç»†æƒ³æƒ³,å¤§å®¶åº”è¯¥å¾ˆå¿«èƒ½æŠŠå¼‚å¸¸çš„ä½ç½®å®šä½åˆ°<code>b:addTo(a)</code>è¿™è¡Œä¸­,è®©æˆ‘ä»¬çœ‹ä¸‹ä¸‹<code>addTo</code>å‡½æ•°çš„å®ç°:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CCNodeExtend:addTo</span><span class="params">(target, zorder, tag)</span></span></span><br><span class="line">    target:addChild(self, zorder <span class="keyword">or</span> <span class="number">0</span>, tag <span class="keyword">or</span> <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> self</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>ä¸éš¾çœ‹å‡º,å½“ä½ è°ƒç”¨addToå‡½æ•°ä¸ä¼ å…¥<code>zorder, tag</code>æ—¶ä¼šè‡ªåŠ¨å¸®ä½ è®¾ç½®ä¸º<code>0</code>!</p>
<p>çŸ¥é“äº†åŸå› ,è§£å†³èµ·æ¥ååˆ†å®¹æ˜“:</p>
<ol>
<li>ä½¿ç”¨<code>addChild</code>å‡½æ•°ä»£æ›¿<code>addTo</code></li>
<li>åœ¨<code>addTo</code>è°ƒç”¨æ—¶ä¼ å…¥<code>tag</code></li>
<li>åœ¨<code>addTo</code>è°ƒç”¨ä¹‹åè°ƒç”¨<code>setTag</code>å‡½æ•°</li>
</ol>
<p>æ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢? è¿™ä¸»è¦æ˜¯æµ‹è¯•ä»£ç æ¯”è¾ƒç®€å•çš„åŸå› ,æˆ‘å½“æ—¶çš„ setTag å’Œ addTo éƒ½æ²¡æœ‰åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œ!!!æ‰¾æ­»æˆ‘äº†!!</p>
<p>å¹³å¤ä¸‹å¿ƒæƒ…,æˆ‘ä»¬æ¥æƒ³æƒ³é€ æˆè¿™ä¸ªbugçš„åŸå› :</p>
<p>é¦–å…ˆ, <code>shortcodes</code>ç³»åˆ—çš„å‡½æ•°è®¾è®¡çš„åˆè¡·å¯èƒ½æ˜¯ä¸ºäº†è¿ç»­çš„è°ƒç”¨å‡½æ•°,ä¸å»ºè®®åˆ†å¼€å•ç‹¬ä½¿ç”¨! ä½†æ˜¯æˆ‘è§‰å¾—æœ€ä¸»è¦çš„åŸå› æ˜¯addToå‡½æ•°çš„å®ç°æ˜¯ä¸å¤Ÿå¥å£®çš„,å¦‚æœå‚è€ƒC++ addChildå‡½æ•°çš„è¯åº”è¯¥æ˜¯è¿™æ ·å­:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CCNodeExtend:addTo</span><span class="params">(target, zorder, tag)</span></span></span><br><span class="line">    target:addChild(self, zorder <span class="keyword">or</span> self:getZOrder(), tag <span class="keyword">or</span> self:getTag())</span><br><span class="line">    <span class="keyword">return</span> self</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Š</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[åœ¨macä¸Šæ­å»ºpythonç¯å¢ƒ]]></title>
      <url>http://blog.justbilt.com/2014/07/02/setup_python_on_mac/</url>
      <content type="html"><![CDATA[<p>è¿™ä¸¤å¤©é‡æ–°æäº†ä¸‹pythonçš„ç¯å¢ƒï¼Œå‘ç°å¥½å¤šåœ°æ–¹è¿˜æ˜¯å®¹æ˜“å¿˜è®°ï¼Œå› æ­¤æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼Œä»¥åæ–¹ä¾¿æŸ¥çœ‹ã€‚</p>
<a id="more"></a>
<h1 id="ä¸€-å®‰è£…python"><a href="#ä¸€-å®‰è£…python" class="headerlink" title="ä¸€. å®‰è£…python"></a>ä¸€. å®‰è£…python</h1><blockquote>
<p>å…¶å®macè‡ªå¸¦çš„pythonå®Œå…¨å¤Ÿç”¨, è¿™ä¸€æ­¥å¯ä»¥è·³è¿‡. â€“ by Bin</p>
</blockquote>
<p>macç³»ç»Ÿè‡ªå¸¦äº†ä¸€ä¸ªpythonçš„æ‰§è¡Œæ‰§è¡Œç¯å¢ƒï¼Œä½†ä¸ºäº†è·å–æœ€æ–°ç‰ˆçš„pythonï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°å®‰è£…pythonã€‚è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ¡ˆå®‰è£…ï¼š</p>
<p>1.homebrew</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install python</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ¡ˆæ¯”è¾ƒç®€å•,å¦‚æœå‡ºé”™çš„è¯å¯ä»¥ç»™å‰é¢åŠ <code>sudo</code>è¯•è¯•,è¿™ä¸ªå®‰è£…çš„pythonå¯èƒ½ä¸æ˜¯æœ€æ–°ç‰ˆ.</p>
<p>2.ä»å®˜ç½‘ä¸‹è½½å®‰è£…<br>å¤§å®¶å¯ä»¥ä»<a href="https://www.python.org/download" target="_blank" rel="noopener">https://www.python.org/download</a>ä¸‹è½½å®‰è£…æœ€æ–°ç‰ˆçš„python,å®‰è£…æ¯”è¾ƒæ— è„‘,ä¸€è·¯æŒ‰ä¸‹å»å°±OK,ç¼ºç‚¹æ˜¯ä»¥åå‡çº§,å¸è½½éƒ½å¾—è‡ªå·±ç»´æŠ¤.</p>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•å®‰è£…çš„pythonçš„ä½ç½®æ˜¯ä¸ä¸€æ ·çš„,å¤§å®¶å¯ä»¥ç”¨:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> python</span><br></pre></td></tr></table></figure>
<p>æ¥æŸ¥çœ‹å®‰è£…ä½ç½®.å®‰è£…å®Œæˆååœ¨ç»ˆç«¯ä¸­é”®å…¥<code>python</code>æ¥éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ.</p>
<h2 id="äºŒ-å®‰è£…pip"><a href="#äºŒ-å®‰è£…pip" class="headerlink" title="äºŒ. å®‰è£…pip"></a>äºŒ. å®‰è£…pip</h2><p>è¿™é‡Œå¥½å¤šæ–‡ç« ä¸­è¯´è¦å…ˆå®‰è£…<code>easy_install</code>, å…¶å®æ˜¯ä¸ç”¨çš„.</p>
<h2 id="1-æˆ‘ä»¬å…ˆè·å–pipå®‰è£…è„šæœ¬"><a href="#1-æˆ‘ä»¬å…ˆè·å–pipå®‰è£…è„šæœ¬" class="headerlink" title="1.æˆ‘ä»¬å…ˆè·å–pipå®‰è£…è„šæœ¬:"></a>1.æˆ‘ä»¬å…ˆè·å–pipå®‰è£…è„šæœ¬:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ²¡æœ‰å®‰è£…<code>wget</code>å¯ä»¥å»<a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="noopener">è¿™é‡Œ</a>å°†æ‰€æœ‰å†…å®¹å¤åˆ¶ä¸‹æ¥,æ–°å»º<code>get-pip.py</code>æ–‡ä»¶,å°†å†…å®¹æ‹·è¿›å»å°±OKäº†.</p>
<h2 id="2-å®‰è£…pip"><a href="#2-å®‰è£…pip" class="headerlink" title="2.å®‰è£…pip"></a>2.å®‰è£…pip</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo python get-pip.py</span><br></pre></td></tr></table></figure>
<p>ç”¨pythonæ‰§è¡Œåˆšæ‰è·å–çš„è„šæœ¬,è¿™é‡Œsudoå¯ä»¥é€‰æ‹©ä½¿ç”¨,è‹¥é‡åˆ°ç±»ä¼¼è¿™ä¸ªæŠ¥é”™åˆ™å¿…é¡»åŠ sudo:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Exception:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">OSError: [Errno 13] Permission denied: &apos;XXX/pip-0.7.2-py2.7.egg/EGG-INFO/dependency_links.txt&apos;</span><br><span class="line"></span><br><span class="line">Storing debug log for failure in /Users/bilt/.pip/pip.log</span><br></pre></td></tr></table></figure></p>
<p>å®‰è£…æˆåŠŸåå¯ä»¥åœ¨ç»ˆç«¯ä¸­é”®å…¥<code>pip</code>æ¥æ£€æµ‹,å¦‚æœä¸è¡Œé‡å¯ç»ˆç«¯åå°è¯•.</p>
<h2 id="3-ä¿®æ”¹pipæº"><a href="#3-ä¿®æ”¹pipæº" class="headerlink" title="3.ä¿®æ”¹pipæº"></a>3.ä¿®æ”¹pipæº</h2><p>åœ¨å¤©æœ,ç”±äºåŠŸå¤«ç½‘çš„åŸå› ,ä½¿ç”¨pipå®‰è£…ä¸€äº›æ¨¡å—ä¼šç‰¹åˆ«æ…¢ç”šè‡³æ— æ³•ä¸‹è½½,å› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹pipçš„æºåˆ°å›½å†…çš„ä¸€äº›é•œåƒåœ°å€,ç‰¹åˆ«æ„Ÿè°¢å›½å†…æ— ç§å¥‰çŒ®çš„ç»„ç»‡~</p>
<p>é¦–å…ˆè¿›å…¥HOMEè·¯å¾„:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>.pip</code>ç›®å½•:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir .pip</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>pip.conf</code>æ–‡ä»¶:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch pip.conf</span><br></pre></td></tr></table></figure></p>
<p>å¤§å®¶å¯ä»¥ç”¨è‡ªå·±å–œæ¬¢çš„ç¼–è¾‘å™¨æ‰“å¼€<code>pip.conf</code>æ–‡ä»¶,æˆ‘ç°åœ¨ä½¿ç”¨çš„æ—¶v2exçš„æº,æ‰€ä»¥æ·»åŠ :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url = http://pypi.v2ex.com/simple</span><br></pre></td></tr></table></figure></p>
<p>å¤§å®¶å¯ä»¥æŠŠ<code>index-url</code>çš„å€¼è®¾ç½®ä¸ºè‡ªå·±å®é™…æºçš„åœ°å€.</p>
<p>è‡³æ­¤pipæºä¿®æ”¹æˆåŠŸ,ä»¥åä½¿ç”¨pipå®‰è£…æ¨¡å—æ—¶éƒ½ä¼šä»è¿™ä¸ªæºå»ä¸‹è½½å®‰è£…,å¤§å®¶å¯ä»¥è‡ªè¡Œæµ‹è¯•ä¸€ä¸‹.</p>
<h1 id="ä¸‰-å…¶ä»–æ¨¡å—å®‰è£…"><a href="#ä¸‰-å…¶ä»–æ¨¡å—å®‰è£…" class="headerlink" title="ä¸‰. å…¶ä»–æ¨¡å—å®‰è£…"></a>ä¸‰. å…¶ä»–æ¨¡å—å®‰è£…</h1><h2 id="1-Pillow-PIL"><a href="#1-Pillow-PIL" class="headerlink" title="1.Pillow/PIL"></a>1.Pillow/PIL</h2><p>æƒ³ç”¨pythonå¤„ç†å›¾ç‰‡,è‡ªç„¶å°‘ä¸äº†<code>PIL</code>è¿™ä¸ªæ¨¡å—, ç”±äºPILé•¿æœŸæ²¡æœ‰æ›´æ–°äº†, æ‰€ä»¥æœ‰äº†<code>Pillow</code>è¿™ä¸ªæ¨¡å—, ä¾èµ–äºPIL, æ–°ç‰ˆçš„<code>pip</code>å®‰è£…åä¼šè‡ªå¸¦Pillow, ä½†æ˜¯å¥½åƒæ²¡æœ‰zlibæ¨¡å—, æ‰€ä»¥ä¼šæŠ¥é”™:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">File &quot;/Library/Python/2.7/site-packages/PIL/Image.py&quot;, line 1105, in paste</span><br><span class="line">    im.load()</span><br><span class="line"></span><br><span class="line">  File &quot;/Library/Python/2.7/site-packages/PIL/ImageFile.py&quot;, line 190, in load</span><br><span class="line"></span><br><span class="line">    d = Image._getdecoder(self.mode, d, a, self.decoderconfig)</span><br><span class="line"></span><br><span class="line">  File &quot;/Library/Python/2.7/site-packages/PIL/Image.py&quot;, line 389, in _getdecoder</span><br><span class="line"></span><br><span class="line">    raise IOError(&quot;decoder %s not available&quot; % decoder_name)</span><br><span class="line"></span><br><span class="line">IOError: decoder zip not available</span><br></pre></td></tr></table></figure>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é‡æ–°å®‰è£…:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install -U Pillow</span><br></pre></td></tr></table></figure></p>
<p>(å®Œ)</p>
]]></content>
      
        
        <tags>
            
            <tag> python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[åœ¨Playerä¸­ä¿å­˜CCRenderTextureåˆ°æ–‡ä»¶]]></title>
      <url>http://blog.justbilt.com/2014/06/10/rtt_savetofile_in_player/</url>
      <content type="html"><![CDATA[<p>åœ¨ player ä¸­è°ƒç”¨ CCRenderTexture çš„ saveToFile å‡½æ•°ä¼šå¯¼è‡´playerå´©æºƒ,crash log å¦‚ä¸‹:</p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23gw1eh9yz0coh4j20rs0m8n4d.jpg" alt=""></p>
<a id="more"></a>
<p>ä»æ—¥å¿—ä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°è¿™å¥è¯:</p>
<blockquote>
<p>Assertion failed: (false), function saveToFile, file /Users/bilt/Documents/quick-cocos2d-x/lib/cocos2d-x/cocos2dx/platform/mac/CCImage.mm, line 921.</p>
</blockquote>
<p>è¯´çš„å¾ˆæ¸…æ¥š,CCImage.mm çš„ 921 è¡Œè§¦å‘äº†æ–­è¨€å¤±è´¥,å—¯,ä¸€å®šæ˜¯æˆ‘çš„ç”¨æ³•ä¸å¤ªå¯¹.</p>
<p>æˆ‘ä»¬æ‰“å¼€CCImage.mmçœ‹åˆ°ä¸‹é¢è¿™æ®µä»£ç :</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> CCImage::saveToFile(<span class="keyword">const</span> <span class="keyword">char</span> *pszFilePath, <span class="keyword">bool</span> bIsToRGB)</span><br><span class="line">&#123;</span><br><span class="line">	assert(<span class="literal">false</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å–‚,ä¸å¸¦è¿™æ ·å­çš„,åˆ†æ˜æ˜¯æ²¡æœ‰å®ç°å˜›.</p>
<p>å¥½å§,æˆ‘ä»¬è¯•ç€æŠŠ<code>ios/CCImage.mm</code>ä¸­çš„å®ç°æ¬è¿‡æ¥è¯•è¯•,è¿™é‡Œæˆ‘å°±ä¸è´´å¤§æ®µçš„ä»£ç äº†,æ‹·è¿‡æ¥ç¼–è¯‘æ—¶ä¼šå‡ºé”™(é¢„æ–™ä¹‹ä¸­),æˆ‘OCå­¦çš„ä¸å¥½å¤§å®¶ä¸è¦è§æ€ª,é”™è¯¯å¦‚ä¸‹:</p>
<figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CGImageRef</span> iref                    = <span class="type">CGImageCreate</span>(m_nWidth, m_nHeight,</span><br><span class="line">                                                    bitsPerComponent, bitsPerPixel, bytesPerRow,</span><br><span class="line">                                                    colorSpaceRef, bitmapInfo, provider,</span><br><span class="line">                                                    <span class="type">NULL</span>, <span class="keyword">false</span>,</span><br><span class="line">                                                    kCGRenderingIntentDefault);</span><br><span class="line"></span><br><span class="line"><span class="type">UIImage</span>* image                    = [[<span class="type">UIImage</span> alloc] initWithCGImage:iref];</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé€šè¿‡<code>CGImageRef</code> åˆ›å»ºä¸€ä¸ª <code>UIImage</code>, ä½†æ˜¯ Mac os ä¸Šæ˜¯æ²¡æœ‰ <code>UIImage</code> çš„,é¦–å…ˆæƒ³åˆ°çš„æ˜¯å¯ä»¥å¯»æ‰¾ä¸€ä¸ªæ¥å£æ›¿æ¢æ‰å®ƒ,çŸ­æš‚Googleåæ”¾å¼ƒ.</p>
<p>åæ¥æƒ³ç€èƒ½å¦ç›´æ¥å°†<code>CGImageRef</code>ä¿å­˜ä¸ºæ–‡ä»¶,è¿˜çœŸè®©æˆ‘æ‰¾åˆ°äº†,è§<code>stackoverflow</code>çš„è¿™ä¸ª(<a href="http://stackoverflow.com/questions/1320988/saving-cgimageref-to-a-png-file" target="_blank" rel="noopener">æˆ³æˆ‘</a>)é—®é¢˜:<br><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">void <span class="type">CGImageWriteToFile</span>(<span class="type">CGImageRef</span> image, <span class="type">NSString</span> *path) &#123;</span><br><span class="line">    <span class="type">CFURLRef</span> url = (<span class="type">CFURLRef</span>)[<span class="type">NSURL</span> fileURLWithPath:path];</span><br><span class="line">    <span class="type">CGImageDestinationRef</span> destination = <span class="type">CGImageDestinationCreateWithURL</span>(url, kUTTypePNG, <span class="number">1</span>, <span class="type">NULL</span>);</span><br><span class="line">    <span class="type">CGImageDestinationAddImage</span>(destination, image, <span class="keyword">nil</span>);</span><br><span class="line"></span><br><span class="line">    if (!<span class="type">CGImageDestinationFinalize</span>(destination)) &#123;</span><br><span class="line">        <span class="type">NSLog</span>(@<span class="comment">"Failed to write image to %@"</span>, path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">CFRelease</span>(destination);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¤§å®¶å¯ä»¥çœ‹åˆ°å…³é”®çš„å‡½æ•°æ˜¯<code>CGImageDestinationCreateWithURL</code> ,å¤§æ¦‚æŸ¥äº†ä¸€ä¸‹è¿™ä¸ªå‡½æ•°æ”¯æŒçš„æ ¼å¼è¿˜çœŸä¸å°‘,å¦‚ä¸‹:</p>
<figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeImage                                __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeJPEG                                 __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeJPEG2000                             __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeTIFF                                 __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypePICT                                 __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeGIF                                  __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypePNG                                  __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeQuickTimeImage                       __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeAppleICNS                            __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeBMP                                  __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br><span class="line">extern const <span class="type">CFStringRef</span> kUTTypeICO                                  __OSX_AVAILABLE_STARTING(__MAC_10_4,__IPHONE_3_0);</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸‹å¯çˆ½äº†,ä¿å­˜<code>png</code>å’Œ<code>jpg</code>éƒ½å¯ä»¥,æˆ‘å¯¹è¿™ä¸ªå‡½æ•°è¿›è¡Œäº†å¾®å°çš„æ”¹é€ ,å°†<code>kUTTypePNG</code>ä½œä¸ºå‚æ•°ä¼ å…¥,ä¸€ç•ªä¿®æ”¹ä¹‹å<code>saveToFile</code>å‡½æ•°çš„å…³é”®ä»£ç å˜æˆäº†è¿™ä¸ªæ ·å­:<br><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CGDataProviderRef</span> provider        = <span class="type">CGDataProviderCreateWithData</span>(<span class="type">NULL</span>, pixels, myDataLength, <span class="type">NULL</span>);</span><br><span class="line"><span class="type">CGColorSpaceRef</span> colorSpaceRef    = <span class="type">CGColorSpaceCreateDeviceRGB</span>();</span><br><span class="line"><span class="type">CGImageRef</span> iref                    = <span class="type">CGImageCreate</span>(m_nWidth, m_nHeight,</span><br><span class="line">                                                    bitsPerComponent, bitsPerPixel, bytesPerRow,</span><br><span class="line">                                                    colorSpaceRef, bitmapInfo, provider,</span><br><span class="line">                                                    <span class="type">NULL</span>, <span class="keyword">false</span>,</span><br><span class="line">                                                    kCGRenderingIntentDefault);</span><br><span class="line">if (saveToPNG)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">CGImageWriteToFile</span>(iref,[<span class="type">NSString</span> stringWithUTF8String:pszFilePath], kUTTypePNG);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">CGImageWriteToFile</span>(iref,[<span class="type">NSString</span> stringWithUTF8String:pszFilePath], kUTTypeJPEG);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>é‡æ–°ç¼–è¯‘è¿è¡Œplayer,è¿è¡Œ<code>samples/cocos2dx_luatest</code>,æ‰¾åˆ°<code>RenderTextureTest</code> ç‚¹å‡» <code>SaveImage</code> ,è¿™ä¸‹ä¸ä¼šå´©æºƒäº†,åœ¨ä¾‹é¢˜çš„æ ¹ç›®å½•å¯ä»¥æ‰¾åˆ°ä¿å­˜çš„å›¾ç‰‡.</p>
<blockquote>
<p>è¿™ä¸ªæ›´æ”¹å·²ç»æäº¤prå¹¶ä¸”å·²ç»mergeåˆ°äº†developåˆ†æ”¯,è¯¦æƒ…å¯ä»¥æˆ³<a href="https://github.com/chukong/quick-cocos2d-x/pull/370/files" target="_blank" rel="noopener">è¿™é‡Œ</a>.</p>
</blockquote>
<p>è¿™é‡Œè¯´ä¸‹æˆ‘çš„æ„Ÿæ‚Ÿ:</p>
<ol>
<li><p>Quick-Cocos2d-x çš„ player çœŸçš„æ˜¯ä¸ªç‰¹åˆ«æ£’çš„ä¸œè¥¿,è¿™é‡Œä¸å¾—ä¸ä½©æœ@å»–å¤§ ,ç»å¯¹æ˜¯æé«˜æ•ˆç‡çš„åˆ©å™¨, ä½†æ˜¯æˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°playerçš„ä¸€äº›è¡Œä¸ºå’ŒçœŸæœºä¸å¤ªä¸€æ ·, è¿™æ—¶ä¸èƒ½æ”¾å¼ƒplayer, playerçš„æœ¬è´¨å°±æ˜¯cocos2d-xçš„Macç‰ˆ, æ ¹æ®è¿™ä¸ªå»æ‰¾å¯»è§£å†³æ–¹æ¡ˆä¼šéå¸¸çš„æ–¹ä¾¿.</p>
</li>
<li><p>è¿™ä¸ªé—®é¢˜æ˜¯å‘ç”Ÿåœ¨quick 2.2.2 ä¸­çš„, å› ä¸ºquickçš„æœ€æ–°ç‰ˆæ˜¯2.2.3, æ‰€ä»¥æˆ‘ä¼šå…ˆå»é‚£é‡Œæ‰¾çœ‹æœ‰æ²¡æœ‰è§£å†³è¿™ä¸ªé—®é¢˜, å‘ç°æ²¡æœ‰, ç„¶åæˆ‘ä¼šå»cocos2d-x çš„2.2.3æ‰¾è§£å†³æ–¹æ¡ˆ,å› ä¸ºæœ¬æ˜¯ä¸€å®¶ä¸œè¥¿, å‘ç°è¿˜æ˜¯æ²¡æœ‰æ²¡æœ‰, æ¥ä¸‹æ¥æˆ‘å‘ç°cocos2d-x 3.x ç‰ˆæœ¬è§£å†³äº†è¿™ä¸ªé—®é¢˜, 3.xå®Œå…¨ç”¨C++ å®ç°äº†ä¿å­˜png,jpgçš„åŠŸèƒ½, åœ¨å„ä¸ªå¹³å°éƒ½ç®¡ç”¨, è¿™ä¸ªéå¸¸èµ, ä½†æ˜¯è¿ç§»è¿‡æ¥æˆæœ¬å¤ªé«˜, ä¼šæœ‰ä¸€å †ä¾èµ–æ”¹å˜çš„åœ°æ–¹, æ‰€ä»¥ä¸åˆ°è¿«ä¸å¾—å·²æ˜¯ä¸ä¼šè‡ªå·±å®ç°çš„.</p>
</li>
<li><p>è¿™ä¸ªé—®é¢˜å¥½åƒé‡åˆ°çš„äººç‰¹åˆ«å°‘,å”¯ä¸€åœ¨å®˜ç½‘æœ‰ä¸€ä¸ªäººæé—®(çœ‹<a href="http://discuss.cocos2d-x.org/t/screenshot-on-mac/8211" target="_blank" rel="noopener">è¿™é‡Œ</a>),ä½†æ˜¯æ²¡æœ‰å›ç­”,çœ‹ç‰ˆæœ¬æ˜¯2.1.4,è¿™åº”è¯¥ç®—æ˜¯å†å²é—ç•™é—®é¢˜äº†.</p>
</li>
</ol>
<p>(å…¨æ–‡å®Œ)</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
            <tag> CCRenderTexture </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ç›˜ç‚¹ Quick-cocos2d-x Player ç²—çº¿çš„é—®é¢˜]]></title>
      <url>http://blog.justbilt.com/2014/05/17/some_problem_of_player/</url>
      <content type="html"><![CDATA[<h2 id="ä¸€-Macç‰ˆæ—¥å¿—æ˜¾ç¤ºä¸å®Œæ•´"><a href="#ä¸€-Macç‰ˆæ—¥å¿—æ˜¾ç¤ºä¸å®Œæ•´" class="headerlink" title="ä¸€. Macç‰ˆæ—¥å¿—æ˜¾ç¤ºä¸å®Œæ•´"></a>ä¸€. Macç‰ˆæ—¥å¿—æ˜¾ç¤ºä¸å®Œæ•´</h2><p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰é‡åˆ°è¿™æ ·çš„é—®é¢˜,åœ¨è¾“å‡ºå¤§é‡logçš„æ—¶å€™,Playerçš„æ—¥å¿—çª—å£æœ‰æ—¶ä¼šåªè¾“å‡ºä¸€éƒ¨åˆ†å†…å®¹,åé¢è¡¥ä¸Š<code>...</code>, è€Œä¸”ä¹‹åçš„logå°±å†ä¹Ÿæ— æ³•è¾“å‡ºäº†, å¯¹åé¢çš„è°ƒè¯•é€ æˆå¾ˆå¤§çš„ä¸ä¾¿.</p>
<a id="more"></a>
<p>æ‰“å¼€Playerçš„å·¥ç¨‹,æœç´¢<code>...</code>,å¯ä»¥å®šä½åˆ° <code>ConsoleWindowController.m</code> çš„ trace å‡½æ•°,è®©æˆ‘ä»¬çœ‹ä¸‹è¿™ä¸ªä»£ç ç‰‡æ®µ:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (traceCount &gt;= SKIP_LINES_COUNT &amp;&amp; [msg length] &gt; MAX_LINE_LEN)</span><br><span class="line">&#123;</span><br><span class="line">    msg = [NSString stringWithFormat:@<span class="string">"%@ ..."</span>, [msg substringToIndex:MAX_LINE_LEN - <span class="number">4</span>]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">traceCount++;</span><br></pre></td></tr></table></figure>
<p>å¤§å®¶æŠŠè¿™å‡ è¡Œæ³¨é‡Šæ‰é‡æ–°ç¼–è¯‘è¿è¡Œå³å¯è§£å†³è¿™ä¸ªé—®é¢˜.</p>
<h2 id="äºŒ-Macç‰ˆ-CCClippingNode-æ— æ•ˆ"><a href="#äºŒ-Macç‰ˆ-CCClippingNode-æ— æ•ˆ" class="headerlink" title="äºŒ. Macç‰ˆ CCClippingNode æ— æ•ˆ"></a>äºŒ. Macç‰ˆ CCClippingNode æ— æ•ˆ</h2><p>åˆåˆ°äº†åšæ–°æ‰‹å¼•å¯¼çš„æ—¶å€™äº†,ä¹‹å‰å‘è¿‡ä¸¤ç¯‡å…³äºæ–°æ‰‹å¼•å¯¼çš„æ–‡ç« :</p>
<p><a href="http://post.justbilt.com/2013/07/12/cocos2d-x-%E6%B8%B8%E6%88%8F%E5%AE%9E%E6%88%98%E7%BB%8F%E9%AA%8C%E4%BA%8C-%E6%96%B0%E6%89%8B%E5%BC%95%E5%AF%BC%E4%B8%8A/" target="_blank" rel="noopener">cocos2d-x-æ¸¸æˆå®æˆ˜ç»éªŒä¸‰-å¤šåˆ†è¾¨ç‡çš„è‡ªé€‚åº”(ä¸Š)</a><br><a href="http://post.justbilt.com/2013/08/02/cocos2d-x-%E6%B8%B8%E6%88%8F%E5%AE%9E%E6%88%98%E7%BB%8F%E9%AA%8C%E4%B8%89-%E5%A4%9A%E5%88%86%E8%BE%A8%E7%8E%87%E7%9A%84%E8%87%AA%E9%80%82%E5%BA%94%E4%B8%8B/" target="_blank" rel="noopener">cocos2d-x-æ¸¸æˆå®æˆ˜ç»éªŒä¸‰-å¤šåˆ†è¾¨ç‡çš„è‡ªé€‚åº”(ä¸‹)</a></p>
<p>çœ‹è¿‡çš„æœ‹å‹åº”è¯¥çŸ¥é“,æƒ³å®ç°å±å¹•ä¸­æŸä¸€éƒ¨åˆ†é«˜äº®éœ€è¦ç”¨åˆ°CCClipingNde, è¿™æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ç±».è¿™è®¾ç½®stencilä¹‹åä¼šæŠ ç©ºstencilçš„å†…å®¹</p>
<p>ä½†æ˜¯å½“æˆ‘åœ¨<strong>quick-cococs2d-x</strong>ä¸­ç”¨playerä¸­è¿è¡Œ<strong>CCClipingNde</strong>æ—¶,å´å‘ç°æ²¡æœ‰ä»»ä½•çš„å˜åŒ–.</p>
<p>ç½‘ä¸Šæœç´¢ <code>CCClippingNodeæ— æ•ˆ</code> ä¼šæ‰¾åˆ°å‡ ç¯‡æ–‡ç« ,éƒ½ä¸€ç›´çš„æŒ‡å‘OpenGLåˆå§‹åŒ–çš„åœ°æ–¹:</p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23jw1egh5qaaxw7j20i70gngnc.jpg" alt=""></p>
<p>è¯•ç€ç”¨xocdeå¯åŠ¨é¡¹ç›®å·¥ç¨‹,æ„å¤–çš„å‘ç°<strong>CCClipingNde</strong>åœ¨iosçš„æ¨¡æ‹Ÿå™¨æ˜¯å¥½ä½¿çš„,è¿™æ ·çœ‹æ¥é—®é¢˜æ˜¯å‡ºåœ¨äº†Playerçš„èº«ä¸Š,æ‰“å¼€quickçš„playerå·¥ç¨‹,ä¸éš¾å‘ç°playerå®è´¨ä¸Šå°±æ˜¯åœ¨cocos2d-xçš„Macç‰ˆçš„åŸºç¡€ä¸Šåšæˆçš„,è¿™æ ·çš„è¯é€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› ä¸å¤–ä¹æœ‰ä¸¤ä¸ª:</p>
<ol>
<li>cocos2d-x çš„Macä¸æ”¯æŒ CCClipingNde </li>
<li>quick-cocos2d-x çš„Playe çš„openGLåˆå§‹åŒ–æœ‰é—®é¢˜</li>
</ol>
<p>è¿è¡Œå®˜æ–¹2.2.1ç‰ˆcocos2d-xçš„macé¡¹ç›®,å‘ç°CCClippingNodeæ˜¯æ²¡æœ‰é—®é¢˜çš„,æ­£å¸¸è¿è¡Œ.</p>
<p>åœ¨å¯¹æ¯”ä¸¤ä¸ªé¡¹ç›®çš„AppController.mmå‘ç°äº†ä¸ä¸€è‡´çš„åœ°æ–¹:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// player</span></span><br><span class="line">glView = [[EAGLView alloc] initWithFrame:rect];</span><br><span class="line"></span><br><span class="line"><span class="comment">//coco2d-x for mac</span></span><br><span class="line">NSOpenGLPixelFormatAttribute attributes[] = &#123;</span><br><span class="line">	NSOpenGLPFADoubleBuffer,</span><br><span class="line">	NSOpenGLPFADepthSize, <span class="number">24</span>,</span><br><span class="line">	NSOpenGLPFAStencilSize, <span class="number">8</span>,</span><br><span class="line">	<span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line">NSOpenGLPixelFormat *pixelFormat = [[[NSOpenGLPixelFormat alloc] initWithAttributes:attributes] autorelease];</span><br><span class="line">glView = [[EAGLView alloc] initWithFrame:rect pixelFormat:pixelFormat];</span><br></pre></td></tr></table></figure>
<p>ç”¨å®˜æ–¹çš„å®ç°æ›¿æ¢Playerçš„å®ç°,ç¼–è¯‘è¿è¡Œ,ä¸€åˆ‡æ­£å¸¸,ä¸‹é¢ä¸Šå¼ å›¾!</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23jw1egh68oa3ahj206q08iaa6.jpg" alt=""></p>
<h2 id="æœªå®Œ"><a href="#æœªå®Œ" class="headerlink" title="æœªå®Œ"></a>æœªå®Œ</h2><p>æš‚æ—¶åªé‡åˆ°äº†è¿™ä¸¤ä¸ªé—®é¢˜,éƒ½æ¯”è¾ƒå®¹æ˜“è§£å†³,ä»¥åé‡åˆ°é—®é¢˜è¿˜ä¼šåœ¨è¿™é‡Œè¡¥å……!</p>
]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æˆ‘çš„2013]]></title>
      <url>http://blog.justbilt.com/2014/05/01/my-2013/</url>
      <content type="html"><![CDATA[<p>æ˜¯çš„,ä½ æ²¡æœ‰çœ‹é”™,ä»Šå¤©æ˜¯2014å¹´5æœˆ1æ—¥,æˆ‘å´åœ¨å†™2013çš„æ€»ç»“,è¿™ç¯‡æ–‡ç« æ— è®ºæ€ä¹ˆè®²éƒ½æ˜¯æœ‰äº›å§—å§—æ¥è¿Ÿçš„.å…¶å®æ—©åœ¨2æœˆä»½å°±æƒ³å†™äº†,åªæ˜¯ä¸€ç›´è‹¦äºæ²¡æœ‰æ—¶é—´,ç°åœ¨å´æ˜¯æœ‰äº†~</p>
<a id="more"></a>
<h2 id="å·¥ä½œ"><a href="#å·¥ä½œ" class="headerlink" title="å·¥ä½œ"></a>å·¥ä½œ</h2><h3 id="A"><a href="#A" class="headerlink" title="A"></a>A</h3><p>2013å¹´5æœˆ,æˆ‘ç¦»å¼€äº†å‘†äº†å¿«ä¸¤å¹´(2011.9~2013.5)çš„å…¬å¸A,Aæ˜¯æˆ‘çš„ç¬¬ä¸€å®¶å…¬å¸,æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒå¤§çš„å…¬å¸,å¯¹Aæˆ‘æœ‰ç€å¾ˆæ·±çš„æ„Ÿæƒ…,åœ¨è¿™é‡Œæˆ‘ä»ä¸€ä¸ªåˆšå­¦ä¼šå†™ä»£ç çš„æ–°æ‰‹æ…¢æ…¢çš„æˆé•¿äº†èµ·æ¥,æœ‰å‡ ä¸ªç‰¹åˆ«å¥½çš„æœ‹å‹.</p>
<p>è‡³äºç¦»å¼€Açš„åŸå› ,åœ¨ä¸€ä¸ªåœ°æ–¹å‘†ä¹…äº†å°±ä¼šæƒ³ç€å‡ºå»èµ°èµ°,è™½ç„¶å¤–é¢ä¸ä¸€å®šå¥½.</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23tw1efylp6ug4zj20ds0alq4c.jpg" alt=""></p>
<p>ä¸Šä¸€å¼ ç…§ç‰‡,å·¦ä¸€æ˜¯æˆ‘,ä¾æ¬¡æ˜¯å®ppt,è¶…ppt,è¿˜æœ‰ç…§ç›¸çš„è²ppt,æ‰¾åˆ°ä¸€ä¸ªä¸€èµ·2çš„æœ‹å‹å·²éæ˜“äº‹,æˆ‘æ‰¾åˆ°äº†ä¸€ç¾¤.</p>
<p>æŠ€æœ¯ä¸Šå‘¢å·©å›ºäº†å­¦æ ¡é‡Œå­¦çš„c++,è·Ÿç€è€å¤§å­¦ä¹ äº†ä¸€äº›æ¶æ„æ–¹é¢çš„ä¸œè¥¿,åšäº†ä¸€ä¸ªå¤šäººè”ç½‘çš„å¦å…‹æ¸¸æˆ,é¡ºå¸¦å­¦ä¹ äº†MFC,åšäº†ä¸ªåœ°å›¾ç¼–è¾‘å™¨.ç„¶åè·Ÿæœ‹å‹å­¦ä¼šäº†cocos2d-x,ä¸€èµ·åšäº†ä¸€ä¸¤ä¸ªæ¸¸æˆ.</p>
<h3 id="B"><a href="#B" class="headerlink" title="B"></a>B</h3><p>ä¸‹é¢æˆ‘åˆ°äº†å…¬å¸B,Bæ˜¯ä¸€ä¸ªå°å…¬å¸,ä¹‹å‰ä¸»è¦åšç¾æœ¯/åŠ¨ç”»å¤–åŒ…,ä¸€å…±ä¸åˆ°10ä¸ªäºº,ç¨‹åºå‘¢åªæœ‰æˆ‘ä¸€ä¸ªäºº,å“ˆå“ˆ,è¿™ç®€ç›´æ˜¯è™å…¥ç¾Šç¾¤å•Š,åœ¨è¿™é‡Œæˆ‘è·å¾—äº†æå¤§çš„è‡ªç”±å’Œæå¤§çš„æƒåˆ©,ç¨‹åºä¸Šçš„ä»€ä¹ˆä¸œè¥¿èƒ½åšä¸å¦éƒ½æ˜¯æˆ‘ä¸€å¥è¯,æˆ‘å¾ˆäº«å—è¿™ç§æ„Ÿè§‰~</p>
<p>åœ¨B,å…¬å¸æ°›å›´æå¥½,æˆ‘çœŸçš„æ„Ÿè§‰æ˜¯ä¸ºè‡ªå·±åšæ¸¸æˆ,ä¸ºäº†ä¸€ä¸ªåŠŸèƒ½ç»å¸¸å¤§å®¶åŠ ç­è‡³æ·±å¤œ,å¤§å®¶ä¸ºäº†ä¸€ä¸ªç³»ç»Ÿä¼šåµå¾—é¢çº¢è€³èµ¤,ç„¶åä¸‹æ¥¼åƒé¥­~</p>
<p>å¦ä¸€é¢,Bçš„ç¼ºç‚¹,å†³ç­–å¤±è¯¯,æ²¡æœ‰è¿è¥~ è¿™ç›´æ¥å¯¼è‡´çš„åæœå°±æ˜¯äº§å“å‡ºæ¥äº†ä¸Šä¸å»,åœ¨Bæˆ‘ä»¬ä¸åˆ°3ä¸ªæœˆå°±åšäº†ä¸€ä¸ªç±»ä¼¼&lt;ä¿å«èåœ&gt;çš„æ¸¸æˆ,ä½†æ˜¯åœ¨å‘äº†ç§»åŠ¨åŸºåœ°åå°±æ²¦å…¥ä¸€ä¸ªæ— çº¿ä¿®æ”¹,æ— é™å¢åˆ åŠŸèƒ½,æ— é™ç«‹é¡¹çš„å¾ªç¯ä¸­~</p>
<p>åœ¨Bçš„åé¢å‡ ä¸ªæœˆæ˜¯ååˆ†è½»æ¾çš„,å¤§å®¶çœ‹åˆ°çš„<a href="blog.justbilt.com">blog.justbilt.com</a>çš„å¤§éƒ¨åˆ†æ–‡ç« éƒ½æ˜¯åœ¨è¿™ç«¯æ—¶é—´å†™çš„,åœ¨Bçš„è¿™æ®µæ—¶é—´ä¸­,æˆ‘å¯¹2dxæœ‰äº†æ›´åŠ æ·±å…¥çš„äº†è§£,ä¸€äº›ä¹‹å‰æ²¡æœ‰å…³æ³¨çš„é—®é¢˜ä¹Ÿæœ‰äº†ç ”ç©¶~å†™åšå®¢çœŸçš„æ˜¯ä¸€ä»¶æå¥½çš„äº‹æƒ…,é€šè¿‡åšå®¢è®¤è¯†äº†å¥½å¤šæœ‹å‹.</p>
<p>ç§ç§åŸå› ,å†³å®šåœ¨2013å¹´å…ƒæ—¦ç¦»å¼€B,æœ‰æƒ³å­¦ä¹ æ›´é«˜æŠ€æœ¯çš„åŸå› ,ä¹Ÿæœ‰å¿ƒå‡‰äº†çš„åŸå› ~</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23tw1efyn0q9u0nj20dq06qmxy.jpg" alt=""></p>
<p>å¦‚æœè¯´æœ‰ä¸€å¼ å›¾èƒ½ä»£è¡¨æˆ‘åœ¨Bçš„è¿™æ®µç»å†çš„è¯,é‚£ä¹ˆå°±æ˜¯è¿™å¼ äº†,æ„Ÿè°¢ä½ ä»¬ä¼´æˆ‘èµ°è¿‡è¿™äº›å¤©~</p>
<p>æŠ€æœ¯ä¸Šå‘¢2dxè¿ç”¨æ›´åŠ ç†Ÿç»ƒ,å…¨é¢,å…¨å¹³å°æ‰“åŒ…,jni,iosæ··ç¼–,ioså‘å¸ƒ,å¤šåˆ†è¾¨ç‡é€‚åº”~å·¥å…·åˆ¶ä½œä¸Šæˆ‘æ”¾å¼ƒäº†MFC,å­¦ä¹ äº†ä¸‹C#,ç”¨C#åšä¸€äº›å°å·¥å…·æ¯”MFCæ–¹ä¾¿å¥½å¤š,å†åæ¥å‘ç°ç”¨Pythonå†™å°å·¥å…·æ›´Easy,å°±è‡ªå­¦äº†Python,ç°åœ¨å·²ç»èƒ½ç”¨æ¥å†™å°å·¥å…·äº†.åšå®¢å‘¢æ”¾å¼ƒäº†wordpress,æŠ•å¥”äº†hexo,é¡¹ç›®ç®¡ç†æ”¹ç”¨äº†git.</p>
<h2 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h2><p>æœ‰äººè¯´,ç”Ÿæ´»å°±åƒä¸€æ¯ç™½å¼€æ°´,å¹³å¹³æ·¡æ·¡æœ€å¥½,æˆ‘è§‰å¾—ä¹Ÿæ˜¯.</p>
<p>2013å¹´æœ€é‡è¦çš„äº‹æƒ…å°±æ˜¯æˆ‘<code>è®¢å©šå•¦</code>,å’Œæˆ‘ç›¸å¤„äº†ä¸¤å¹´çš„å¥³å‹æˆ‘ä»¬çš„å…³ç³»ç»ˆäºåˆè¿›äº†ä¸€æ­¥,å¥³å‹çš„æ€§æ ¼å’Œæˆ‘ååˆ†äº’è¡¥,ååˆ†æ‡‚äº‹,æˆ‘ä»¬ä¸€å®šä¼šå¹¸ç¦çš„~</p>
<p>å…¶æ¬¡å°±æ˜¯äº†è§£å¹¶é‡è§†äº†pm2.5,äºæ˜¯åœ¨ä¸‹åŠå¹´åœæ­¢äº†æ¯å‘¨çš„ç¯®çƒæ´»åŠ¨,ä¹°äº†3Mçš„å£ç½©,åŸºæœ¬ä¸Šæ¯å¤©éƒ½æˆ´,æƒ³èµ·ä»¥å‰å¤å¤©å¼€ç€çª—æˆ·ç¡è§‰,å¤§é›¾å¤©å»æ‰“ç¯®çƒ,æ„Ÿè§‰è‡ªå·±çœŸTMåœ¨ä½œæ­»~ å…¶ä»–è¡Œä¸šæˆ‘è¯´ä¸ä¸Š,ä½†ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜,ä½ å¦‚æœä¸é‡è§†pm2.5çš„è¯,é‚£å°±ç­‰åŒäºç”¨<code>ç™¾åº¦</code>,ç”¨<code>ie</code>,å¯¹è‡ªå·±å¥½ä¸€äº›å§!</p>
<p>æ©,2013å¹´å°±è¿™æ ·è¿‡å»äº†,è¿™ä¸€å¹´å‘ç”Ÿäº†å¾ˆå¤šå˜åŒ–,æˆ‘ä¹Ÿæˆç†Ÿäº†å¾ˆå¤š,2014ä¸€å®šä¼šæ›´å¥½.</p>
]]></content>
      
        
        <tags>
            
            <tag> å¹´ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å‹ç›Ÿæ¸ é“åŒ…å·¥å…·]]></title>
      <url>http://blog.justbilt.com/2014/03/19/umeng_apk_tools/</url>
      <content type="html"><![CDATA[<p>æ¸¸æˆåšå®Œäº†,åœ¨å›½å†…å‘androidåŒ…æ˜¯ä¸€ä»¶å¾ˆç—›è‹¦çš„äº‹æƒ…,åº”ç”¨å¸‚åœºå¤šè¾¾100å¤šå®¶,ä¸è¯´éƒ½ä¸Šå§,å°±æ˜¯ä¸Š10æ¥ä¸ªä¹Ÿå¤Ÿå’±ä»¬å–ä¸€å£¶çš„äº†,è€Œä¸”æ¯æ¬¡æ›´æ–°ç‰ˆæœ¬éƒ½å¾—è¿™ä¹ˆåš:(,æƒ³æƒ³è¿˜æ˜¯åº”è¯¥æœ‰ä¸ªæ‰¹é‡æ‰“åŒ…çš„å·¥å…·!</p>
<a id="more"></a>
<h2 id="1-é—®é¢˜"><a href="#1-é—®é¢˜" class="headerlink" title="1.é—®é¢˜"></a>1.é—®é¢˜</h2><p>ä¹‹å‰åœ¨å¾®åšä¸Šçœ‹åˆ°ç‹å³°çš„ä¸€å¼ è¡¨,é‡Œé¢å¤§æ¦‚æœ‰ç™¾å…«åä¸ªæ¸ é“,åæ¥æ‰¾ä¸åˆ°äº†,åªæ‰¾åˆ°äº†ä¸‹é¢è¿™å¼ å›¾:</p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23jw1eekv0hmikaj20dw06vaam.jpg" alt="å›½å†…éƒ¨åˆ†åº”ç”¨å•†åº—"></p>
<p>å®ç°è‡ªåŠ¨åŒ–çš„æ€è·¯çš„å¤§æ¦‚æœ‰ä¸¤ä¸ª:</p>
<ol>
<li>ä½¿ç”¨antå·¥å…·,å†™ç¼–è¯‘è„šæœ¬</li>
<li>æ‰“å‡ºä¸€ä¸ªApkåŒ…,ä½¿ç”¨æ‹†åŒ…å·¥å…·åˆ†è§£Apk,ä¿®æ”¹<code>AndroidManifest.xml</code> æ–‡ä»¶åï¼Œå†é‡æ–°æ‰“åŒ…</li>
</ol>
<h2 id="2-ä¸‹è½½å®‰è£…"><a href="#2-ä¸‹è½½å®‰è£…" class="headerlink" title="2.ä¸‹è½½å®‰è£…"></a>2.ä¸‹è½½å®‰è£…</h2><p>å‹ç›Ÿæ¸ é“æ‰“åŒ…å·¥å…·å°±æ˜¯æŒ‰ç…§ç¬¬äºŒä¸ªæ€è·¯å®ç°çš„,å®˜æ–¹githubä»“åº“åœ¨<a href="https://github.com/umeng/umeng-muti-channel-build-tool" target="_blank" rel="noopener">è¿™é‡Œ</a>,windowsç‰ˆçš„ä¸‹è½½åœ°å€åœ¨<a href="https://github.com/umeng/umeng-muti-channel-build-tool/blob/master/Downloads/UmengTools(Green)V2.1.zip" target="_blank" rel="noopener">è¿™é‡Œ</a>,ç°åœ¨è²Œä¼¼åªæœ‰windows7ç‰ˆçš„(å·ä¹)!</p>
<p>å¦‚æœä½ æ°å¥½æ¥å…¥äº†å‹ç›Ÿçš„ç»Ÿè®¡,é‚£ä¹ˆå°±å¯ä»¥çˆ½äº†!</p>
<p>ä¸‹è½½å®Œæˆå,è§£å‹,è¿è¡Œ<code>UmengTools.exe</code>åä¼šæ£€æµ‹Javaç¯å¢ƒ,éœ€è¦å®‰è£…JDK,å¯ä»¥å»<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹,ç„¶åæŠŠç±»ä¼¼è¿™ä¸ªè·¯å¾„<code>C:\Program Files\Java\jdk1.7.0_45\bin</code>åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­å».</p>
<h2 id="3-ä½¿ç”¨"><a href="#3-ä½¿ç”¨" class="headerlink" title="3.ä½¿ç”¨"></a>3.ä½¿ç”¨</h2><p>å¯åŠ¨<strong>UmengTools</strong>åä½ å°±ä¼šçœ‹åˆ°ä¸€ä¸ªéå¸¸é«˜å¤§ä¸Šçš„ç•Œé¢:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23jw1eekxijxt9tj20m80go0u2.jpg" alt=""></p>
<p>ç„¶åç‚¹å‡»1ä½ç½®çš„æ‰³æ‰‹å›¾æ ‡,ä¼šå¼¹å‡ºé…ç½®ç•Œé¢,å¦‚å›¾:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23jw1eekxppu1iej20iw0egmyn.jpg" alt=""></p>
<ol>
<li>KeyStoreä¸­å¡«å…¥ä½ ç­¾åæ–‡ä»¶çš„è·¯å¾„,passwordæ å¡«å…¥åˆ›å»ºç­¾åæ–‡ä»¶æ—¶çš„å¯†ç </li>
<li>Aliasæ å¡«å…¥è¿™ä¸ªåº”ç”¨çš„åç§°,passwordæ å¡«å…¥å¯†ç </li>
<li>è¦æ·»åŠ ,åˆ é™¤æ¸ é“åœ¨æ¸ é“æ é…ç½®</li>
<li>åœ¨é…ç½®æ–‡ä»¶æ å¡«å…¥é…ç½®æ–‡ä»¶åç§°</li>
<li>ç‚¹å‡»ä¿å­˜</li>
</ol>
<p>ç„¶åå°†ä½ é€šè¿‡eclipseå¯¼å‡ºçš„ç­¾ååŒ…æ‹–æ‹½åˆ°2çš„ä½ç½®,ç‚¹å‡»ä¸€é”®æ‰“åŒ…å¯ä»¥å†²æ¯å’–å•¡ç­‰å¾…æˆåŠŸäº†!</p>
]]></content>
      
        
        <tags>
            
            <tag> Tool </tag>
            
            <tag> æ‰¹é‡æ‰“åŒ… </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[convert2fnt: å°†ä¸€å †å›¾ç‰‡è½¬åŒ–ä¸ºBMFontå·¥å…·]]></title>
      <url>http://blog.justbilt.com/2014/02/01/images_to_bmfont/</url>
      <content type="html"><![CDATA[<p>å­¦ä¹ äº†Pythonä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†,ä¸€ç›´åœ¨çœ‹ä¹¦å•Šä»€ä¹ˆçš„,æ²¡æœ‰å†™äº›ä¸œè¥¿,æ„Ÿè§‰è¿™æ ·ä¸å¤ªå¥½,åˆšå¥½é¡¹ç›®ä¸­éœ€è¦ä¸€ä¸ªCCLabrlTTFä½†ç¾æœ¯å¦¹çº¸åªç»™äº†ä¸€å †æ•£å›¾,è‡ªå·±å†™ä¸€ä¸ªå°å·¥å…·å§!<br><a id="more"></a></p>
<blockquote>
<p>2014å¹´4æœˆ11æ—¥æ›´æ–°:</p>
<ol>
<li>å»é™¤äº†<code>ImageMagick</code>çš„ä¾èµ–,æ”¹ç”¨<code>PIL</code></li>
<li>ç”¨<code>Pyinstaller</code>æ‰“åŒ…å‡ºäº†win32å’Œmacçš„å¯æ‰§è¡Œç¨‹åº,ä¸ç”¨å®‰è£…ä»»ä½•ä¸œè¥¿äº†!</li>
</ol>
</blockquote>
<p>å‘ç°ä¹‹å‰å†™çš„é‚£ä¸ªè„šæœ¬ä¾èµ–çš„ä¸œè¥¿å¤ªå¤šäº†,åŠ ä¸Šæœ€è¿‘å¯¹Pythonçš„äº†è§£åˆæœ‰æ‰€å¢åŠ ,æ‰€ä»¥é‡å†™äº†è¿™ä¸ªå·¥å…·,å˜å¾—æ›´åŠ æ˜“ç”¨äº†,å°ä¼™ä¼´èµ¶ç´§æ›´æ–°ä¸‹å§~</p>
<h3 id="ä¸€-ä½¿ç”¨"><a href="#ä¸€-ä½¿ç”¨" class="headerlink" title="ä¸€.ä½¿ç”¨"></a>ä¸€.ä½¿ç”¨</h3><p>æ–°ç‰ˆçš„å·¥å…·å·²ç»ä¸éœ€è¦å®‰è£…ä»»ä½•é™„å±çš„ä¸œè¥¿äº†,åªéœ€ä¸¤æ­¥,å°±å¯è§£è„±~</p>
<h4 id="1-ä¿®æ”¹å›¾ç‰‡å"><a href="#1-ä¿®æ”¹å›¾ç‰‡å" class="headerlink" title="1).ä¿®æ”¹å›¾ç‰‡å"></a>1).ä¿®æ”¹å›¾ç‰‡å</h4><p>è¿™ä¸€æ­¥ååˆ†å®¹æ˜“,æˆ‘ä»¬çº¦å®šä¸€ä¸ªè§„åˆ™,è§„å®šå›¾ç‰‡çš„å‘½åä¸º<code>x_y.png</code>,è¿™æ ·xå°±æ˜¯æœ€ç»ˆ<code>.fnt</code>å’Œ<code>.png</code>çš„åå­—,è€Œyå°±æ˜¯å¯¹åº”å­—ç¬¦çš„ASCIIç ,è¿™æ ·æˆ‘çš„å›¾ç‰‡æœ€åå‘½åæ˜¯è¿™ä¸ªæ ·å­çš„:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fighting_header_shuzi_48.png 	<span class="comment">#0</span></span><br><span class="line">fighting_header_shuzi_49.png 	<span class="comment">#1</span></span><br><span class="line">fighting_header_shuzi_50.png 	<span class="comment">#2</span></span><br><span class="line">fighting_header_shuzi_51.png 	<span class="comment">#3</span></span><br><span class="line">fighting_header_shuzi_52.png 	<span class="comment">#4</span></span><br><span class="line">fighting_header_shuzi_53.png 	<span class="comment">#5</span></span><br><span class="line">fighting_header_shuzi_54.png 	<span class="comment">#6</span></span><br><span class="line">fighting_header_shuzi_55.png 	<span class="comment">#7</span></span><br><span class="line">fighting_header_shuzi_56.png 	<span class="comment">#8</span></span><br><span class="line">fighting_header_shuzi_57.png 	<span class="comment">#9</span></span><br><span class="line">fighting_header_shuzi_109.png 	<span class="comment">#m</span></span><br></pre></td></tr></table></figure>
<p>æœ€åä¸€ä¸ªmæ˜¯å› ä¸ºæˆ‘çš„å›¾ç‰‡ä¸­åŒ…å«äº†ä¸€ä¸ª<code>m</code>å­—æ ·çš„å›¾ç‰‡,å…·ä½“asciiç è¡¨å¯ä»¥åœ¨<a href="http://www.weste.net/tools/ASCII.asp" target="_blank" rel="noopener">è¿™é‡Œ</a>æŸ¥.</p>
<h4 id="2-ä¸‹è½½å¯æ‰§è¡Œç¨‹åº"><a href="#2-ä¸‹è½½å¯æ‰§è¡Œç¨‹åº" class="headerlink" title="2).ä¸‹è½½å¯æ‰§è¡Œç¨‹åº"></a>2).ä¸‹è½½å¯æ‰§è¡Œç¨‹åº</h4><blockquote>
<p>è¿™ä¸¤ä¸ªæ–‡ä»¶çš„åŒçº§ç›®å½•æˆ‘æ”¾äº†ä¸€ç»„æµ‹è¯•å›¾ç‰‡,å¤§å®¶å¯ä»¥ä¸€å¹¶ä¸‹ä¸‹æ¥æµ‹è¯•~</p>
</blockquote>
<p><strong>windows:</strong></p>
<p>ä»<a href="https://github.com/justbilt/fnt_convert/blob/master/bin/win32" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½images2fnt.exe,åœ¨ä½ çš„ç¢å›¾ç›®å½•åŒå‡»è¿è¡Œ</p>
<p><strong>mac:</strong></p>
<p>ä»<a href="https://github.com/justbilt/fnt_convert/blob/master/bin/mac" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½images2fnt,åœ¨ä½ çš„ç¢å›¾ç›®å½•å¯åŠ¨ç»ˆç«¯,é”®å…¥<code>./images2fnt</code></p>
<p>ç„¶åâ€¦ç„¶åå°±ç¥å¥‡çš„ä¸œè¥¿å‡ºç°äº†å‘¢,åœ¨<code>output</code>ç›®å½•ä¸‹ä¼šæ‰¾åˆ°ä½ æƒ³è¦çš„ä¸œè¥¿~</p>
<h3 id="äºŒ-é¡¹ç›®"><a href="#äºŒ-é¡¹ç›®" class="headerlink" title="äºŒ.é¡¹ç›®"></a>äºŒ.é¡¹ç›®</h3><p>å·¥ç¨‹å·²å¼€æºåˆ°githubä¸Š,ç‚¹å‡»<a href="https://github.com/justbilt/fnt_convert" target="_blank" rel="noopener">è¿™é‡Œ</a>æŸ¥çœ‹,é¡¹ç›®é‡‡ç”¨Pythonç¼–å†™,ä¸»è¦ä¾èµ–äº†è¿™å‡ ä¸ªåº“:</p>
<ol>
<li>Pillow</li>
<li>Pyinstaller</li>
</ol>
<p>Pillowæ˜¯Pythonçš„å›¾ç‰‡å¤„ç†åº“,å‰èº«æ˜¯Pil,é¡¹ç›®ä½¿ç”¨Pillowæ‹¼æ¥å›¾ç‰‡,è·å–å›¾ç‰‡ä¿¡æ¯.<br>Pyinstalleræ˜¯Pythonçš„ä¸€ä¸ªå‘å¸ƒå·¥å…·,ä¼šå°†ä»£ç æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶,ååˆ†æ–¹ä¾¿.</p>
<h2 id="å…¨æ–‡å®Œ"><a href="#å…¨æ–‡å®Œ" class="headerlink" title="(å…¨æ–‡å®Œ)"></a>(å…¨æ–‡å®Œ)</h2>]]></content>
      
        
        <tags>
            
            <tag> Tool </tag>
            
            <tag> convert2fnt </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[åœ¨ MacOS ä¸Šæ­å»º mafiagame ç‰ˆçš„ Quick-cocos2d-x]]></title>
      <url>http://blog.justbilt.com/2014/01/26/quickx_on_mac/</url>
      <content type="html"><![CDATA[<h1 id="ä¸€-Why-mafiagame"><a href="#ä¸€-Why-mafiagame" class="headerlink" title="ä¸€.Why mafiagame?"></a>ä¸€.Why mafiagame?</h1><p>ä¸ºä»€ä¹ˆè¦ç”¨mafiagameç‰ˆçš„quick-cocos2d-x(ä»¥ä¸‹ç®€ç§°quick)å‘¢?æˆ‘åœ¨ä½¿ç”¨quickæ—¶å€™é‡åˆ°äº†å¾ˆå¤šå‘,æ”¹äº†quickå¥½å¤šä»£ç ,ä¸»è¦è¿˜æ˜¯cocosbuilder(ä»¥ä¸‹ç®€ç§°ccb)æ–¹é¢çš„,ä¸ºäº†æ–¹ä¾¿å…¶ä»–åŒäº‹,å°±åœ¨quickçš„åŸºç¡€ä¸Šåšäº†ä¸€ä¸ªåˆ†æ”¯,æäº¤æˆ‘çš„è¿™äº›ä¿®æ”¹,<strong>ä¿®æ”¹åŸºäºquickçš„æœ€æ–°2.2.1-rc</strong>,å…³äºå…·ä½“çš„å‘ä¼šå•ç‹¬å¼€ä¸€ç¯‡æ–‡ç« æ¥å†™,è¿™é‡Œå°±ä¸åšèµ˜è¿°äº†.<br><a id="more"></a></p>
<h1 id="äºŒ-å…‹éš†ä»“åº“åˆ°æœ¬åœ°"><a href="#äºŒ-å…‹éš†ä»“åº“åˆ°æœ¬åœ°" class="headerlink" title="äºŒ.å…‹éš†ä»“åº“åˆ°æœ¬åœ°"></a>äºŒ.å…‹éš†ä»“åº“åˆ°æœ¬åœ°</h1><p>Ps:å¦‚æœä½ æ¯”è¾ƒç†Ÿæ‚‰gitå’Œgithubçš„è¯,è¿™éƒ¨åˆ†å¯ä»¥è·³è¿‡äº†,æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡.</p>
<h3 id="1-å·¥å…·é€‰æ‹©"><a href="#1-å·¥å…·é€‰æ‹©" class="headerlink" title="1.å·¥å…·é€‰æ‹©"></a>1.å·¥å…·é€‰æ‹©</h3><ul>
<li><p><strong>Github For Mac</strong>,å¥½å¤šgitçš„æ–°æ‰‹ä¼šé€‰æ‹©ä½¿ç”¨Github For Mac,æˆ‘ä¸å¤ªæ¨èè¿™ä¹ˆåš,å› ä¸ºGithubçš„å®¢æˆ·ç«¯éšè—äº†å¥½å¤šä¸œè¥¿,éå¸¸å®¹æ˜“è¯¯æ“ä½œå¹¶ä¸”å¯¹gitçš„ä½¿ç”¨ä¸€ç‚¹å¸®åŠ©ä¹Ÿæ²¡æœ‰,</p>
</li>
<li><p><strong>git command tool</strong>,æˆ‘ä¹Ÿä¸æ¨èä¸€ä¸Šæ¥å°±ä½¿ç”¨gitçš„å‘½ä»¤è¡Œå·¥å…·,ä¸€æ¥ä¸Šæ‰‹éš¾åº¦å¤ªå¤§,äºŒæ¥æ•ˆç‡å¤ªä½.</p>
</li>
<li><p><strong>SourceTree</strong>,åœ¨ä½¿ç”¨SourceTreeä¹‹å‰æˆ‘ç”¨è¿‡gitGUI,æ„Ÿè§‰å·®è·å¤ªå¤§äº†,SourceTreeç»å¯¹æ˜¯Macä¸Šæœ€å¥½ç”¨çš„git GUIå·¥å…·,æ²¡æœ‰ä¹‹ä¸€.ä¸‹é¢æˆ‘è¯¦ç»†è®²è¿°ä¸€ä¸‹ä½¿ç”¨SourceTreeè·å–æœ€æ–°ä»£ç </p>
</li>
</ul>
<h3 id="2-å®‰è£…SourceTree"><a href="#2-å®‰è£…SourceTree" class="headerlink" title="2.å®‰è£…SourceTree"></a>2.å®‰è£…SourceTree</h3><p>å·¥å…·å¤§å®¶å¯ä»¥ä»<a href="http://sourcetreeapp.com/" target="_blank" rel="noopener">è¿™é‡Œ</a>è·å–,ä¸‹è½½å®Œæˆåå®‰è£…æ‰“å¼€,è¯¥åŒæ„çš„åŒæ„,èƒ½è·³è¿‡çš„è·³è¿‡,å¤§å®¶å°±èƒ½è§åˆ°è¿™ä¸ªç”»é¢äº†:<br><img src="http://ww1.sinaimg.cn/large/7f870d23jw1ecx5w2og63j20ho0jcgmf.jpg" alt=""></p>
<p>å¿½ç•¥æˆ‘ä¸Šé¢çš„ä¸œè¥¿,ç‚¹å‡»å·¦ä¸Šè§’æœ‰<code>+</code>å·å­—æ ·çš„ç¬¬ä¸€ä¸ªå›¾æ ‡<strong>æ·»åŠ ä»“åº“</strong>,å°±ä¼šçœ‹åˆ°ä¸‹é¢è¿™ä¸ªç”»é¢:</p>
<p>åœ¨åœ°å€æ å¡«å…¥<a href="https://github.com/mafiagame/quick-cocos2d-x.git" target="_blank" rel="noopener">https://github.com/mafiagame/quick-cocos2d-x.git</a>è¿™ä¸ªåœ°å€,é€‰æ‹©cloneåˆ°<code>/Users/xxxx/Documents/quick-cocos2d-x</code>è¿™ä¸ªè·¯å¾„ä¸‹,ä¹¦ç­¾åè®¾ç½®ä¸º<code>quick-cocos2d-x</code>,æ¨èæ‰“å¼€ä¸‹é¢çš„é«˜çº§é€‰é¡¹,åœ¨brunchæ¡†ä¸­å¡«å…¥<code>mafiagame</code>,è¿™æ ·å¯ä»¥åªè¿å‡ºmafiagameåˆ†æ”¯,å‡å°‘cloneçš„æ—¶é—´:</p>
<p>æ¼«é•¿çš„ç­‰å¾…æ—¶é—´ç»“æŸå,åŒå‡»ä¹¦ç­¾<code>quick-cocos2d-x</code>å°±å¯ä»¥è¿›å…¥è¿™ä¸ªç”»é¢äº†,è¿›åˆ°è¿™é‡Œå°±ç»“æŸäº†å…‹éš†ä»£ç çš„æ­¥éª¤å°±ç»“æŸäº†.<br><img src="http://ww1.sinaimg.cn/large/7f870d23jw1ecx7e1oywgj21720rk7di.jpg" alt=""></p>
<h3 id="3-åˆ‡æ¢åˆ°mafiagameåˆ†æ”¯"><a href="#3-åˆ‡æ¢åˆ°mafiagameåˆ†æ”¯" class="headerlink" title="3.åˆ‡æ¢åˆ°mafiagameåˆ†æ”¯"></a>3.åˆ‡æ¢åˆ°mafiagameåˆ†æ”¯</h3><p>å¦‚æœä½ ä¸Šæ­¥åœ¨brunchæ¡†ä¸­å¡«å…¥äº†<code>mafiagame</code>,è¿™æ­¥å°±å¯ç•¥è¿‡äº†,ä½†æ˜¯å¦‚æœæ²¡æœ‰,å°±éœ€è¦åˆ‡æ¢åˆ†æ”¯äº†.</p>
<ol>
<li>ç‚¹å‡»å·¥å…·æ çš„<code>Checkout</code></li>
<li>åœ¨å¼¹å‡ºæ¡†ä¸­ç‚¹å‡»<code>Checkout New Branch</code></li>
<li>é€‰æ‹©è¿œç«¯çš„<code>origin/mafiagame</code>åˆ†æ”¯</li>
<li>ç‚¹å‡»<code>OK</code>,ç­‰å¾…,åˆ‡æ¢æˆåŠŸ,æ­¥éª¤å›¾å¦‚ä¸‹</li>
</ol>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23jw1ecxuv0vkj6j20ta08uju7.jpg" alt=""></p>
<h1 id="ä¸‰-æ­å»ºSublimeå¼€å‘ç¯å¢ƒ"><a href="#ä¸‰-æ­å»ºSublimeå¼€å‘ç¯å¢ƒ" class="headerlink" title="ä¸‰.æ­å»ºSublimeå¼€å‘ç¯å¢ƒ"></a>ä¸‰.æ­å»ºSublimeå¼€å‘ç¯å¢ƒ</h1><p>å…³äºSublimeçš„ç®€ä»‹å¤§å®¶å¯ä»¥è‡ªè¡Œæœç´¢,æˆ‘ä»¬ç”¨å®ƒä½œä¸ºå¼€å‘ç¯å¢ƒçš„ä¸»è¦åŸå› æ˜¯<a href="http://my.oschina.net/lonewolf/blog/176266" target="_blank" rel="noopener">lonewolf</a>å°ä¼™ä¼´ä¸ºSublimeåšäº†éå¸¸å®ç”¨çš„æ’ä»¶<strong>QuickXDev</strong>,éå¸¸å±Œ,å¤§å®¶å¯ä»¥æ…¢æ…¢ä½“ä¼š.</p>
<h3 id="1-ä¸‹è½½å®‰è£…"><a href="#1-ä¸‹è½½å®‰è£…" class="headerlink" title="1.ä¸‹è½½å®‰è£…"></a>1.ä¸‹è½½å®‰è£…</h3><p>å¤§å®¶åœ¨<a href="http://www.sublimetext.com/" target="_blank" rel="noopener">è¿™é‡Œ</a>å¯ä»¥å¾ˆè½»æ¾çš„è·å–Sublimeçš„æœ€æ–°ç‰ˆæœ¬,å®‰è£…åæ‰“å¼€,å¯ä»¥çœ‹åˆ°è¿™ä¸ªç”»é¢:<br><img src="http://ww2.sinaimg.cn/large/7f870d23jw1ecx7lzwmtxj20jg0gjdge.jpg" alt=""></p>
<h3 id="2-å®‰è£…package-controlç»„ä»¶"><a href="#2-å®‰è£…package-controlç»„ä»¶" class="headerlink" title="2.å®‰è£…package controlç»„ä»¶"></a>2.å®‰è£…package controlç»„ä»¶</h3><ol>
<li>æŒ‰<code>Ctrl+` </code>è°ƒå‡ºconsole</li>
<li>ç²˜è´´ä»¥ä¸‹ä»£ç åˆ°åº•éƒ¨å‘½ä»¤è¡Œå¹¶å›è½¦ï¼š<br><strong><br>import urllib2,os;pf=â€™Package Control.sublime-packageâ€™;ipp=sublime.installed_packages_path();os.makedirs(ipp) if not os.path.exists(ipp) else None;open(os.path.join(ipp,pf),â€™wbâ€™).write(urllib2.urlopen(â€˜<a href="http://sublime.wbond.net/&#39;+pf.replace(" target="_blank" rel="noopener">http://sublime.wbond.net/&#39;+pf.replace(</a>â€˜ â€˜,â€™%20â€™)).read())
</strong></li>
<li>ç­‰å¾…ä¸€æ®µæ—¶é—´</li>
<li>é‡å¯Sublime Text 2ã€‚</li>
<li>å¦‚æœåœ¨Perferences-&gt;package settingsä¸­çœ‹åˆ°package controlè¿™ä¸€é¡¹ï¼Œåˆ™å®‰è£…æˆåŠŸã€‚</li>
</ol>
<h3 id="3-å®‰è£…QuickXDev"><a href="#3-å®‰è£…QuickXDev" class="headerlink" title="3.å®‰è£…QuickXDev"></a>3.å®‰è£…QuickXDev</h3><ol>
<li>æŒ‰<code>âŒ˜+Shift+P</code>é”®æ‰“å¼€<code>package control</code>,åœ¨å¼¹å‡ºçš„æ¡†ä¸­è¾“å…¥<code>Install Package</code>,é€‰æ‹©å¯¹åº”æ¡ç›®å›è½¦.</li>
<li>ç¨ç­‰ç‰‡åˆ»åä¼šå¼¹å‡ºå¦ä¸€ä¸ªè¾“å…¥æ¡†,è¾“å…¥<code>QuickXDev</code>å›è½¦,ç­‰å¾…å®‰è£…æˆåŠŸ.</li>
<li>é‡å¯Sublime,åœ¨<code>Perferences-&gt;package settings</code>ä¸­çœ‹åˆ°QuickXDevè¿™ä¸€é¡¹ï¼Œåˆ™å®‰è£…æˆåŠŸã€‚</li>
<li>æ‰“å¼€<code>Perferences-&gt;package settings -&gt;QuickXDev -&gt;QuickXDev.sublime-settings</code>,åœ¨æ‰“å¼€çš„æ–‡æœ¬ä¸­<br>è¾“å…¥<code>quick_cocos2dx_root</code>,å¦‚ä¸‹å›¾:<br><img src="http://ww2.sinaimg.cn/large/7f870d23jw1ecx868doczj20re0gj402.jpg" alt=""></li>
</ol>
<h3 id="4-è¿è¡Œç¤ºä¾‹é¡¹ç›®"><a href="#4-è¿è¡Œç¤ºä¾‹é¡¹ç›®" class="headerlink" title="4.è¿è¡Œç¤ºä¾‹é¡¹ç›®"></a>4.è¿è¡Œç¤ºä¾‹é¡¹ç›®</h3><ol>
<li>æŒ‰<code>âŒ˜+k,b</code>é”®æ‰“å¼€å·¦ä¾§Side Bar</li>
<li>åœ¨Finderä¸­æ‰¾åˆ°<code>quick-cocos2d-x</code>ç›®å½•,æ‹–æ‹½åˆ°Side Barä¸Š</li>
<li>åœ¨Side Barä¸Šå±•å¼€<code>quick-cocos2d-x -&gt; samples -&gt; coinflip</code>,åœ¨<code>scripts</code>æ–‡ä»¶å¤¹ä¸Šå³é”®<code>Run With Player</code>,å¦‚ä¸‹å›¾:<br><img src="http://ww1.sinaimg.cn/large/7f870d23jw1ecxu1qcduzj20c80dddh5.jpg" alt=""></li>
<li>ç„¶åå°±ä¼šçœ‹åˆ°å®˜æ–¹çš„è¿™ä¸ªç¤ºä¾‹äº†,ä¸‹é¢å¼€å§‹luaä¹‹æ—…å§</li>
</ol>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23jw1ecxu86hshsj20kw0kljw9.jpg" alt=""></p>
<h3 id="å››-åè®°"><a href="#å››-åè®°" class="headerlink" title="å››.åè®°"></a>å››.åè®°</h3><p>è¿™é‡Œå¹¶æ²¡æœ‰è®²Androidç¯å¢ƒçš„æ­å»º,æ˜¯å› ä¸ºquickå®˜ç½‘ä¸Šå·²ç»æœ‰äº†è¯¦ç»†çš„æ•™ç¨‹äº†,å¤§å®¶å»çœ‹<a href="http://cn.quick-x.com/?p=415" target="_blank" rel="noopener">è¿™ç¯‡</a>æ–‡ç« å°±OK,è‡³äºä¸ºä»€ä¹ˆä¸ç»™å®˜æ–¹æäº¤<code>pull request</code>,æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› :</p>
<ol>
<li>æˆ‘çš„ä»£ç ä¹ æƒ¯,æäº¤è§„èŒƒå’Œquickä¸çŸ¥æœ‰æ— å·®å¼‚</li>
<li>æˆ‘åšçš„æ›´æ”¹å¤šæ•°åœ¨ccbæ–¹é¢,quickå®˜æ–¹æ˜æ˜¾æ’æ–¥ccb</li>
<li>æˆ‘æ·»åŠ äº†ä¸€äº›å·¥å…·ç±»,æ¯”è¾ƒä¸ªäººåŒ–,æ¨å¹¿å¼€æ¥å¯èƒ½ä¸é€‚ç”¨</li>
</ol>
<p>ç»¼ä¸Š,æˆ‘æ²¡æœ‰æäº¤ç»™quickä»“åº“,ä½†æ˜¯å¦‚æœquickæœ‰éœ€è¦çš„è¯,æˆ‘è¿˜æ˜¯ååˆ†ä¹æ„åˆå¹¶è¿‡å»çš„.</p>
<h3 id="å…¨æ–‡å®Œ"><a href="#å…¨æ–‡å®Œ" class="headerlink" title="(å…¨æ–‡å®Œ)"></a>(å…¨æ–‡å®Œ)</h3>]]></content>
      
        
        <tags>
            
            <tag> Quick-Cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[åœ¨Command Lineä¸­ä½¿ç”¨TexturePacker]]></title>
      <url>http://blog.justbilt.com/2013/12/12/use_tp_on_command_line/</url>
      <content type="html"><![CDATA[<p>TexturePackeræ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å°å›¾åˆå¹¶å·¥å…·,ä»‹ç»å®ƒçš„æ–‡ç« éå¸¸å¤š,å¤šæ•°éƒ½æ˜¯ä½¿ç”¨GUIå·¥å…·çš„,ä½†æ˜¯:</p>
<ol>
<li>å¦‚æœåŸå§‹å›¾ç‰‡å‘ç”Ÿäº†æ”¹å˜,æˆ‘ä»¬å°±éœ€è¦é‡æ–°æ‰‹åŠ¨æ‹¼æ¥ä¸€ä¸‹,éº»çƒ¦.</li>
<li>ä½¿ç”¨GUIç•Œé¢<strong>éå¸¸ä¸é«˜ç«¯</strong>,æˆ‘é«˜å¤§çŒ¿æ—ç»å¯¹é¦–é€‰ä½¿ç”¨Command Lineå•Š.</li>
</ol>
<p>å®‰è£…TexturePackerä¼šé™„å¸¦ä¸€ä¸ªcommand lineå·¥å…·,è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨å§.<br><a id="more"></a></p>
<p>##ç¯å¢ƒæ­å»º<br>æˆ‘ä¸€èˆ¬é¦–é€‰åœ¨Windowsä¸‹å¼€å‘(ä¸è¦æ‰“æˆ‘),è¿™é‡Œå°±åªè®²Windowsç¯å¢ƒçš„é…ç½®</p>
<p>1.å…ˆå»<a href="http://www.codeandweb.com/texturepacker" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½å®‰è£…æ–‡ä»¶,å®Œæˆåä¸€è·¯æ— è„‘ä¸‹ä¸€æ­¥,OK.</p>
<p>2.å¤§å®¶åœ¨<code>C:\Program Files\TexturePacker\bin</code>ç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªexeæ–‡ä»¶,<code>TexturePacker.exe</code>å’Œ<code>TexturePackerGUI.exe</code>,å‰è€…æ˜¯å‘½ä»¤è¡Œå·¥å…·,åè€…æ˜¯GUIå·¥å…·.</p>
<p>3.é»˜è®¤<code>TexturePacker</code>æ˜¯æ²¡æœ‰åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­çš„,æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ¥,å³é”®ç‚¹å‡»<strong>è®¡ç®—æœº</strong>-&gt;<strong>å±æ€§</strong>-&gt;<strong>é«˜çº§ç³»ç»Ÿè®¾ç½®</strong>-&gt;<strong>ç¯å¢ƒå˜é‡</strong>,æ‰¾åˆ°<code>PATH</code>åå°†<code>C:\Program Files\TexturePacker\bin</code>æ·»åŠ åˆ°æœ«å°¾,æ³¨æ„è¦åœ¨å‰é¢åŠ <code>;</code>.</p>
<p>4.è¿è¡Œcmd,è¾“å…¥<code>TexturePacker</code>å¤§å®¶åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°ä¸‹é¢çš„å†…å®¹:<br><img src="http://ww1.sinaimg.cn/large/7f870d23jw1ebgr9fza56j20mo08rabj.jpg" alt=""><br>å¦‚æœä¸èƒ½çš„è¯è¯·æ£€æŸ¥æ‹¼å†™å’Œç¬¬<code>2</code>æ­¥.å¤§å®¶å¯ä»¥ä»”ç»†é˜…è¯»ä¸€ä¸‹å†…å®¹,å†™çš„ååˆ†è¯¦ç»†,ç”¨è¿‡TexturePackerçš„è¯åŸºæœ¬ä¸Šéƒ½èƒ½å¯¹åº”èµ·æ¥.</p>
<p>##å°è¯•ç‰›åˆ€<br>ä½ è¿‡ä½ çœ‹å®Œæ‰“å°å‡ºçš„ä¿¡æ¯çš„è¯å¯ä»¥å‘ä¸‹æœ«å°¾éƒ¨åˆ†æœ‰ä¸‰ä¸ªç¤ºä¾‹,å¦‚ä¸‹:<br><img src="http://ww4.sinaimg.cn/large/7f870d23jw1ebgrdsac69j20qj06rgmj.jpg" alt=""><br>çœ‹èµ·å•¦ååˆ†ç®€å•,è®©æˆ‘ä»¬è¯•ä¸€ä¸‹å§,æ„Ÿè°¢å¾®åšå°ä¼™ä¼´<a href="http://weibo.com/1061005610/A8lXXwagW" target="_blank" rel="noopener">@sosoayaen</a>å‘ç°çš„å°ç§˜å¯†,ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„åœ¨ä»»æ„ä½ç½®æ‰“å¼€å‘½ä»¤è¡Œ.æ‰¾ä¸€ä¸ªæœ‰è¿™ä¸€å †å›¾ç‰‡çš„æ–‡ä»¶å¤¹çš„ä¸Šå±‚ç›®å½•,æŒ‰ä½<code>Shift</code>ç‚¹å‡»<code>å³é”®</code>,ä¼šå‘ç°ä¸€ä¸ªèœå•é¡¹<code>åœ¨å½“å‰ç›®å½•æ‰“å¼€å‘½ä»¤è¡Œ</code>,æ‰“å¼€åæŒ‰ç…§ç¤ºä¾‹è¾“å…¥<code>TexturePacker 001/*.png</code>,ç„¶åå¦‚ç¤ºä¾‹è¯´çš„:</p>
<blockquote>
<p>creates out.plist and out.png from all png files in assets<br> trimming all files and creating a texture with max. 2048x2048px</p>
</blockquote>
<p>å®é™…æƒ…å†µå´ä¸å®Œå…¨æ˜¯è¿™æ ·çš„,ä½ å¯èƒ½ä¼šå¾—åˆ°è¿™æ ·çš„é”™è¯¯:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23jw1ebgt6ya8d9j20iq0820te.jpg" alt=""><br>å§æ§½,è¿™æ˜¯ä»€ä¹ˆæƒ…å†µå•Š,æ˜æ˜å°±æ˜¯æŒ‰ç…§å®˜æ–¹çš„ç¤ºä¾‹æ¥çš„å˜›,googleå®Œå…¨æ²¡æœ‰ä»»ä½•ç­”æ¡ˆå•Š,ç»è¿‡ä¸€ç•ªç—›è‹¦çš„å®éªŒå,ç»ˆäºå‘ç°äº†åŸå› æ‰€åœ¨,è¿™é‡Œä¸èƒ½è¾“å…¥:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TexturePacker 001/*.png</span><br></pre></td></tr></table></figure></p>
<p>è€Œåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TexturePacker 001</span><br></pre></td></tr></table></figure></p>
<p><strong>è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯ç”±äºæˆ‘ä½¿ç”¨çš„ç‰ˆæœ¬å¤ªæ—§æˆ–ä½¿ç”¨Windowså¯¼è‡´çš„,å¦‚æœä½ æ²¡æœ‰é‡åˆ°,é‚£ä¹ˆæœ€å¥½!</strong></p>
<p>##å‚æ•°è¯¦è§£<br>æœ¬æƒ³ç€æŠŠæ‰€æœ‰å‚æ•°éƒ½è®²ä¸€é,å†™åˆ°ä¸€åŠå‘ç°å§æ§½å¤ªå¤šäº†,è€Œä¸”å¥½äº›éƒ½ç”¨ä¸åˆ°,è¿™é‡ŒæŒ‘ä¸€äº›å¸¸ç”¨çš„åˆ†æä¸‹,<strong>ä»¥ä¸‹å†…å®¹éƒ½æœ‰è¿›è¡Œæµ‹è¯•</strong>,è¿˜æ˜¯æ¯”è¾ƒå‡†ç¡®çš„,å¦‚æœæœ‰é—®é¢˜,æ¬¢è¿æŒ‡å‡º.<br>æ³¨:</p>
<ol>
<li>é€‰é¡¹å«æœ‰<code>&lt;...&gt;</code>çš„é€‰é¡¹è¡¨ç¤ºå«æœ‰å‚æ•°éœ€è¦å¡«å†™.</li>
<li>ç²—ä½“è¡¨ç¤ºæ¯”è¾ƒé‡è¦çš„é€‰é¡¹.</li>
</ol>
<h2 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="####è¾“å‡º"></a>####è¾“å‡º</h2><p><strong>â€“sheet</strong> <code>&lt;filename&gt;</code><br>+ç”Ÿæˆçš„å›¾ç‰‡å,æ”¯æŒ<strong>png,jpg,pvr,pvr.czz,pvr.gz</strong>æ ¼å¼<br>+ç¤ºä¾‹:<code>--sheet out.png</code></p>
<p><strong>â€“data</strong> <code>&lt;filename&gt;</code></p>
<ul>
<li>ç”Ÿæˆçš„plistæ–‡ä»¶å </li>
<li>ç¤ºä¾‹:<code>--data out.plist</code></li>
</ul>
<p><strong>â€“format</strong> <code>&lt;format&gt;</code></p>
<ul>
<li>ç”Ÿæˆçš„plistæ ¼å¼,æˆ‘ä»¬ä½¿ç”¨cocos2dæ ¼å¼ </li>
<li>ç¤ºä¾‹:<code>--format cocos2d</code></li>
<li>æ³¨:å…¶ä»–æ”¯æŒæ ¼å¼è§ä¸‹å›¾:<br><img src="http://ww1.sinaimg.cn/large/7f870d23jw1ebgwbnyra9j20fx083aay.jpg" alt=""></li>
</ul>
<p><strong>â€“auto-sd</strong></p>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆsdèµ„æº</li>
<li>ç¤ºä¾‹:<code>--auto-sd</code></li>
<li>æ³¨:è¿™ä¸ªè¦æ³¨æ„ä¸€ç‚¹,å¦‚æœè¦ä½¿ç”¨è¿™ä¸ªå‚æ•°,ä½ è¾“å…¥çš„<code>sheet</code>å’Œ<code>data</code>åå¿…é¡»å«æœ‰<code>-hd</code>æˆ–<code>@2x</code>,TPä¼šè‡ªåŠ¨ç”Ÿæˆä¸å¸¦åç¼€çš„sdæ•°æ®.</li>
</ul>
<p>â€“texturepath <code>&lt;path&gt;</code></p>
<ul>
<li>åœ¨ç”Ÿæˆçš„<code>sheet</code>æ–‡ä»¶çš„è·¯å¾„å‰åŠ ä½ <path></path></li>
<li>ç¤ºä¾‹:<code>--texturepath image/tower</code> è¿™æ ·åœ¨plistæ–‡ä»¶ä¸­<code>realTextureFileName</code>çš„å€¼ä¸º<code>image/tower/out.png</code></li>
<li>æ³¨:è¿™ä¸ªå‚æ•°ä¸»è¦ç”¨åœ¨å½“ä½ çš„<strong>å›¾ç‰‡ä¸plistæ–‡ä»¶ä¸å†åŒä¸€ä¸ªç›®å½•</strong>æ—¶ä½¿ç”¨,ä¸ä¼šæ”¹å˜<code>out.png</code>çš„ç›®å½•</li>
</ul>
<p>â€“trim-sprite-name</p>
<ul>
<li>å‰ªè£æ‰æ‹¼æ¥å›¾ç‰‡çš„åç¼€å</li>
<li>ç¤ºä¾‹:<code>--trim-sprite-name</code> è¿™æ ·åœ¨plistæ–‡ä»¶ä¸­<code>&lt;key&gt;001.png&lt;/key&gt;</code>ä¼šå˜æˆ<code>&lt;key&gt;001&lt;/key&gt;</code></li>
<li>æ³¨:æ˜¯å‰ªè£ç”¨æ¥æ‹¼æ¥çš„æ–‡ä»¶è€Œä¸æ˜¯ç”Ÿæˆæ–‡ä»¶,å¦‚æœä½ çš„èµ„æºç®¡ç†ç±»ä¼¼äºandroidé‚£æ ·,ä½¿ç”¨å›¾ç‰‡æ—¶ä¸åŠ åç¼€å,é‚£ä¹ˆæ‰“åŒ…æ—¶å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰é¡¹</li>
</ul>
<p><strong>â€“replace</strong> <code>&lt;regexp&gt;=&lt;string&gt;</code></p>
<ul>
<li>æŒ‰ç…§åŸæ–‡çš„ç¿»è¯‘æ˜¯ä½¿ç”¨<code>&lt;string&gt;</code>æ›¿æ¢æ‰æ‹¼æ¥å›¾ç‰‡çš„æ–‡ä»¶åä¸­æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­—ç¬¦ä¸²</li>
<li><strong>å§æ§½,æ­£åˆ™è¡¨è¾¾å¼å•Šä¸€å¬å°±å°¼ç›é«˜å¤§å¼ºå•Š,å¯æƒœè€å¤«ä¸ä¼šå•Š,æ€ä¹ˆåŠå‘¢?å›å®¶å»ç¿»ç¿»é‡‘ç“¶æ¢…æ”¹å¤©å‘Šè¯‰å¤§å®¶.</strong></li>
<li>è¿™ä¸ªTMå¤ªæœ‰ç”¨äº†,åé¢æˆ‘é‡åˆ°çš„é‚£ä¸ªé—®é¢˜,ç”¨è¿™ä¸ªæ¥è§£å†³æœ€å¥½ä¸è¿‡äº†</li>
</ul>
<p>â€“ignore-files <code>&lt;regexp&gt;</code></p>
<ul>
<li>æŒ‰ç…§åŸæ–‡çš„ç¿»è¯‘æ˜¯å¿½ç•¥æ‰€æœ‰æ»¡è¶³ç»™å®šæ¡ä»¶çš„å›¾ç‰‡(å¯ä»¥ä½¿ç”¨æ—¶é—´ä½œä¸ºæ¡ä»¶),ä½ å¯ä»¥ä½¿ç”¨<code>*</code>æˆ–<code>?</code>,ä½†åœ¨ä½¿ç”¨bashæ—¶åº”é¿å…ä½¿ç”¨é€šé…ç¬¦.</li>
</ul>
<h2 id="å°ºå¯¸"><a href="#å°ºå¯¸" class="headerlink" title="####å°ºå¯¸"></a>####å°ºå¯¸</h2><p>å…ˆä¸Šä¸€å¼ cocos2d-xæ”¯æŒçš„æœ€å¤§å›¾ç‰‡å°ºå¯¸:<br><img src="http://ww4.sinaimg.cn/large/7f870d23jw1ebh3kmq7ebj205i05awej.jpg" alt=""><br>è¿˜æœ‰å®˜æ–¹çš„è¿™å¥è¯:</p>
<blockquote>
<p> For the developers, if you want to cross platforms and run your games smoothly, you should keep your texture size <strong>less than 1024*1024</strong>, that is the lowest restriction for most machines.</p>
</blockquote>
<p><strong>â€“width/â€“height</strong> <code>&lt;int&gt;</code></p>
<ul>
<li>ä¸¤ä¸ªå‚æ•°,æ”¾åœ¨ä¸€å—è¯´äº†,è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„å®½åº¦/é«˜åº¦</li>
<li>ç¤ºä¾‹:<code>--width 100</code> <code>--height 100</code></li>
<li>æ³¨:è¿™ä¸ªå€¼è®¾ç½®çš„å¤§äº†æ— æ‰€è°“,ä¼šäº§ç”Ÿç©ºç™½åŒºåŸŸ,ä½†æ˜¯å¦‚æœå¤ªå°,å°±ä¼šæŠ¥é”™:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: Could not fit all sprites into the sprite sheet.</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>â€“max-width/â€“max-height/â€“max-size</strong> <code>&lt;int&gt;</code></p>
<ul>
<li>è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„æœ€å¤§å®½åº¦/é«˜åº¦/å°ºå¯¸</li>
<li>ç¤ºä¾‹:<code>--max-width 1024</code> <code>--max-height 1024</code> å‰é¢ä¸¤ä¸ªç­‰ä»·äºåé¢ <code>--max-size 1024</code></li>
<li>æ³¨:<br>  1.å’Œä¸Šé¢ä¸¤ä¸ªå‚æ•°çš„åŒºåˆ«åœ¨äºå‘Šè¯‰TPå®é™…å€¼åˆ«è¶…è¿‡è¿™ä¸ªå€¼å°±OK,è€Œä¸Šè¾¹é‚£ä¸¤ä¸ªå‚æ•°å‘Šè¯‰TPå®é™…å€¼ä¸€å®šæ˜¯è¿™ä¸ª.<br>  2.é»˜è®¤å€¼ä¸º<code>2048</code><br>  3.å¦‚æœå®é™…å€¼å¤§äºè®¾ç½®çš„æœ€å¤§å€¼ä¼šäº§ç”Ÿé”™è¯¯:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: Sprite sheet size is too small.</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>â€“allow-free-size</strong></p>
<ul>
<li>å…è®¸è¾“å‡ºå›¾ç‰‡ä¸æ˜¯2çš„å¹‚,ä»¥æœ€å°å°ºå¯¸è¾“å‡º</li>
<li>ç¤ºä¾‹:<code>--allow-free-size</code></li>
<li>æ³¨:è¿™ä¸ªä¸€èˆ¬å¼€å¯,cocos2d-x2.0å¼€å§‹å°±å·²ç»æ”¯æŒå›¾ç‰‡ä¸æ˜¯2çš„å¹‚äº†</li>
</ul>
<h2 id="é—´è·å’Œæ—‹è½¬"><a href="#é—´è·å’Œæ—‹è½¬" class="headerlink" title="####é—´è·å’Œæ—‹è½¬"></a>####é—´è·å’Œæ—‹è½¬</h2><p>â€“shape-padding <code>&lt;int&gt;</code></p>
<ul>
<li>å›¾å—ä¹‹é—´ç¼éš™çš„å®½åº¦,é»˜è®¤å€¼æ˜¯<code>2</code></li>
<li>ç¤ºä¾‹:<code>--shape-padding 100</code></li>
</ul>
<p>â€“border-padding <code>&lt;int&gt;</code></p>
<ul>
<li>å¯ä»¥ç†è§£ä¸ºè¾¹æ¡†çš„å®½åº¦,é»˜è®¤å€¼ä¸º<code>2</code></li>
<li>ç¤ºä¾‹:<code>--border-padding 100</code></li>
</ul>
<p>â€“padding <int></int></p>
<ul>
<li>é—´è·,è¿™ä¸ªå‚æ•°ç­‰ä»·äºä¸Šé¢ä¸¤ä¸ªå‚æ•°åŒæ—¶åŒæ—¶ä½œç”¨</li>
<li>ç¤ºä¾‹:<code>--padding 100</code></li>
<li>æ³¨:å¦‚æœæ²¡æœ‰å¼€å¯<code>--allow-free-size</code>å¯èƒ½å’Œä½ æƒ³è±¡çš„ä¸å¤ªä¸€æ ·</li>
</ul>
<p>â€“inner-padding <int></int></p>
<ul>
<li>è¯•äº†ä¸€ä¸‹,è¿™ä¸ªå‚æ•°çš„ä½œç”¨åº”è¯¥æ˜¯ç»™æ¯ä¸ªspriteçš„å‘¨å›´åŠ ä¸€ä¸ªè¾¹æ¡†,é»˜è®¤å€¼ä¸º0</li>
<li>ç¤ºä¾‹:<code>--inner-padding 100</code></li>
<li>æ³¨:ä¸Šé¢çš„è¿™å‡ ä¸ªå‚æ•°ä½œç”¨éƒ½ä¸æ˜¯å¾ˆå¤§</li>
</ul>
<p>â€“enable-rotation/diable-rotation</p>
<ul>
<li>å¼€å¯/å…³é—­æ—‹è½¬,é»˜è®¤å€¼å’Œè¾“å‡ºçš„æ ¼å¼æœ‰å…³ç³»,cococ2dæ ¼å¼é»˜è®¤enable</li>
<li>ç¤ºä¾‹<code>--enable-rotation</code> <code>--diable-rotation</code></li>
<li>æ³¨:è¿™ä¸ªå¾ˆå¥½ç†è§£,ä¸ºäº†æ’ç‰ˆæ›´å¯†é›†äº›,æœ‰çš„å›¾ç‰‡ä¼šè¢«æ—‹è½¬</li>
</ul>
<p><strong>â€“trim/no-trim</strong></p>
<ul>
<li>å‰ªè£å›¾ç‰‡,å³ç§»é™¤å›¾ç‰‡å‘¨å›´çš„é€æ˜åƒç´ ,ä¿ç•™åŸå§‹å°ºå¯¸,é»˜è®¤å¼€å¯</li>
<li>ç¤ºä¾‹:<code>--trim</code> <code>no-trim</code></li>
<li>æ³¨:è¿™ä¸ªè¦æ ¼å¤–æ³¨æ„ä¸€ä¸‹,è¿™ä¸ªå‚æ•°ç•¥<strong>å¾®æœ‰äº›é—®é¢˜</strong>,å¦‚æœæ²¡æœ‰äº†è§£å¸¦æ¥çš„åæœçš„è¯è¿˜æ˜¯ä½¿ç”¨<code>--no-trim</code>æ›´å®‰å…¨äº›,æˆ‘ä¼šåœ¨åé¢çš„ä»”ç»†è®²ä¸€ä¸‹.</li>
</ul>
<p><strong>â€“crop</strong></p>
<ul>
<li>ä¸ä¸Šé¢çš„ä¸€æ¡ç±»ä¼¼,ç§»é™¤å›¾ç‰‡å››å‘¨çš„é€æ˜åƒç´ ,ä¸ä¿ç•™åŸå§‹å°ºå¯¸,ä¿å­˜ä¸ºä¸€å¼ æ›´å°çš„å›¾ç‰‡</li>
<li>ç¤ºä¾‹:<code>--crop</code></li>
<li>æ³¨:åŒä¸Š,è¦å°å¿ƒä½¿ç”¨,å°½é‡ä¸åœ¨è¿™é‡Œä½¿ç”¨,è€Œæ˜¯æ”¹ä¸ºå‰æœŸç”¨å…¶å®ƒå·¥å…·å¤„ç†</li>
</ul>
<p>â€“trim-threshold <int></int></p>
<ul>
<li>ä¸Trimç±»ä¼¼,åªæ˜¯è¿™ä¸ªé€‰é¡¹æœ‰ä¸€ä¸ªå‚æ•°,è¡¨ç¤ºå‰ªè£æ‰alphaå€¼å°äºè¿™ä¸ªå‚æ•°çš„åƒç´ ,å–å€¼<code>0~255</code>,é»˜è®¤ä¸º<code>0</code>.</li>
<li>ç¤ºä¾‹:<code>--trim-threshold</code></li>
</ul>
<p><strong>â€“disable-auto-alias</strong></p>
<ul>
<li>å…³é—­è‡ªåŠ¨å‘½å,ä»€ä¹ˆæ„æ€å‘¢?<strong>TPåœ¨æ‰“åŒ…æ—¶ä¼šè‡ªåŠ¨è¯†åˆ«ç›¸åŒçš„å›¾ç‰‡,æœ€ç»ˆåœ¨å¤§å›¾é‡Œåªä¼šä¿ç•™ä¸€å¼ </strong>,è¿™æ ·ä¼šæ›´åŠ çš„èŠ‚çœèµ„æº,è¿™ä¸ªå‚æ•°å°†ä¼šå…³é—­è¿™ä¸ªåŠŸèƒ½</li>
<li>ç¤ºä¾‹:<code>--disable-auto-alias</code></li>
<li>æ³¨:è¿™æ ·å‚æ•°è¿˜æ˜¯<strong>ä¸è¦è®¾ç½®</strong>çš„å¥½</li>
</ul>
<h2 id="å…¶ä»–å¸¸ç”¨é€‰é¡¹"><a href="#å…¶ä»–å¸¸ç”¨é€‰é¡¹" class="headerlink" title="####å…¶ä»–å¸¸ç”¨é€‰é¡¹"></a>####å…¶ä»–å¸¸ç”¨é€‰é¡¹</h2><p><strong>â€“opt</strong> <pixelformat></pixelformat></p>
<ul>
<li>è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„åƒç´ æ ¼å¼ ä¸€èˆ¬é»˜è®¤RGBA8888</li>
<li>ç¤ºä¾‹:<code>--opt RGB444</code></li>
<li>æ³¨:è¿™ä¸ªé€‰é¡¹ä¸€èˆ¬ä¸åšæ›´æ”¹,å¦‚æœæƒ³å‹ç¼©èµ„æºä½“ç§¯çš„è¯,å¯ä»¥æ”¹ä¸ºRGBA4444è¿™æ ·å›¾ç‰‡å¯ä»¥å‡å°ä¸€åŠçš„ä½“ç§¯.å…·ä½“å¤§å®¶å¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾:<br><img src="http://ww3.sinaimg.cn/large/7f870d23jw1ebi5nnszqmj20po0g0go5.jpg" alt=""></li>
</ul>
<p>##å¸¸è§é—®é¢˜</p>
<p><strong>é”™è¯¯:</strong> error: Error in sprite: <em>.png: Failed to load image!<br><strong>è§£å†³æ–¹æ¡ˆ:</strong> å»æ‰ç›®æ ‡è·¯å¾„æœ«å°¾çš„</em>.pngè¯•è¯•.</p>
<p><strong>é”™è¯¯:</strong> error: Could not fit all sprites into the sprite sheet.<br><strong>è§£å†³æ–¹æ¡ˆ:</strong><br>1.æŸ¥çœ‹æœ‰æ— è®¾ç½®<code>--width or --height</code>,è¿™ä¸ªé”™è¯¯é€šå¸¸æ˜¯ç”±äºè¾“å‡ºå›¾ç‰‡çš„å°ºå¯¸å¤ªå°å¯¼è‡´çš„.<br>2.æŸ¥çœ‹æœ‰æ— <code>--max-width/--max-height/--max-size</code>,æ²¡æœ‰çš„è¯åŠ ä¸Š,æœ‰çš„è¯å°†å‚æ•°å€¼æ”¹å¤§ä¸€äº›.</p>
<p><strong>é”™è¯¯:</strong> error: Sprite sheet size is too small.<br><strong>è§£å†³æ–¹æ¡ˆ:</strong>å‚è§ä¸Šä¸ªé”™è¯¯ä¸­çš„è§£å†³æ–¹æ¡ˆ2,<code>--max-width/--max-height/--max-size</code>é»˜è®¤å€¼ä¸º<code>2048</code>,è¯•ç€æ”¹æˆ<code>4096</code>è¯•è¯•,å¦‚æœè§£å†³äº†,ä¸è¦é«˜å…´,å› ä¸ºå¤§å¤šæ•°ç§»åŠ¨è®¾å¤‡éƒ½ä¸æ”¯æŒè¿™ä¸ªå°ºå¯¸,å¯ä»¥è€ƒè™‘åˆ†å¼€æ‰“åŒ….</p>
<p><strong>é”™è¯¯:</strong> error: Unknown argument â€“XXX - please check parameters or visit <a href="http://www.texturepacker.com" target="_blank" rel="noopener">http://www.texturepacker.com</a> for newer version<br><strong>è§£å†³æ–¹æ¡ˆ:</strong> æ£€æŸ¥XXXçš„æ‹¼å†™æ˜¯å¦æ­£ç¡®</p>
<p><strong>é—®é¢˜:</strong> ç¨‹åºä¸­è·å¾—å›¾ç‰‡çš„å°ºå¯¸ä¸æ‰“åŒ…å‰ä¸ä¸€è‡´<br><strong>è§£å†³æ–¹æ¡ˆ:</strong> æ£€æŸ¥å‚æ•°æ˜¯å¦å«æœ‰<code>--crop</code>,æœ‰çš„è¯åˆ é™¤,æœ‰æ²¡æœ‰<code>--no-trim</code>,æ²¡æœ‰çš„è¯åŠ ä¸Š.</p>
<p>##åè®°<br>è®²äº†é‚£ä¹ˆå¤šå‚æ•°,å…¶å®å¸¸ç”¨çš„æ²¡æœ‰å‡ ä¸ª,ä¸‹é¢è¿™ä¸ªæ˜¯æˆ‘æœ€ç»ˆä½¿ç”¨çš„å‘½ä»¤:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TexturePacker --sheet out.png --data out.plist --allow-free-size --no-trim --max-size 1024 --format cocos2d animation</span><br></pre></td></tr></table></figure></p>
<p>æ–‡ç« åˆ°è¿™é‡Œå°±è¦ç»“æŸäº†,ä½†å…¶å®è¿˜æ²¡æœ‰å®Œ,<code>--trim</code>åˆ°åº•ä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨?ä½¿ç”¨äº†ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜?å®ƒå’Œ<code>--crop</code>çš„å…·ä½“åŒºåˆ«åœ¨å“ªé‡Œ?plistæ–‡ä»¶ä¸­frameçš„è·¯å¾„å’Œå…¶ä»–plistçš„é‡å¤äº†æ€ä¹ˆåŠ?ç¨‹åºä¸­æ€ä¹ˆåšæ‰èƒ½åšåˆ°æ‰“åŒ…å’Œä¸æ‰“åŒ…çš„å·®å¼‚æœ€å°åŒ–?é‡‘ç“¶æ¢…ä½ ä»€ä¹ˆæ—¶å€™çœ‹å®Œ?</p>
<p>æˆ‘åé¢ä¼šå†å†™ä¸€ç¯‡æ–‡ç« æ¥è®²è¿™äº›ä¸œè¥¿(é€ƒ).</p>
<p><strong>å…¨æ–‡å®Œ</strong></p>
]]></content>
      
        
        <tags>
            
            <tag> Tool </tag>
            
            <tag> TexturePacker </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¿®æ”¹SimpleAudioEngineåœ¨win32ä¸‹çš„å®ç°]]></title>
      <url>http://blog.justbilt.com/2013/11/29/cocos2dx_simpleaudio/</url>
      <content type="html"><![CDATA[<p>###2013å¹´12æœˆ6æ—¥æ›´æ–°<br>è¯•ç€è·ŸOAEçš„ä½œè€…è”ç³»äº†ä¸‹,å‘ä»–è¯‰è‹¦<strong>å¿…é¡»è£…vs2013çš„è¿è¡Œåº“</strong>çš„é—®é¢˜,æ²¡æƒ³åˆ°ä½œè€…ç«Ÿç„¶å›å¤äº†,è€Œä¸”å¾ˆå¿«å‡ºäº†ä¸€æ–°çš„ç‰ˆæœ¬:</p>
<blockquote>
<p>Iâ€™ve updated the package on: OAE_1_6_0_7,Itâ€™s still with Visual Studio 2013, but linked statically. So you donâ€™t need anymore Visual C++ redistributable to run Open Audio Engine.<br>Now it should really more portable :P</p>
</blockquote>
<p>å“ˆå“ˆå“ˆ,å®ä¹ƒä¸šç•Œè‰¯å¿ƒå•Š,è¿™ä¸‹å°ä¼™ä¼´ä»¬<strong>å†ä¹Ÿä¸ç”¨å»å®‰è£…vs2013çš„è¿è¡Œåº“äº†</strong>,å®æµ‹æ— è¯¯,å¤§å®¶å¿«äº›æ›´æ–°å§!<br><a id="more"></a></p>
<p>###2013å¹´12æœˆ3æ—¥æ›´æ–°<br>æ„Ÿè°¢å¾®åšå°ä¼™ä¼´<a href="http://weibo.com/1158210694/AlAcdvfWx" target="_blank" rel="noopener">@Hewen_Xie</a>çš„çº æ­£,åœ¨æ£€æµ‹ç¼“å†²æ—¶æ²¡æœ‰ä½¿ç”¨FullPath,å¯èƒ½å¯¼è‡´ç¼“å†²æ£€æµ‹å¤±æ•ˆ,å·²ä¸Šä¼ è‡³<a href="https://github.com/justbilt/CocosDenshion_win32/tree/master/win32" target="_blank" rel="noopener">github</a>,å¤§å®¶æ›´æ–°ä¸‹å°±OK!</p>
<p>###2013å¹´12æœˆ2æ—¥æ›´æ–°<br>ä¹‹å‰æ–‡ç« æœ‰ä¸¤ä¸ªé”™è¯¯,æ›´æ­£ä¸‹,å°ä¼™ä¼´ä»¬å¯¹ä¸ä½äº†!<br>1.<strong>å¿…é¡»è£…vs2013çš„è¿è¡Œåº“</strong>,ä¹‹å‰è¯´çš„é‚£ä¸ªä¸ç”¨è£…çš„æ–¹æ³•æ˜¯é”™è¯¯çš„,å¼•æ“ä½œè€…å¾ˆæ—©å°±ä½¿ç”¨vs2013å¼€å‘äº†,ç”¨åˆ«äººçš„ä¸œè¥¿å°±æ˜¯è›‹ç–¼,æ”¹å¤©ç ”ç©¶ä¸‹openALå§!</p>
<p>2.å¤§é‡æµ‹è¯•åå‘ç°OAEå¼•<strong>æ“æœ€å¤§æ”¯æŒç¼“å­˜256ä¸ªå£°éŸ³,ä¸€æ—¦è¶…å‡ºåä¼šå¡æ­»ç¨‹åº,</strong>æˆ‘å†™äº†ç¼“å†²æ± ä¿®å¤äº†è¿™ä¸ªé—®é¢˜,æ•ˆç‡ä¹Ÿæœ‰æ‰€æå‡.</p>
<p>##é—®é¢˜<br>åœ¨ä¸Šç¯‡æ–‡ç« ä¸­æŠ±æ€¨äº†ä¸‹<strong>SimpleAudioEngine</strong>åœ¨win32ä¸‹çš„å®ç°,æ€»ç»“ä¸€ä¸‹,æœ‰è¿™ä¹ˆå‡ ä¸ªç¼ºç‚¹:</p>
<p>1.<strong>å¾ªç¯æ’­æ”¾éŸ³æ•ˆçš„è¿”å›idæœ‰é—®é¢˜,ä¸å…¶ä»–å¹³å°å­˜åœ¨å·®å¼‚.</strong></p>
<p>2.<strong>æ¯æ¬¡æ’­æ”¾éŸ³æ•ˆéƒ½ä¼šå¼€å¯ä¸€ä¸ªçº¿ç¨‹,ioæ“ä½œ,å£°éŸ³ä¸€å¤š,å¡çš„ä¸æˆæ ·å­</strong></p>
<p>å…¶ä¸­ç¬¬2ç‚¹æ˜¯è‡´å‘½çš„,ä¿å«èåœ1å‡ºè¿‡ä¸€ä¸ª<a href="http://www.luobo.cn/pc/" target="_blank" rel="noopener">æ¡Œé¢ç‰ˆ</a>,ç”±äºå£°éŸ³çš„é—®é¢˜,<strong>å¼€ç€å£°éŸ³å‡ ä¹ä¸å¯ç©</strong>,å¤§å®¶å¯ä»¥ä¸‹ä¸€ä¸ªæ„Ÿå—ä¸€ä¸‹:<br><img src="http://ww2.sinaimg.cn/large/7f870d23jw1eb1z09u9awj20qn0bv0ul.jpg" alt=""></p>
<p>è¿™æ ·æ¥çœ‹,éš¾é“çœŸå¦‚ç‹å“²å¤§ç¥æ‰€è¯´,<strong>æ¡Œé¢ç‰ˆåªæ˜¯ä¸€ä¸ªç”¨æ¥è°ƒè¯•çš„ç‰ˆæœ¬</strong>?</p>
<p>å…¶å®ä¸ç„¶,å› ä¸ºcocos2d-xæ˜¯å¼€æºçš„,è€Œ<strong>SimpleAudioEngine</strong>åœ¨ä¸åŒå¹³å°ä¸‹åˆæœ‰ä¸åŒçš„å®ç°,è¿™æ ·æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„å»ä¿®æ”¹win32ä¸‹çš„å®ç°.</p>
<p>##è§£å†³æ–¹æ¡ˆ<br>æƒ³äº†ä¸‹,å†³å®šå…ˆæ”¾å‡ºè§£å†³æ–¹æ¡ˆ,ä¸‹é¢çš„æ–‡ç« å…¶å®å¯çœ‹å¯ä¸çœ‹çš„,æœ€ç»ˆæˆ‘é‡‡ç”¨çš„æ˜¯<strong>å…è´¹ä¸å¼€æº</strong>çš„OAEå£°éŸ³å¼•æ“,åŸºäºOpenALçš„äºŒæ¬¡å°è£…,OOP,ç®€å•æ˜“ç”¨.å¤§å®¶åªéœ€å‡ ä¸ªæ­¥éª¤å³å¯<strong>å®Œç¾è§£å†³</strong>win32ä¸‹çš„å£°éŸ³é—®é¢˜! <del>ç”±äºæœ€æ–°ç‰ˆçš„OAEä½¿ç”¨vs2013å¼€å‘,<strong>å¿…é¡»è£…vs2013çš„è¿è¡Œåº“</strong>!</del> <strong>(å·²ä¸ç”¨å®‰è£…)</strong></p>
<p><strong>æ³¨æ„:OpenAEæœ‰ä¸€ä¸ªç¼ºç‚¹,å°±æ˜¯åªæ”¯æŒoggæ–‡ä»¶.</strong></p>
<p>1.è§£å‹ç¼©ä»githubå°†<a href="https://github.com/justbilt/CocosDenshion_win32/archive/master.zip" target="_blank" rel="noopener">è¿™ä¸ª</a>æ‹½ä¸‹æ¥!</p>
<p>2.<strong>32ä½</strong>ç³»ç»Ÿå°†<code>lib/x86</code>ç›®å½•ä¸‹çš„<code>OpenAE.dll</code>,<code>OpenAL.dll</code>æ‹·è´åˆ°<code>Debug.win32</code>ç›®å½•ä¸‹,64ä½ç±»ä¼¼.</p>
<p>3.ç”¨<code>win32/</code> <strong>æ›¿æ¢æ‰</strong>ä½ å·¥ç¨‹<code>CocosDenshion/win32</code>ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶.</p>
<p>4.å¤§åŠŸå‘Šæˆ,æ’­æ”¾ä¸€å †å£°éŸ³è¯•è¯•å§.</p>
<p>5.æ¸¸æˆç»“æŸçš„æ—¶å€™ä¸€å®šè¦åœ¨AppDelegateçš„ææ„å‡½æ•°ä¸­è°ƒç”¨<code>SimpleAudioEngine::end()</code>,ä¸ç„¶ä¼šå› æ²¡æœ‰é‡Šæ”¾å†…å­˜è€Œå´©æºƒ,å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">AppDelegate::~AppDelegate()</span><br><span class="line">&#123;</span><br><span class="line">	CocosDenshion::SimpleAudioEngine::end();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>6.å°†<code>OpenAE.dll</code>,<code>OpenAL.dll</code>æ‹·è´åˆ°<code>cocos2dx/platform/third_party/win32/libraries</code>ä¸­,è¿™æ ·é‡æ–°ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨æ‹·è´åˆ°<code>Debug.win32</code>ç›®å½•ä¸‹.</p>
<p>å¥½äº†,æ˜¯ä¸æ˜¯ååˆ†å®¹æ˜“,<strong>ä¸‹é¢çš„å†…å®¹æ˜¯å†™å½“æ—¶è€ƒè™‘çš„ä¸€äº›ä¸œè¥¿åŠå®ç°çš„ä¸€äº›ç»†èŠ‚</strong>,å¦‚æœæœ‰ä»€ä¹ˆé”™è¯¯å’Œç–‘é—®,è¯·æŒ‡å‡º,è°¢è°¢!</p>
<p>##å£°éŸ³å¼•æ“çš„é€‰æ‹©<br>å¥½çš„,å¦‚æœä½ å¯¹win32ä¸‹çš„å£°éŸ³æ’­æ”¾æ¯”è¾ƒç†Ÿæ‚‰çš„è¯,ä½ å¯ä»¥çœ‹ä¸‹SimpleAudioEngineç°åœ¨çš„å®ç°,è¯•è¯•èƒ½å¦æ”¹çš„æ›´é«˜æ•ˆäº›!å¦åˆ™æˆ‘ä»¬åªèƒ½æ‰¾ä¸€ä¸ªç°æˆçš„å£°éŸ³å¼•æ“äº†.</p>
<p>###FMOD<br>è¯´èµ·å£°éŸ³å¼•æ“,FMODEå¿…é¡»æ˜¯é¦–é€‰å•Š,åŠŸèƒ½å¼ºå¤§,è·¨å¹³å°,ä¸ªäººä½¿ç”¨å…è´¹,ç®€å•æ˜“ç”¨,ä¹…ç»è€ƒéªŒ,å¥½å¤šç‰›é€¼çš„æ¸¸æˆå¼•æ“éƒ½ä½¿ç”¨å®ƒçš„,<a href="http://www.fmod.org/" target="_blank" rel="noopener">å®˜æ–¹ç½‘å€</a>,ä¸‹é¢æ˜¯ä½¿ç”¨å®ƒçš„å¼•æ“:</p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23jw1eb1zrn20prj20ok05ht8z.jpg" alt=""></p>
<p>ä½†æ˜¯ç”±äºå•†ç”¨æ˜¯æ”¶è´¹çš„,è€Œä¸”æˆ‘ä»¬ç”¨ä¸åˆ°é‚£ä¹ˆå¤šç‰›é€¼çš„åŠŸèƒ½,æ‰€ä»¥è¿™ä¸ªå°±passæ‰å’¯~</p>
<p>###OpenAL<br>å¦ä¸€ä¸ªç‰¹åˆ«æœ‰åçš„å°±æ”¶OpenAL(Open Audio Library)äº†,è¿™ä¸ªä¹Ÿæ˜¯å¤§åé¼é¼å•Š,è®©æˆ‘ä»¬çœ‹çœ‹ç»´åŸºç™¾ç§‘çš„ä»‹ç»:</p>
<blockquote>
<p>OpenALï¼ˆOpen Audio Libraryï¼‰æ˜¯è‡ªç”±è½¯ä»¶ç•Œçš„è·¨å¹³å°éŸ³æ•ˆAPIã€‚å®ƒè®¾è®¡ç»™å¤šé€šé“ä¸‰ç»´ä½ç½®éŸ³æ•ˆçš„ç‰¹æ•ˆè¡¨ç°ã€‚å…¶ API é£æ ¼æ¨¡ä»¿è‡ª OpenGLã€‚penAL æœ€åˆæ˜¯ç”± Loki Software æ‰€å¼€å‘ã€‚æ˜¯ä¸ºäº†å°† Windows å•†ä¸šæ¸¸æˆç§»æ¤åˆ° Linux ä¸Šã€‚Loki å€’é—­ä»¥åï¼Œè¿™ä¸ªé¡¹ç›®ç”±è‡ªç”±è½¯ä»¶ï¼å¼€æ”¾æºå§‹ç ç¤¾åŒºç»§ç»­ç»´æŠ¤ã€‚ä¸è¿‡ç°åœ¨æœ€å¤§çš„ä¸»å¯¼è€…ï¼ˆå¹¶å¤§é‡å‘å±•ï¼‰æ˜¯åˆ›æ–°ç§‘æŠ€ï¼Œå¹¶å¾—åˆ°æ¥è‡ª è‹¹æœå…¬å¸ å’Œè‡ªç”±è½¯ä»¶ï¼å¼€æ”¾æºä»£ç çˆ±å¥½è€…çš„æŒç»­æ”¯æŒã€‚</p>
</blockquote>
<p>ç°åœ¨å®˜æ–¹ç½‘ç«™è²Œä¼¼æ‰“ä¸å¼€,æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»<a href="http://kcat.strangesoft.net/openal.html" target="_blank" rel="noopener">è¿™é‡Œ</a>çœ‹çœ‹.OpenALååˆ†å¼ºå¤§,è¿™å°±æ„å‘³ç€è¦åœ¨çŸ­æ—¶é—´å¼„æ‡‚å®ƒå¹¶ä¸å®¹æ˜“,è¿™é‡Œæˆ‘ä»¬å°±ä¸è€ƒè™‘å®ƒäº†.</p>
<p>###OpenAE<br>æœ€ç»ˆæˆ‘é€‰æ‹©äº†OpenAE(Open Audio Engine),ä¸€ä¸ªåŸºäºOpenALçš„å£°éŸ³å¼•æ“,é¢å‘å¯¹è±¡,ä¸Šæ‰‹ååˆ†å®¹æ˜“(æˆ‘åªç”¨äº†10åˆ†é’Ÿå°±ä¼šç”¨äº†),è™½ç„¶ä¸å¼€æºä½†æ˜¯å…è´¹å•Š,è¿™å·²ç»è¶³å¤Ÿäº†.å®˜æ–¹ç½‘ç«™åœ¨<a href="http://www.openaudioengine.com/" target="_blank" rel="noopener">è¿™é‡Œ</a>,åŒæ—¶å¤§å®¶å¯ä»¥çœ‹çœ‹codeprojectä¸Šçš„<a href="http://www.codeproject.com/Tips/674472/Open-Audio-Engine" target="_blank" rel="noopener">è¿™ä¸ªç¤ºä¾‹</a>.</p>
<p><img src="http://ww2.sinaimg.cn/large/7f870d23jw1eb20ikphx4j20u00df75l.jpg" alt=""></p>
<p>##æ”¹åŠ¨<br>å…¶å®è¦æ”¹åŠ¨çš„åœ°æ–¹å¾ˆå¤š,ä¹‹å‰çš„å®ç°åŸºæœ¬è¦é‡å†™,ä¸‹é¢æˆ‘ä»‹ç»ä¸‹è¦ç‚¹:</p>
<p>1.é¦–å…ˆæˆ‘ä»¬è¦åˆå§‹åŒ–å¼•æ“,ç”±äºSimpleAudioEngineæ˜¯å•ä¾‹,æ‰€ä»¥å®ƒçš„<strong>æ„é€ å‡½æ•°</strong>å°±æŒºå¥½:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">SimpleAudioEngine::SimpleAudioEngine()</span><br><span class="line">&#123;</span><br><span class="line">	HINSTANCE lib = LoadLibrary(<span class="string">"OpenAE.dll"</span>); <span class="comment">//åŠ è½½å¼•æ“</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//å¾—åˆ°è®¾å¤‡åˆ—è¡¨åœ°å€</span></span><br><span class="line">	oae::Renderer* (*driver)(<span class="keyword">const</span> <span class="keyword">char</span>*,<span class="keyword">const</span> <span class="keyword">unsigned</span>&amp;) = <span class="literal">nullptr</span>;</span><br><span class="line">	driver = (oae::Renderer*(*)(<span class="keyword">const</span> <span class="keyword">char</span>*,<span class="keyword">const</span> <span class="keyword">unsigned</span>&amp;)) </span><br><span class="line">		GetProcAddress(lib, <span class="string">"GetRenderDevice"</span>); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//å¾—åˆ°è®¾å¤‡åˆ—è¡¨</span></span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span>* (*available)(<span class="keyword">unsigned</span> <span class="keyword">int</span>&amp;) = <span class="literal">nullptr</span>;</span><br><span class="line">	available = (<span class="keyword">const</span> <span class="keyword">char</span>*(*)(<span class="keyword">unsigned</span> <span class="keyword">int</span>&amp;)) GetProcAddress(lib, <span class="string">"GetDeviceName"</span>); </span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ‰“å°å¯ç”¨è®¾å¤‡çš„åˆ—è¡¨</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">unsigned</span> j=<span class="number">0</span>; available(j)!=<span class="literal">nullptr</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		CCLog(available(j));</span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	<span class="comment">//é»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªè®¾åˆ«å»åˆ›å»ºRenderer,48000æ˜¯ç«¯å£å·éšä¾¿å¡«</span></span><br><span class="line">	<span class="keyword">unsigned</span> choice=<span class="number">0</span>; </span><br><span class="line">	oae::Renderer* dev = driver(available(choice), <span class="number">48000</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿™è¡Œä»£ç ååˆ†è¯¡å¼‚,è²Œä¼¼æ²¡æœ‰ä»€ä¹ˆç”¨å¤„,ä½†æ˜¯ä¸è°ƒç”¨å°±æ˜¯æ— æ³•æ’­æ”¾å£°éŸ³</span></span><br><span class="line">	oae::Listener* lis = dev-&gt;GetListener();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç”±äºåˆ›å»ºå£°éŸ³å’Œæœ€ç»ˆé‡Šæ”¾èµ„æºä¼šç”¨åˆ°è¿™ä¸¤ä¸ªæŒ‡é’ˆ,æ‰€ä»¥æˆ‘ä»¥staticæ–¹å¼å­˜åœ¨çš„MciPlayerä¸­</span></span><br><span class="line">	MciPlayer::lib=lib;</span><br><span class="line">	MciPlayer::dev=dev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.æ›´æ”¹MciPlayerçš„å®ç°,å¯¹oae,æ¯ä¸€ä¸ªå£°éŸ³çš„å®ä¾‹æ˜¯<code>oae::Screamer</code>,æˆ‘ä»¬åœ¨<code>open</code>ä¸­å»åˆ›å»ºå®ƒ:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MciPlayer::Open(<span class="keyword">const</span> <span class="keyword">char</span>* pFileName, UINT uId)</span><br><span class="line">&#123;</span><br><span class="line">	m_scr=dev-&gt;GetScreamer(pFileName);</span><br><span class="line">	assert(m_scr!=<span class="literal">NULL</span> &amp;&amp; <span class="string">"Only suppost .ogg file!"</span>);</span><br><span class="line">	m_strFileName=pFileName;</span><br><span class="line">	</span><br><span class="line">	m_nSoundID=uId;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3.æ›´æ”¹<code>playEffect</code>è¿”å›å€¼streameIDçš„ç”Ÿæˆæ–¹å¼,å˜ä¸ºé€’å¢çš„å°±OK:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> _StreameID()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> nSteameID=<span class="number">0</span>;</span><br><span class="line">	++nSteameID;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> nSteameID;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä»–æ”¹åŠ¨çš„åœ°æ–¹ä¹Ÿå¾ˆå¤š,å¤§å®¶å¯ä»¥ç›´æ¥å»çœ‹æºç ,ä¸‹é¢æœ‰ä¸‹è½½åœ°å€.</p>
<p>##åè¯</p>
<p>å…·ä½“å®ç°ä»€ä¹ˆçš„éƒ½åœ¨æºç é‡Œ,å¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹,ç»è¿‡æœ¬äººæµ‹è¯•,<strong>æ²¡æœ‰å‘ç°ä»»ä½•é—®é¢˜,å¹¶ä¸”å·²ç»åº”ç”¨åˆ°äº†ç°åœ¨çš„é¡¹ç›®ä¸­</strong>,å¦‚æœé‡åˆ°äº†ä»€ä¹ˆé—®é¢˜,ç•™è¨€å‘Šè¯‰æˆ‘.</p>
<p><strong>(å…¨æ–‡å®Œ)</strong></p>
]]></content>
      
        
        <tags>
            
            <tag> cocos2d-x </tag>
            
            <tag> éŸ³æ•ˆ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä»ä¿å«èåœçœ‹cocos2d-xå¾ªç¯æ’­æ”¾éŸ³æ•ˆçš„é—®é¢˜]]></title>
      <url>http://blog.justbilt.com/2013/11/28/cocos2dx_loop_sound/</url>
      <content type="html"><![CDATA[<p>##èµ·å› <br>ä¿å«èåœ2å‰å‡ å¤©ä¸Šioså¹³å°äº†,ç«‹åˆ»ä¸‹äº†ä¸€ä¸ªç©,å§æ§½,å„ç§å‘†èŒè ¢è´±å•Š,æœ‰ä¸€ä¸ªå¡”æŒºæœ‰æ„æ€,<strong>é­”æ³•çƒ</strong>:<br><a id="more"></a><br><img src="http://ww1.sinaimg.cn/large/7f870d23jw1eb0uj0md4qj20sh0ixn32.jpg" alt=""></p>
<p>è¿™ç§å¡”çš„æ”»å‡»åŠ›è™½ç„¶ä½,ä½†æ˜¯æ”»å‡»é€Ÿåº¦å¿«å•Š,è€Œä¸”å‡çº§åè¿˜èƒ½æ”»å‡»å¤šä¸ªç›®æ ‡,ç”¨åœ¨å¯¹ä»˜è¡€å°‘é€Ÿåº¦å¿«çš„æ€ªç‰©å†é€‚åˆä¸è¿‡äº†.ç©äº†æŒºä¹…å‘ç°è¿™ä¸ªå¡”çš„éŸ³æ•ˆæœ‰äº›é—®é¢˜:</p>
<ol>
<li><p>å±å¹•ä¸­æœ‰å¤šä¸ªé­”æ³•çƒå¡”æ—¶,å–æ‰å…¶ä¸­ä¸€ä¸ªå¯èƒ½ä¼šå¯¼<strong>è‡´æ‰€æœ‰é­”æ³•çƒå¡”çš„éŸ³æ•ˆåœæ­¢.</strong></p>
</li>
<li><p>æœ‰æ—¶å€™å–æ‰æ‰€æœ‰çš„é­”æ³•çƒå¡”,ä½†<strong>æ˜¯å£°éŸ³è¿˜åœ¨æ’­æ”¾!</strong></p>
</li>
</ol>
<p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘æ˜¯ä¸ä¼šmindè¿™ç§ç»†èŠ‚çš„,ä½†ç”±äºä¿å«èåœæ˜¯ç”¨cocos2d-xåˆ¶ä½œçš„,æ‰€ä»¥æˆ‘ç¨å¾®å¤šæƒ³äº†ä¸€ä¸‹:</p>
<p>çŒœæƒ³1:ç”±äºæ”»å‡»é€Ÿåº¦ååˆ†å¿«,æ‰€ä»¥æˆ‘å‡è®¾é­”æ³•çƒè¿™ä¸ªå¡”çš„éŸ³æ•ˆæ’­æ”¾å’Œå…¶ä»–çš„å¡”ä¸å¤ªä¸€æ ·,å¯èƒ½æ˜¯è¿™ä¸ªæ ·å­çš„:<strong>åˆ‡æ¢ä¸ºæ”»å‡»æ¨¡å¼æ—¶å¾ªç¯æ’­æ”¾éŸ³æ•ˆ,åˆ‡æ¢ä¸ºå¾…æœºæ¨¡å¼æ—¶åœæ­¢éŸ³æ•ˆ!</strong><br>çŒœæƒ³2. å¦‚æœå‡è®¾æˆç«‹,è¿™ä¸ªéŸ³æ•ˆç”±äºä¼šå¾ªç¯æ’­æ”¾,å¦‚æœå£°éŸ³å¤ªåµçš„è¯,ä¼š<strong>ååˆ†çš„åµ</strong>,èåœæ˜¾ç„¶æ³¨æ„åˆ°äº†è¿™ç‚¹.<br>çŒœæƒ³3. æ‰€æœ‰çš„é­”æ³•çƒå¡”ä¼š<strong>å…¬ç”¨ä¸€ä¸ªç‰¹æ•ˆå£°éŸ³,</strong>è¦ä¸é€ çš„å¡”å¤šäº†å°±æ ¹æœ¬æ²¡æ³•å¼€å£°éŸ³ç©äº†!</p>
<p><strong>ç»†æ€ææ,å…¶å®è¿™åº§å¡”çš„éŸ³æ•ˆæ’­æ”¾é€»è¾‘ååˆ†çš„å¤æ‚!</strong></p>
<p>##éªŒè¯<br>ä¸‹é¢è®©æˆ‘éªŒè¯ä¸‹æˆ‘çš„çŒœæƒ³,çœ‹çœ‹èƒ½å¦å¸®èåœè§£å†³è¿™ä¸ªé—®é¢˜!</p>
<p>###éªŒè¯1:å¾ªç¯æ’­æ”¾éŸ³æ•ˆ<br>è¿™ä¸ªååˆ†ç®€å•,æˆ‘åœ¨ä¿å«èåœ2çš„èµ„æºä¸­æ‰¾åˆ°äº†<code>CarrotFantasy.app\Music\Towers\Ball.mp3</code>,çœ‹äº†æ—¶é•¿1så·¦å³,ä½†æ˜¯é­”æ³•çƒå¡”çš„æ”»å‡»é€Ÿåº¦ç»å¯¹å¤§äº2æ¬¡,å¼€2å€é€Ÿçš„ä¼šå¤§äº4æ¬¡,1sæ’­æ”¾4æ¬¡éŸ³æ•ˆ,æ²¡æœ‰äººä¼šè¿™ä¹ˆåš!æ‰€ä»¥é­”æ³•çƒå¡”æ˜¯å¾ªç¯æ’­æ”¾éŸ³æ•ˆçš„!</p>
<p>###éªŒè¯2:éŸ³æ•ˆçš„ç‰¹æ€§<br>è¿™ä¸ªå¤§å®¶å¬ä¸€ä¸‹å°±ä¼šçŸ¥é“äº†,é­”æ³•çƒçš„å¡”æ··åœ¨å…¶ä»–å¡”çš„éŸ³æ•ˆé‡Œå®åœ¨æ˜¯å¤ªå¼±äº†!ä¸ºæ­¤,æˆ‘è¿˜<strong>å‡è£…å¾ˆä¸“ä¸š</strong>çš„ç”¨GoldWaveæŸ¥çœ‹äº†ä¸€ä¸‹:<br><img src="http://ww1.sinaimg.cn/large/7f870d23jw1eb0xzlrpzxj217s0hv44w.jpg" alt=""><br>å›¾ä¸­ä¸Šé¢çš„å£°éŸ³æ˜¯ç“¶å­ç‚®çš„å£°éŸ³,ä¸‹é¢æ˜¯é­”æ³•çƒçš„å£°éŸ³,ä»å›¾ä¸Šå¯ä»¥çœ‹å‡º,è™½ç„¶é­”æ³•çƒçš„å£°éŸ³å¾ˆé•¿,ä½†æ˜¯åªæœ‰åœ¨0.65sæ—¶å£°éŸ³è¾ƒå¤§,å…¶ä»–æ—¶å€™å£°éŸ³éƒ½å¾ˆå°!</p>
<p>###éªŒè¯3.å…¬ç”¨ä¸€ä¸ªéŸ³æ•ˆ</p>
<p>å¼€å¯å¾ªç¯æ’­æ”¾éŸ³æ•ˆååˆ†ç®€å•,åªéœ€åœ¨<code>playEffect(&quot;1.ogg&quot;,true)</code>æ—¶ç¬¬äºŒä¸ªå‚æ•°å¡«trueå³å¯,è¿™æ—¶playEffectä¼šè¿”å›ä¸€ä¸ª<code>unsigned int</code>ç±»å‹çš„<code>id</code>,è¿™ä¸ªidä¼šç”¨äº<code>stopEffect(id)</code>,å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> uID=SimpleAudioEngine::sharedEngine()-&gt;playEffect(<span class="string">"1.ogg"</span>, <span class="literal">true</span>);<span class="comment">//å¼€å§‹å¾ªç¯æ’­æ”¾</span></span><br><span class="line"></span><br><span class="line">SimpleAudioEngine::sharedEngine()-&gt;stopEffect(nID);<span class="comment">//åœæ­¢æ’­æ”¾</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çœ‹èµ·æ¥ä¼¼ä¹å¾ˆç®€å•å˜›,æ”»å‡»çš„æ—¶å€™æ’­,é¡ºå¸¦è®°ä¸‹ID,å¾…æœºçš„æ—¶å€™åœ,è¿™ä¹ˆç®€å•,èåœçš„ç¨‹åºå¤ªå·®äº†å§,è¿™éƒ½èƒ½å†™é”™!å…¶å®ä¸ç„¶,è¿™åªæ˜¯åœºæ™¯ä¸­åªæœ‰ä¸€åº§å¡”æ—¶çš„æƒ…å†µ!</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹å¦‚æœæˆ‘ä»¬è¿ç»­è°ƒç”¨å¤šæ¬¡playEffect,ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜?æˆ‘åšäº†æµ‹è¯•é¡¹ç›®,å°†æ¯æ¬¡playEffectçš„è¿”å›IDæ‰“åœ¨å±å¹•ä¸Š,win32æˆªå›¾å¦‚ä¸‹:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23jw1eb0wcy5p7pj20di09l74r.jpg" alt=""></p>
<p>é¢,ä½ æ²¡æœ‰çœ‹é”™,win32ä¸‹æ’­æ”¾åŒä¸€ä¸ªéŸ³æ•ˆè¿”å›çš„idéƒ½æ˜¯ä¸€æ ·çš„,åªè¦ç‚¹å‡»ä¸€ä¸‹åœæ­¢å°±å…¨éƒ¨éƒ½åœäº†,ä¸ºä»€ä¹ˆå‘¢?è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹win32<br>ä¸‹å£°éŸ³çš„idæ˜¯æ€ä¹ˆç”Ÿæˆçš„å§,åœ¨SimpleAudioEngineä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ®µä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ’­æ”¾éŸ³æ•ˆçš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> SimpleAudioEngine::playEffect(<span class="keyword">const</span> <span class="keyword">char</span>* pszFilePath, <span class="keyword">bool</span> bLoop)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> nRet = _Hash(pszFilePath);<span class="comment">//å¯ä»¥æ–­å®šnRetå°±æ˜¯è¿”å›çš„id</span></span><br><span class="line"></span><br><span class="line">    preloadEffect(pszFilePath);</span><br><span class="line"></span><br><span class="line">    EffectList::iterator p = sharedList().find(nRet);</span><br><span class="line">    <span class="keyword">if</span> (p != sharedList().end())</span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;second-&gt;Play((bLoop) ? <span class="number">-1</span> : <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> nRet;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆidçš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> _Hash(<span class="keyword">const</span> <span class="keyword">char</span> *key)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> len = <span class="built_in">strlen</span>(key);</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *end=key+len;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> hash;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (hash = <span class="number">0</span>; key &lt; end; key++)</span><br><span class="line">    &#123;</span><br><span class="line">        hash *= <span class="number">16777619</span>;</span><br><span class="line">        hash ^= (<span class="keyword">unsigned</span> <span class="keyword">int</span>) (<span class="keyword">unsigned</span> <span class="keyword">char</span>) <span class="built_in">toupper</span>(*key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (hash);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸‹æ˜ç™½äº†å§,<strong>win32ä¸‹çš„idæ˜¯æ ¹æ®éŸ³æ•ˆçš„è·¯å¾„pszFilePathç®—å‡ºæ¥çš„</strong>,è¿™ä¸€ç‚¹ç¡®å®æ¯”è¾ƒå‘,å¤§å®¶ä»¥åè¦æ³¨æ„ä¸€ä¸‹!ä¸‹é¢æˆ‘çœ‹ä¸€ä¸‹åœ¨androidä¸Šçš„æ•ˆæœå§!</p>
<p><img src="http://ww3.sinaimg.cn/large/7f870d23jw1eb1p27ln4tj208p0fkmx6.jpg" alt=""></p>
<p>adnroidç‰ˆæ˜¯æ­£å¸¸çš„,æ¯æ¬¡playEffectè¿”å›çš„idä¼šé€’å¢,å¯ä»¥æ˜æ˜¾çš„å¬å‡ºåˆå¤šäº†ä¸€ä¸ªéŸ³æ•ˆ,å½“æˆ‘éŸ³æ•ˆå äº†5å±‚ä¹‹åå·²ç»å¾ˆä¹±äº†,ä½†æ˜¯èåœçš„æ˜¾ç„¶ä¸æ˜¯å¦‚æ­¤,æ‰€ä»¥æ‰€æœ‰çš„é­”æ³•çƒå…±ç”¨ä¸€ä¸ªéŸ³æ•ˆæ˜¯æ­£ç¡®çš„!</p>
<p><strong>æ³¨æ„:è¿™é‡Œä¸€å®šè¦æå‰preloadEffect,ä¸ç„¶ç¬¬ä¸€æ¬¡è¿”å›çš„idæ˜¯0,è¿™æ ·é‚£ä¸ªéŸ³æ•ˆå°±æ°¸è¿œåœä¸ä¸‹æ¥äº†!</strong></p>
<p>##åˆ†æ<br>åŸºäºä»¥ä¸ŠçŒœæƒ³,æˆ‘ä»¬æ¥åˆ†æä¸‹é­”æ³•çƒå¡”çš„é€»è¾‘:<br>1.å¯¹äºå•ä¸ªçš„é­”æ³•çƒå¡”,ç”±äºå¤šç›®æ ‡,æ‰€ä»¥è¦ç›‘å¬ç›®æ ‡æ•°é‡çš„å˜åŒ–,å½“<code>target_count&gt;0</code>æ—¶,å¼€å§‹æ’­æ”¾éŸ³æ•ˆ,å½“<code>target_count=0</code>æ—¶,åœæ­¢æ’­æ”¾éŸ³æ•ˆ.<br>2.å–æ‰å¡”æ—¶,å¦‚æœå¤„äºæ”»å‡»çŠ¶æ€,åº”è¯¥è°ƒç”¨åœæ­¢æ’­æ”¾éŸ³æ•ˆ.<br>3.å¯¹äºæ‰€æœ‰çš„é­”æ³•çƒå¡”,éŸ³æ•ˆåº”è¯¥é‡‡ç”¨ç±»æ­¤å¼•ç”¨è®¡æ•°çš„æ–¹æ³•,æ¯è°ƒç”¨ä¸€æ¬¡<code>++m_uReference;</code>,æ¯åœæ­¢ä¸€æ¬¡<code>--m_uReference;</code>,å½“<code>m_uReference==0</code>æ—¶è°ƒç”¨çœŸæ­£çš„åœæ­¢éŸ³æ•ˆæ–¹æ³•.</p>
<p>å˜¿å˜¿,ä»¥ä¸Šçº¯å±ä¸ªäººè§è§£,æœ¬äººä¸å¯¹æ­¤è´Ÿä»»ä½•è´£ä»»!</p>
<p>##æ€»ç»“<br>ç»¼ä¸Šæ‰€è¿°,æˆ‘ä»¬åœ¨ç¼–å†™æ¸¸æˆéŸ³æ•ˆé€»è¾‘çš„ä»£ç æ—¶,è¦æ³¨æ„:<br>1.å¾ªç¯éŸ³æ•ˆå¤šæ¬¡æ’­æ”¾åœ¨windowsä¸Šæœ‰é—®é¢˜,å¯ä»¥è€ƒè™‘åœ¨androidæˆ–iosç«¯è°ƒè¯•.<br>2.éŸ³æ•ˆä¸€å®šè¦preloadEffect.</p>
<p><strong>(å…¨æ–‡å®Œ)</strong></p>
]]></content>
      
        
        <tags>
            
            <tag> cocos2d-x </tag>
            
            <tag> éŸ³æ•ˆ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å¼¯ç®¡(æ‹è§’)å¯¹æ–¹å‘çš„æ”¹å˜]]></title>
      <url>http://blog.justbilt.com/2013/11/03/elbow/</url>
      <content type="html"><![CDATA[<p>ç›¸ä¿¡å¤§å®¶ç©è¿‡ç±»ä¼¼ç”¨æ¥æ°´ç®¡çš„æ¸¸æˆ:</p>
<p><img src="http://ww4.sinaimg.cn/large/7f870d23jw1ea3z15mhgyj208c069jrj.jpg" alt=""></p>
<p>æ°´æµé¡ºç€æ°´ç®¡çš„ä¸€å¤´æµå‘å¦ä¸€å¤´,ä½†æ˜¯ç›´ç®¡é€šè¿‡,é‡åˆ°å¼¯ç®¡æ”¹å˜æ–¹å‘,é‚£ä¹ˆç©¶ç«Ÿæ˜¯å¦‚ä½•æ”¹å˜æ–¹å‘çš„å‘¢?<br>ä»”ç»†è§‚å¯Ÿä¸€ä¸‹,ä¸éš¾å‘ç°,å¼¯ç®¡åªæ˜¯å°†æ°´æµçš„æ–¹å‘<strong>æ—‹è½¬äº†90åº¦</strong>,æœ‰äº†è§„å¾‹å°±å¥½åŠäº†!</p>
<a id="more"></a>
<p>1.è®©æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªæ–¹å‘çš„æšä¸¾,è¡¨ç¤ºå½“å‰æ°´æµçš„æ–¹å‘:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> ETileDirection</span><br><span class="line">&#123;</span><br><span class="line">    ED_UP,</span><br><span class="line">    ED_RIGHT,</span><br><span class="line">    ED_DOWN,</span><br><span class="line">    ED_LEFT,</span><br><span class="line">    ED_TICK_COUNT,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæšä¸¾å®šä¹‰å¯ä»¥æ˜¯é¡ºæ—¶é’ˆ,ä¹Ÿå¯ä»¥æ˜¯é€†æ—¶é’ˆ,ä½†ä¸€å®šè¦æ˜¯<strong>è¿ç»­</strong>çš„!</p>
<p>2.å½“åœ°å›¾ç¼–è¾‘å¥½å,æˆ‘ä»¬ä¼šè·å¾—ä¸€ä¸ªäºŒç»´æ•°ç»„,é€šè¿‡ä¸€ä¸ªx,yå‚æ•°å°±èƒ½å–å¾—æŸä¸ªåæ ‡ä¸Šçš„å›¾å—,æ ¹æ®å›¾å—çš„åŠŸèƒ½,æˆ‘ä»¬å¯ä»¥è®²å›¾å—åˆ†ä¸º:<strong>å…¥å£</strong>, <strong>å‡ºå£</strong>, <strong>ç›´ç®¡</strong>, <strong>å¼¯ç®¡</strong>, äºæ˜¯æˆ‘ä»¬å¯ä»¥å†å®šä¹‰ä¸€ä¸ªæšä¸¾:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> ETileType</span><br><span class="line">&#123;</span><br><span class="line">    ET_ENTRANCE,</span><br><span class="line">    ET_EXIT,</span><br><span class="line">    ET_STRAIGHT,</span><br><span class="line">    ET_ELBOW,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>3.ä»”ç»†æƒ³æƒ³,é™¤äº†ç›´ç®¡æ¯ä¸€ç§ç±»å‹çš„å›¾å—éƒ½ä¼šæœ‰,éƒ½ä¼šæœ‰å››ä¸ªæ–¹å‘,å¯¹äºå…¥å£,ä¼šæœ‰å‘å·¦çš„,å‘å³çš„,å‘ä¸‹çš„,å‘ä¸Šçš„,ç»ˆç‚¹,å¼¯ç®¡ä¹Ÿæ˜¯å¦‚æ­¤!è¿™æ ·çš„è¯,æˆ‘ä»¬ä¸€ä¸ªå›¾å—çš„å±æ€§éƒ½ä¼šæœ‰ä¸¤ä¸ª,<strong>ç±»å‹</strong> å’Œ <strong>æ–¹å‘</strong>,æˆ‘ä»¬ç”¨ä¸€ä¸ªç»“æ„ä½“æ¥è¡¨ç¤º:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">STile</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ETileType eType;</span><br><span class="line">    ETileDirection eDirection;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>4.å¦‚ä¸‹é¢è¿™ä¸ªç –å—:</p>
<p><img src="http://ww1.sinaimg.cn/large/7f870d23jw1ea7hnpwq2qj205z062mx5.jpg" alt=""></p>
<p>å½“æ°´æµä»å³ä¾§è¿›å…¥æ—¶æ°´æµçš„æ–¹å‘ä¹Ÿæ˜¯<strong>ED_LEFT</strong>,å‡ºå»çš„æ°´æµæ–¹å‘æ˜¯ä»€ä¹ˆå‘¢?æ˜¯<strong>ED_LEFT+1</strong>,å› ä¸ºæ–¹å‘çš„å¯èƒ½åªæœ‰4ä¸ª,æ‰€ä»¥æˆ‘ä»¬éœ€è¦å’Œæ–¹å‘çš„æ€»æ•°é‡å–ä½™,å³<code>(eDir+1)%ED_TICK_COUNT</code>ä¸º<strong>ED_UP</strong>.</p>
<p>å½“æ°´æµæ˜¯ä»ä¸Šæ–¹è¿›å…¥æ—¶æ–¹å‘ä¸º<strong>ED_DOWN</strong>,å‡ºå»æ—¶çš„æ–¹å‘ä¸º<strong>ED_DOWN-1</strong>,ä½†æ˜¯å‡å®Œæœ‰å¯èƒ½ä¼šå‡ºç°è´Ÿæ•°,æ‰€ä»¥æˆ‘ä»¬å…ˆæ‰©å¤§ä¸€ä¸ªå‘¨æœŸåœ¨å‡ç„¶åå–ä½™,å³<code>((eDir+ED_TICK_COUNT)-1)%ED_TICK_COUNT</code>ä¸º<strong>ED_RIGHT</strong>.</p>
<p>é‚£ä¹ˆå¦‚ä½•åŒºåˆ†æ˜¯é¡ºæ—¶é’ˆè¿˜æ˜¯é€†æ—¶é’ˆå‘¢?æˆ‘ä»¬ä¹‹å‰Tileçš„<code>eDirection</code>å±æ€§å°±æ´¾ä¸Šç”¨åœºäº†,æˆ‘ä»¬å°†è¿™ä¸ªå›¾å—çš„æ–¹å‘å±æ€§è®¾ç½®ä¸º<code>ED_LEFT</code>,ç»†æ€ä¹‹åä¼šå‘ç°å½“å›¾å—çš„æ–¹å‘å’Œæ°´æµæ–¹å‘ä¸€è‡´æ—¶<code>+1</code>,ä¸ä¸€è‡´æ—¶<code>-1</code>.</p>
<p>å¥½å§,è¯´äº†è¿™ä¹ˆä¹…,è®©æˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„é€»è¾‘å¦‚ä½•å†™å§?</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ETileDirection <span class="title">changeDirection</span><span class="params">(ETileDirection eDir,<span class="keyword">const</span> STile* pProfile )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ASSERT(pProfile-&gt;eType==ET_ELBOW);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (pProfile-&gt;eDirection==eDir)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> (ETileDirection)(((eDir+ED_TICK_COUNT)<span class="number">-1</span>)%ED_TICK_COUNT);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> (ETileDirection)((eDir+<span class="number">1</span>)%ED_TICK_COUNT);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæœ‰ä»€ä¹ˆä¸æ˜ç™½çš„,ç•™è¨€å‘Šè¯‰æˆ‘!</p>
<p><strong>å…¨æ–‡å®Œ</strong></p>
]]></content>
      
        
        <tags>
            
            <tag> æ¸¸æˆå¿ƒå¾— </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[TiledMap Tips]]></title>
      <url>http://blog.justbilt.com/2013/10/16/cocos2d-x-tiledmap-tips/</url>
      <content type="html"><![CDATA[<h3 id="ä¸€-æ–­è¨€-TMX-Only-1-tileset-per-layer-is-supported-å´©æºƒ"><a href="#ä¸€-æ–­è¨€-TMX-Only-1-tileset-per-layer-is-supported-å´©æºƒ" class="headerlink" title="ä¸€.æ–­è¨€ TMX: Only 1 tileset per layer is supported å´©æºƒ:"></a>ä¸€.æ–­è¨€ TMX: Only 1 tileset per layer is supported å´©æºƒ:</h3><a id="more"></a>
<p>åŠ è½½åœ°å›¾æ—¶å¼¹å‡ºæ–­è¨€å¤±è´¥çª—å£,è·Ÿè¸ªè¿›å»å‘ç°å´©æ¯åœ°ç‚¹:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CCAssert( m_uMaxGID &gt;= m_pTileSet-&gt;m_uFirstGid &amp;&amp;</span><br><span class="line">    m_uMinGID &gt;= m_pTileSet-&gt;m_uFirstGid, <span class="string">"TMX: Only 1 tileset per layer is supported"</span>);</span><br></pre></td></tr></table></figure></p>
<p>ä»æ–­è¨€ä¸­çš„æç¤ºå°±å¯ä»¥çœ‹å‡º:ä¸€å¼ å›¾å±‚ä¸Šåªæ”¯æŒä¸€ä¸ªä¸€ä¸ªå›¾å—é›†åˆ<br>å°±æ˜¯è¯´ç¼–è¾‘å™¨ä¸­çš„æ¯ä¸€å±‚åªèƒ½ä½¿ç”¨ä¸€ä¸ªå›¾å—é›†åˆä¸­çš„å›¾å—,ä¸èƒ½ä½¿ç”¨å…¶ä»–å›¾å—é›†åˆä¸­çš„å›¾å—!</p>
<h3 id="äºŒ-tileGIDAtè¿”å›æ•°æ®å¼‚å¸¸"><a href="#äºŒ-tileGIDAtè¿”å›æ•°æ®å¼‚å¸¸" class="headerlink" title="äºŒ.tileGIDAtè¿”å›æ•°æ®å¼‚å¸¸:"></a>äºŒ.tileGIDAtè¿”å›æ•°æ®å¼‚å¸¸:</h3><p>æˆ‘ä»¬ç”¨tileGIDAtè·å–æŸä¸€å±‚ä¸Šçš„æŸä¸€æ ¼å¯¹åº”çš„å›¾å—ID,GIDæ˜¯ä»€ä¹ˆå‘¢?å¯ä»¥ç†è§£ä¸ºå…¨å±€å”¯ä¸€ID,è€Œæˆ‘ä»¬çš„å›¾å—é›†åˆå¯èƒ½ä¼šæœ‰å¤šä¸ª,æ‰€ä»¥æ¯ä¸ªçš„å›¾å—çš„IDä¸æ˜¯ä»è¯¥å›¾å—é›†åˆ1,2,3â€¦è¿™æ ·çš„,è€Œæ˜¯ç´§æ¥ç€ä¸Šä¸€ä¸ªå›¾å—é›†åˆçš„æœ€åä¸€ä¸ªIDé¡ºåºä¸‹æ¥çš„!</p>
<p>æ‰€ä»¥æˆ‘ä»¬è¦è·å¾—æ­£ç¡®çš„ID,åº”è¯¥:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cocos2d::CCTMXLayer *towerLayer = <span class="built_in">map</span>-&gt;layerNamed(<span class="string">"tower"</span>);</span><br><span class="line">cocos2d::CCTMXTilesetInfo *towerSet = towerLayer-&gt;getTileSet();</span><br><span class="line"><span class="keyword">int</span> nGid = towerLayer-&gt;tileGIDAt(ccp(<span class="number">0</span>, <span class="number">0</span>)) - towerSet-&gt;m_uFirstGid;</span><br><span class="line"><span class="keyword">if</span>(nGid &gt;= <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å…ˆè·å–è¿™ä¸€å±‚å¯¹åº”çš„å›¾å—é›†åˆçš„é¦–ID,ç„¶åç›¸å‡å°±è·å¾—äº†æ­£ç¡®çš„ID.</p>
<h3 id="ä¸‰-æ‹¼æ¥å‡ºç°è£‚ç—•-é»‘çº¿"><a href="#ä¸‰-æ‹¼æ¥å‡ºç°è£‚ç—•-é»‘çº¿" class="headerlink" title="ä¸‰.æ‹¼æ¥å‡ºç°è£‚ç—•(é»‘çº¿)"></a>ä¸‰.æ‹¼æ¥å‡ºç°è£‚ç—•(é»‘çº¿)</h3><p><strong>1.å¿«é€Ÿè§£å†³æ–¹æ¡ˆ</strong></p>
<p>ä¿®æ”¹ccConfig.hä¸­çš„CC_FIX_ARTIFACTS_BY_STRECHING_TEXEL:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CC_FIX_ARTIFACTS_BY_STRECHING_TEXEL</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CC_FIX_ARTIFACTS_BY_STRECHING_TEXEL 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p>
<p>å¤§ä½“çš„ä½œç”¨æ˜¯ç”¨å®é™…å›¾ç‰‡çš„99%æ¥åˆ›å»ºçº¹ç†,è¿™æ ·è¾¹ç¼˜ä¸€äº›ç»†å¾®åŒ–çš„å·®è·å°±ä¼šè¢«å¿½ç•¥æ‰!</p>
<p><strong>2.å®Œç¾è§£å†³æ–¹æ¡ˆ</strong></p>
<p>ç”¨1çš„æ–¹æ³•æ¥è§£å†³é—®é¢˜æ˜¯æœ€å¿«çš„,ä½†æ˜¯ä¼šå¸¦æ¥ä¸€äº›å‰¯ä½œç”¨,æŸ¥æ‰¾ä¸‹CC_FIX_ARTIFACTS_BY_STRECHING_TEXELè¿™ä¸ªå®,ä¼šå‘ç°æœ‰4ä¸ªåœ°æ–¹éƒ½ç”¨åˆ°äº†:</p>
<p><img src="/img/b39a481b6b66a40162dad2a2c52008f99129cb83.jpg" alt=""></p>
<p>åˆ†åˆ«æ˜¯CCSprite,CCLabelAtlas,CCParticleSystemQuad,CCTileMapAtlas,å…¶ä¸­åªæœ‰CCTileMapAtlasçš„æ”¹å˜ä½¿æˆ‘ä»¬æƒ³è¦çš„,è€ŒCCSpriteæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„æ¥å£,è¿™å°†ä¼šå¯¼è‡´æ‰€æœ‰çš„å›¾ç‰‡éƒ½ä¼šä½¿ç”¨99%æ¥è´´å›¾,å½±å“è™½ç„¶ä¸æ˜¯å¾ˆå¤§,ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹è¿˜æ˜¯èƒ½å¤Ÿçœ‹çš„å‡ºæ¥(ç‚¹å‡»æŸ¥çœ‹å¤§å›¾):</p>
<p>æ­£å¸¸:</p>
<p><img src="/img/4220b6514671a4567ca56c6e199f49070b019f31.jpg" alt=""></p>
<p>å¼€å¯å:</p>
<p><img src="/img/8de1d1d02a2860a7cc0eb5f17f4f99daf7a8a97a.jpg" alt=""></p>
<p>ä¸Šé¢çš„å›¾æ˜¯æ”¾å¤§ä¸¤å€åçš„æ•ˆæœ,å¦‚æœä½ ä¸æ˜¯å¤ªåœ¨æ„è¿™äº›ç»†èŠ‚çš„è¯,å°±å¯ä»¥å¿½ç•¥è¿™ä¸ªé—®é¢˜äº†.</p>
<p>ä½†æ˜¯å¦‚æœä½ æœ‰å¼ºè¿«ç—‡çš„è¯,å¯ä»¥ç§»æ­¥è¿™ç¯‡æ–‡ç« :</p>
<p><a href="http://blog.sina.com.cn/s/blog_4508e4860101dzkj.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_4508e4860101dzkj.html</a></p>
<p>åŒæ—¶æˆ‘ä¹Ÿä¿®æ”¹å¥½äº†ä¸€ä»½,å¤§å®¶å¯ä»¥åœ¨æ–‡ç« æœ«å°¾å¤„ä¸‹è½½!</p>
<h3 id="å››-æ»šåŠ¨åœ°å›¾æ—¶ä¼šæŠ–åŠ¨"><a href="#å››-æ»šåŠ¨åœ°å›¾æ—¶ä¼šæŠ–åŠ¨" class="headerlink" title="å››.æ»šåŠ¨åœ°å›¾æ—¶ä¼šæŠ–åŠ¨"></a>å››.æ»šåŠ¨åœ°å›¾æ—¶ä¼šæŠ–åŠ¨</h3><p>è¿™ç§æƒ…å†µåœ¨RPGæ¸¸æˆä¸­çš„å½±å“å¾ˆå¤§,çœ‹ä¸€ä¼šçœ¼ç›å°±èŠ±äº†,æˆ‘ä»¬å¯ä»¥ç»™æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„çº¹ç†å¼€å¯æŠ—é”¯é½¿æ¥è§£å†³è¿™ä¸ªé—®é¢˜:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼€å¯æŠ—é”¯é½¿</span></span><br><span class="line">CCArray *pChildrenArray = <span class="built_in">map</span>-&gt;getChildren();</span><br><span class="line">CCSpriteBatchNode *child = <span class="literal">NULL</span>;</span><br><span class="line">CCObject *pObject = <span class="literal">NULL</span>;</span><br><span class="line">CCARRAY_FOREACH(pChildrenArray, pObject)</span><br><span class="line">&#123;</span><br><span class="line">	child = (CCSpriteBatchNode *)pObject;</span><br><span class="line">	<span class="keyword">if</span>(!child)</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	child-&gt;getTexture()-&gt;setAntiAliasTexParameters();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="äº”-tilemap-HDè½¬SD"><a href="#äº”-tilemap-HDè½¬SD" class="headerlink" title="äº”.tilemap HDè½¬SD"></a>äº”.tilemap HDè½¬SD</h3><p>æ„Ÿè°¢<a href="http://weibo.com/1703959697/AdGzcoLTo?type=repost" target="_blank" rel="noopener">@å­é¾™å±±äºº</a> å¤§å¤§çš„åˆ†äº«,å°†tilemapä»HDè½¬SDå¯ä¸æ˜¯ç®€å•çš„å°†å›¾ç‰‡ç¼©å°ä¸€å€å°±OKçš„,åœ°å›¾æ–‡ä»¶ä¸­çš„ç½‘æ ¼å°ºå¯¸å•Šä»€ä¹ˆçš„éƒ½è¦éšç€æ”¹å˜çš„!æ„Ÿå…´è¶£çš„è¯·ç§»æ­¥è¿™é‡Œ:<a href="http://wasabibit.org/WasabiBit/Dev_Notes.html" target="_blank" rel="noopener">http://wasabibit.org/WasabiBit/Dev_Notes.html</a></p>
<p> [10æœˆ25æ—¥]</p>
<h3 id="å…­-åŠ è½½å´©æºƒ"><a href="#å…­-åŠ è½½å´©æºƒ" class="headerlink" title="å…­.åŠ è½½å´©æºƒ"></a>å…­.åŠ è½½å´©æºƒ</h3><p>å´©æºƒåœ°ç‚¹å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> CCTexture2D::hasPremultipliedAlpha()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> m_bHasPremultipliedAlpha;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åŸå› :åœ°å›¾ä¸­æœ‰ä¸€å±‚ä¸ºä»€ä¹ˆéƒ½æ²¡æœ‰,<strong>è¿™æ˜¯ä¸å…è®¸çš„,è¦ä¹ˆå°†è¿™ä¸€å±‚åˆ æ‰,è¦ä¹ˆåˆ·ç‚¹ä¸œè¥¿ä¸Šå»!</strong></p>
<p><strong>é™„ä»¶ä¸€:</strong></p>
<p><a href="http://pan.baidu.com/s/1qYnEQ" target="_blank" rel="noopener">http://pan.baidu.com/s/1qYnEQ</a></p>
<p>ä¸‹è½½åè§£å‹,è¦†ç›–cocos2dxç›®å½•ä¸‹çš„åŒåç›®å½•:</p>
<p><strong>1.win32ä¸‹,å°†CCSpriteTileMap.hå’ŒCCSpriteTileMap.cppæ·»åŠ åˆ°libcocos2då·¥ç¨‹ä¸­å°±OK!</strong></p>
<p><strong>2.androidä¸‹,éœ€è¦å¾€cocos2dx/Android.mkä¸­æ·»åŠ è¿™ä¹ˆä¸€è¡Œ:</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tilemap_parallax_nodes/CCSpriteTileMap.cpp \</span><br></pre></td></tr></table></figure></p>
<p><strong>3.iosä¸‹,éœ€è¦å°†CCSpriteTileMap.hå’ŒCCSpriteTileMap.cppæ·»åŠ åˆ°XCODEä¸­!</strong></p>
<p>è¿˜æœ‰ä»€ä¹ˆé—®é¢˜,å‘ç•™è¨€å‘Šè¯‰æˆ‘!</p>
]]></content>
      
        
        <tags>
            
            <tag> cocos2d-x </tag>
            
            <tag> TiledMap </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[cocos2d-x æŠ–åŠ¨æ•ˆæœ CCShake]]></title>
      <url>http://blog.justbilt.com/2013/09/11/cocos2d-x-ccshake/</url>
      <content type="html"><![CDATA[<p>ä¹‹å‰åœ¨ç½‘ä¸Šæ‰¾è¿‡ä¸€æ¬¡,ä½†æ˜¯ç”¨èµ·æ¥æœ‰äº›é—®é¢˜,æŠ–åŠ¨å®Œä½ç½®æœ‰åç§»,å°±è‡ªå·±ä¿®æ”¹äº†ä¸‹,åŸæ–‡åº”è¯¥æ˜¯åœ¨è¿™é‡Œ:</p>
<a id="more"></a>
<p><a href="http://blog.csdn.net/qq634416025/article/details/8630189" target="_blank" rel="noopener">http://blog.csdn.net/qq634416025/article/details/8630189</a></p>
<p>æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»çœ‹ä¸€ä¸‹,ä½œè€…ç‰¹æ„å°†æŠ–åŠ¨åšæˆäº†CCAction,ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿,å¤§è°¢!</p>
<p>æ•ˆæœå›¾(GIF,ç”»è´¨å‹ç¼©çš„æœ‰ç‚¹ç‹ ,å‡‘æ´»ç€çœ‹å§!):</p>
<p><img src="/img/6527eb984895fca57fd5c7fad00e31b07b7966eb.gif" alt="667"></p>
<p>æˆ‘æŠŠæˆ‘ä¿®æ”¹è¿‡çš„ç‰ˆæœ¬æ”¾åœ¨äº†ç™¾åº¦äº‘ç›˜ä¸Š,ä¸‹è½½åœ°å€:</p>
<p><a href="http://pan.baidu.com/share/link?shareid=2640816246&amp;uk=2685725110" target="_blank" rel="noopener">http://pan.baidu.com/share/link?shareid=2640816246&amp;uk=2685725110</a></p>
<p>ä½¿ç”¨æ—¶:</p>
<p><strong>1.å…ˆå°†CCShake.hä¸­çš„</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"GameDefine.h"</span></span></span><br></pre></td></tr></table></figure></p>
<p> æ³¨é‡Šæ‰,æ”¹ä¸ºä¸‹é¢è¿™æ®µè¯:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cocos2d.h"</span></span></span><br><span class="line">USING_NS_CC;</span><br></pre></td></tr></table></figure></p>
<p><strong>2.ç”¨æ³•:</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pSprite-&gt;runAction(CCShake::create(<span class="number">0.1f</span>,<span class="number">10</span>));</span><br></pre></td></tr></table></figure></p>
<p> pSprite:æƒ³æŠ–åŠ¨çš„ç‰©ä½“</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯:æŠ–åŠ¨çš„æ—¶é—´</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯:æŠ–åŠ¨çš„å¹…åº¦</p>
<p><strong>3.æ³¨æ„,è¿™ç‚¹æ›¾ç»å›°æ‰°äº†æˆ‘å¥½ä¹…!</strong></p>
<p>ä¸€ä¸ªCCNodeåŒæ—¶æ‰§è¡Œå¤šä¸ªCCShakeåŠ¨ä½œ,æˆ–è€…ä¸€ä¸ªCCShakeæ²¡æœ‰å®Œåˆæ‰§è¡Œä¸€ä¸ªCCShakeçš„è¯å°±ä¼šå‡ºç°é—®é¢˜,ä¼šå‡ºç°åç§»çš„ç°è±¡!</p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<ol>
<li>ä¸è¦åŒæ—¶æ‰§è¡Œå¤šä¸ªCCShakeåŠ¨ä½œ.</li>
<li>è‡ªå·±å¤–éƒ¨è®°å½•è¿™ä¸ªCCNodeçš„ä½ç½®,æ‰§è¡Œå®Œæˆåæ‰‹åŠ¨setPosition();</li>
</ol>
]]></content>
      
        
        <tags>
            
            <tag> cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[cocos2d-x è·å–ç³»ç»Ÿæ—¶é—´çš„é—®é¢˜]]></title>
      <url>http://blog.justbilt.com/2013/07/23/cocos2d-x-%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<h3 id="ä¸€-é¢„å¤‡çŸ¥è¯†"><a href="#ä¸€-é¢„å¤‡çŸ¥è¯†" class="headerlink" title="ä¸€.é¢„å¤‡çŸ¥è¯†"></a>ä¸€.é¢„å¤‡çŸ¥è¯†</h3><p>åœ¨çœ‹è¿™ç¯‡æ–‡ç« ä¹‹å‰,å¤§å®¶å…ˆå¯ä»¥çœ‹ä¸‹è¿™ç¯‡æ–‡ç« :<a href="http://developer.51cto.com/art/201002/182941.htm" target="_blank" rel="noopener">http://developer.51cto.com/art/201002/182941.htm</a> (C++è·å¾—ç³»ç»Ÿæ—¶é—´ä¸åŒæ–¹æ¡ˆä»‹ç»)<br><a id="more"></a></p>
<h3 id="äºŒ-å¦‚ä½•è·å–ç³»ç»Ÿæ—¶é—´"><a href="#äºŒ-å¦‚ä½•è·å–ç³»ç»Ÿæ—¶é—´" class="headerlink" title="äºŒ.å¦‚ä½•è·å–ç³»ç»Ÿæ—¶é—´."></a>äºŒ.å¦‚ä½•è·å–ç³»ç»Ÿæ—¶é—´.</h3><p><strong>1.è·å–æ—¥å†æ—¶é—´:</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">time_t</span> tt;</span><br><span class="line"><span class="comment">//è¿”å›è‡ªä» Unix æ–°çºªå…ƒï¼ˆæ ¼æ—å¨æ²»æ—¶é—´ 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00ï¼‰åˆ°å½“å‰æ—¶é—´çš„ç§’æ•°ã€‚</span></span><br><span class="line">time(&amp;tt);</span><br></pre></td></tr></table></figure></p>
<p><strong> 2.è·å–ä¹‹åè½¬åŒ–ä¸ºå¹´æœˆæ—¥æ—¶é—´:</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> tm_sec;     <span class="comment">/*ç§’æ•° seconds after the minute - [0,59] */</span></span><br><span class="line">        <span class="keyword">int</span> tm_min;     <span class="comment">/*åˆ†é’Ÿæ•° minutes after the hour - [0,59] */</span></span><br><span class="line">        <span class="keyword">int</span> tm_hour;    <span class="comment">/*å°æ—¶ hours since midnight - [0,23] */</span></span><br><span class="line">        <span class="keyword">int</span> tm_mday;    <span class="comment">/*æœˆä»½ä¸­çš„ç¬¬å‡ æ—¥ day of the month - [1,31] */</span></span><br><span class="line">        <span class="keyword">int</span> tm_mon;     <span class="comment">/*å¹´ä»½ä¸­çš„ç¬¬å‡ ä¸ªæœˆï¼Œä» 0 å¼€å§‹è¡¨ç¤ºä¸€æœˆ months since January - [0,11] */</span></span><br><span class="line">        <span class="keyword">int</span> tm_year;    <span class="comment">/*å¹´ä»½ï¼Œä» 1900 å¼€å§‹ years since 1900 */</span></span><br><span class="line">        <span class="keyword">int</span> tm_wday;    <span class="comment">/*æ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤© days since Sunday - [0,6] */</span></span><br><span class="line">        <span class="keyword">int</span> tm_yday;    <span class="comment">/*ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤© days since January 1 - [0,365] */</span></span><br><span class="line">        <span class="keyword">int</span> tm_isdst;   <span class="comment">/*å¤ä»¤æ—¶å½“å‰æ˜¯å¦ç”Ÿæ•ˆ daylight savings time flag */</span></span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure></p>
<p><strong> 3.æ‰“å°å‡ºå½“å‰æ˜¯ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©:</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span> *<span class="title">p</span>;</span></span><br><span class="line">p = localtime(&amp;tt);</span><br><span class="line">CCLog(<span class="string">"%d"</span>,p-&gt;tm_yday);</span><br></pre></td></tr></table></figure></p>
<h3 id="ä¸‰-æ³¨æ„äº‹é¡¹"><a href="#ä¸‰-æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸‰.æ³¨æ„äº‹é¡¹:"></a><strong>ä¸‰.æ³¨æ„äº‹é¡¹:</strong></h3><p><strong>1.å¯¹äºä¸‹é¢çš„ä»£ç :</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">time_t</span> tt;</span><br><span class="line">time(&amp;tt);</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span> *<span class="title">p1</span>;</span></span><br><span class="line">p1 = localtime(&amp;tt);</span><br><span class="line"></span><br><span class="line">time(&amp;tt);</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span> *<span class="title">p2</span>;</span></span><br><span class="line">p2 = localtime(&amp;tt);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (p1-&gt;tm_sec!=p2-&gt;tm_sec)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//do something...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¤§å®¶è§‰å¾—èƒ½å¦è¾¾åˆ°æ•ˆæœå‘¢?(å‡è®¾ä¸¤æ¬¡è°ƒç”¨localtimeçš„é—´éš”å¾ˆé•¿)</p>
<p>ç­”æ¡ˆæ˜¯å¦å®šçš„:å› ä¸ºp1å’Œp2æŒ‡å‘äº†ç›¸åŒçš„åœ°å€,æ‰€ä»¥æ¡ä»¶æ°¸è¿œä¸æˆç«‹!ä¸ºä»€ä¹ˆå‘¢?å› ä¸ºæˆ‘ä»¬æ²¡æœ‰åœ¨è°ƒç”¨localtimeä¹‹å‰ç»™p1å’Œp2åˆ†é…ç©ºé—´(æ ˆ,å †),è€Œæ˜¯ç”¨ä¸€ä¸ªæŒ‡é’ˆå»æ¥å‡½æ•°çš„è¿”å›å€¼,è¿™æ ·çš„è¯åªæœ‰ä¸¤ç§å¯èƒ½:</p>
<ul>
<li>æ¯æ¬¡å‡½æ•°å†…éƒ¨éƒ½ä¼šnewä¸€ä¸ªtmçš„å¯¹è±¡,è¿”å›,è¿™æ ·å¤–éƒ¨å¿…é¡»æ‰‹åŠ¨é‡Šæ”¾æ‰ä¸è‡³äºå†…å­˜æ³„éœ²!</li>
<li>æ¯æ¬¡å‡½æ•°éƒ½è¿”å›åŒä¸€å—å†…å­˜çš„æŒ‡é’ˆ,è¿™æ ·åä¸€æ¬¡çš„è°ƒç”¨ä¼šè¦†ç›–å‰ä¸€æ¬¡çš„ç»“æœ!<br>æ‰€ä»¥æˆ‘ä»¬å¿…é¡»è‡ªå·±å»ä¿å­˜ç»“æœ:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> pre_tm_sec=p1-&gt;tm_sec;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>2.ä¸åŒå¹³å°çš„å·®å¼‚:</strong></p>
<p>time_tåœ¨linuxä¸Šçš„å®šä¹‰:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __TIME_T</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __TIME_T     <span class="comment">/* é¿å…é‡å¤å®šä¹‰ time_t */</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span>     <span class="keyword">time_t</span>;    <span class="comment">/* æ—¶é—´å€¼time_t ä¸ºé•¿æ•´å‹çš„åˆ«å*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p>
<p>æœ‰æ­¤å¯è§time_tå°±æ˜¯long,åªå 4ä¸ªå­—èŠ‚!</p>
<p>è€Œåœ¨windowsä¸Š:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> __int64 <span class="keyword">__time64_t</span>; Â  Â  <span class="comment">/* 64-bit time value */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">__time64_t</span> <span class="keyword">time_t</span>;      <span class="comment">/* time value */</span></span><br></pre></td></tr></table></figure></p>
<p>å°¼ç›?å‘çˆ¹çš„windows,è¿™æ ·time_tå°±æ˜¯int64,å 8ä¸ªå­—èŠ‚!</p>
<p>æˆ‘æ›¾ç»ç”¨longè®°ä¸‹time_tç±»å‹çš„æ•°æ®å†™å…¥åˆ°å­˜æ¡£ä¸­,ç»“æœå°±æ‚²å‰§äº†,å†…å­˜è¶Šç•Œ,æ­»çš„å¿ƒéƒ½æœ‰äº†!</p>
]]></content>
      
        
        <tags>
            
            <tag> cocos2d-x </tag>
            
        </tags>
        
    </entry>
    
  
  
    
    <entry>
      <title></title>
      <url>http://blog.justbilt.com/404.html</url>
      <content type="html"><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>
        Page not found (404) - Disqus
    </title>
    <script type="text/javascript">
    var totalCount = 8;
    function ChangeIt()
    {
        var num = Math.ceil( Math.random() * totalCount );
        document.body.background = '//media.disquscdn.com/errors/img/'+num+'.gif';
    document.body.style.backgroundRepeat = "repeat";// Background repeat
    }
    window.onload = ChangeIt;
    </script>
    <style>
        html {
            width: 100%;
            height: 100%;
        }

        body {
            position: relative;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;

            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            background-repeat: no-repeat;
        }

        body:before {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            z-index: -1;
            width: 100%;
            height: 700px;
            content: "";
            background: transparent;
            background-size: cover;
        }

        .global-header {
            width: 650px;
            margin: 0 auto;
            padding: 250px 0 50px 0;
            background: transparent;
            font-size: 16px;
        }

        .global-nav {
            text-align: center;
        }

        .logo {
            width:150px;
            margin: 0 auto;
            display: block;
            margin-top: 250px;
            margin-bottom: 50px;
        }

        ul {
            display: none;
        }

        .error-content {
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            line-height:24px;
            color:#55595d;
            width:500px;
            display: block;
            margin: 0 auto;
            background: rgba(255,255,255, 0.8);
            padding: 30px 40px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color:#546673;
            font-size: 24px;
            font-weight: 600;
        }

        a {
            color: #208be6;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        footer, .global-footer{
            display: none;

        }

    </style>
</head>

<body>
    <div class="wrapper">
        <div class="error-content">
            
        <h1>Uh oh... Something didn't work.</h1>
        <p>This page doesn't seem to exist. You might have followed a bad link or mistyped the address, feel free to try again.  Alternatively, you can <a href="http://blog.justbilt.com/">return to the home page</a>.</p>

        </div>
    </div>
</body>
</html>]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>http://blog.justbilt.com/googlef3029a61316e334f.html</url>
      <content type="html"><![CDATA[google-site-verification: googlef3029a61316e334f.html]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å…³äº]]></title>
      <url>http://blog.justbilt.com/about/index.html</url>
      <content type="html"><![CDATA[<p>æˆ‘æ˜¯ bilt, å‘éŸ³åº”è¯¥ç±»ä¼¼äº â€œbiuæ²¹ç‰¹â€ , è¿™ä¸ªå•è¯æœ€å¼€å§‹æ˜¯æˆ‘è‡ªé€ çš„, ç°åœ¨å¦‚æœä½ è¯å…¸å»æŸ¥çš„è¯, ä¼šæœ‰ä¸€ä¸ª <strong>æ€»èƒ†çº¢ç´ </strong> çš„æ„æ€. å› ä¸ºè¿™ä¸ªå•è¯æ¯”è¾ƒçŸ­, æ‰€ä»¥æˆ‘ä¸€èˆ¬ä¼šåœ¨å‰é¢åŠ ä¸€ä¸ª just , è¿™æ ·åˆèµ·æ¥å°±æ˜¯ <code>justbilt</code> äº†.</p>
<p><img src="/favicon/logo.png" alt=""></p>
]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>http://blog.justbilt.com/assets/comment.css</url>
      <content type="html"><![CDATA[.gitment-container {
  font-family: sans-serif;
  font-size: 14px;
  line-height: 1.5;
  color: #333;
  word-wrap: break-word;
}

.gitment-container * {
  box-sizing: border-box;
}

.gitment-container *:disabled {
  cursor: not-allowed;
}

.gitment-container a,
.gitment-container a:visited {
  cursor: pointer;
  text-decoration: none;
}

.gitment-container a:hover {
  text-decoration: underline;
}

.gitment-container .gitment-hidden {
  display: none;
}

.gitment-container .gitment-spinner-icon {
  fill: #333;

  -webkit-animation: gitment-spin 1s steps(12) infinite;
  animation: gitment-spin 1s steps(12) infinite;
}

@-webkit-keyframes gitment-spin {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg)
  }
}

@keyframes gitment-spin {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg)
  }
}

.gitment-root-container {
  margin: 19px 0;
}

.gitment-header-container {
  margin: 19px 0;
}

.gitment-header-like-btn,
.gitment-comment-like-btn {
  cursor: pointer;
}

.gitment-comment-like-btn {
  float: right;
}

.gitment-comment-like-btn.liked {
  color: #F44336;
}

.gitment-header-like-btn svg {
  vertical-align: middle;
  height: 30px;
}

.gitment-comment-like-btn svg {
  vertical-align: middle;
  height: 20px;
}

.gitment-header-like-btn.liked svg,
.gitment-comment-like-btn.liked svg {
  fill: #F44336;
}

a.gitment-header-issue-link,
a.gitment-header-issue-link:visited {
  float: right;
  line-height: 30px;
  color: #666;
}

a.gitment-header-issue-link:hover {
  color: #666;
}

.gitment-comments-loading,
.gitment-comments-error,
.gitment-comments-empty {
  text-align: center;
  margin: 50px 0;
}

.gitment-comments-list {
  list-style: none;
  padding-left: 0;
  margin: 0 0 38px;
}

.gitment-comment,
.gitment-editor-container {
  position: relative;
  min-height: 60px;
  padding-left: 60px;
  margin: 19px 0;
}

.gitment-comment-avatar,
.gitment-editor-avatar {
  float: left;
  margin-left: -60px;
}

.gitment-comment-avatar,
.gitment-comment-avatar-img,
.gitment-comment-avatar,
.gitment-editor-avatar-img,
.gitment-editor-avatar svg {
  width: 44px;
  height: 44px;
  border-radius: 3px;
}

.gitment-editor-avatar .gitment-github-icon {
  fill: #fff;
  background-color: #333;
}

.gitment-comment-main,
.gitment-editor-main {
  position: relative;
  border: 1px solid #111;
  border-radius: 0;
}

.gitment-editor-main::before,
.gitment-editor-main::after,
.gitment-comment-main::before,
.gitment-comment-main::after {
  position: absolute;
  top: 11px;
  left: -16px;
  display: block;
  width: 0;
  height: 0;
  pointer-events: none;
  content: "";
  border-color: transparent;
  border-style: solid solid outset;
}

.gitment-editor-main::before,
.gitment-comment-main::before {
  border-width: 8px;
  border-right-color: #111;
}

.gitment-editor-main::after,
.gitment-comment-main::after {
  margin-top: 1px;
  margin-left: 2px;
  border-width: 7px;
  border-right-color: #fff;
}

.gitment-comment-header {
  margin: 12px 15px;
  color: #666;
  /*background-color: #fff;*/
  border-radius: 3px;
}

.gitment-editor-header {
  padding: 0;
  margin: 0;
  border-bottom: 1px solid #111;
}

a.gitment-comment-name,
a.gitment-comment-name:visited {
  font-weight: 600;
  color: #666;
}

.gitment-editor-tabs {
  margin-bottom: -1px;
  margin-left: -1px;
}

.gitment-editor-tab {
  display: inline-block;
  padding: 11px 12px;
  font-size: 14px;
  line-height: 20px;
  color: #666;
  text-decoration: none;
  background-color: transparent;
  border-width: 0 1px;
  border-style: solid;
  border-color: transparent;
  border-radius: 0;

  white-space: nowrap;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;

  outline: none;
}

.gitment-editor-tab.gitment-selected {
  color: #333;
  background-color: #fff;
  border-color: #111;
}

.gitment-editor-login {
  float: right;
  margin-top: -30px;
  margin-right: 15px;
}

a.gitment-footer-project-link,
a.gitment-footer-project-link:visited,
a.gitment-editor-login-link,
a.gitment-editor-login-link:visited {
  color: #2196F3;
}

a.gitment-editor-logout-link,
a.gitment-editor-logout-link:visited {
  color: #666;
}

a.gitment-editor-logout-link:hover {
  color: #2196F3;
  text-decoration: none;
}

.gitment-comment-body {
  position: relative;
  margin: 12px 15px;
  overflow: hidden;
  border-radius: 3px;
}

.gitment-comment-body-folded {
  cursor: pointer;
}

.gitment-comment-body-folded::before {
  display: block !important;
  content: "";
  position: absolute;
  width: 100%;
  left: 0;
  top: 0;
  bottom: 50px;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, .9));
}

.gitment-comment-body-folded::after {
  display: block !important;
  content: "Click to Expand" !important;
  text-align: center;
  color: #666;
  position: absolute;
  width: 100%;
  height: 50px;
  line-height: 50px;
  left: 0;
  bottom: 0;
  pointer-events: none;
  background: rgba(255, 255, 255, .9);
}

.gitment-editor-body {
  margin: 0;
}

.gitment-comment-body > *:first-child,
.gitment-editor-preview > *:first-child {
  margin-top: 0 !important;
}

.gitment-comment-body > *:last-child,
.gitment-editor-preview > *:last-child {
  margin-bottom: 0 !important;
}

.gitment-editor-body textarea {
  display: block;
  width: 100%;
  min-height: 150px;
  max-height: 500px;
  padding: 16px;
  resize: vertical;

  max-width: 100%;
  margin: 0;
  font-size: 14px;
  line-height: 1.6;

  background-color: #fff;

  color: #333;
  vertical-align: middle;
  border: none;
  border-radius: 0;
  outline: none;
  box-shadow: none;

  overflow: visible;
}

.gitment-editor-body textarea:focus {
  background-color: #fff;
}

.gitment-editor-preview {
  min-height: 150px;

  padding: 16px;
  background-color: transparent;

  width: 100%;
  font-size: 14px;

  line-height: 1.5;
  word-wrap: break-word;
}

.gitment-editor-footer {
  padding: 0;
  margin-top: 10px;
}

.gitment-editor-footer::after {
  display: table;
  clear: both;
  content: "";
}

a.gitment-editor-footer-tip {
  display: inline-block;
  padding-top: 10px;
  font-size: 12px;
  color: #666;
}

a.gitment-editor-footer-tip:hover {
  color: #2196F3;
  text-decoration: none;
}

.gitment-comments-pagination {
  list-style: none;
  text-align: right;
  border-radius: 0;
  margin: -19px 0 19px 0;
}

.gitment-comments-page-item {
  display: inline-block;
  cursor: pointer;
  border: 1px solid #111;
  margin-left: -1px;
  padding: .25rem .5rem;
}

.gitment-comments-page-item:hover {
  background-color: #f5f5f5;
}

.gitment-comments-page-item.gitment-selected {
  background-color: #f5f5f5;
}

.gitment-editor-submit,
.gitment-comments-init-btn {
  color: #fff;
  background-color: #00BCD4;

  position: relative;
  display: inline-block;
  padding: 7px 13px;
  font-size: 14px;
  font-weight: 600;
  line-height: 20px;
  white-space: nowrap;
  vertical-align: middle;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  background-size: 110% 110%;
  border: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

.gitment-editor-submit:hover,
.gitment-comments-init-btn:hover {
  background-color: #00ACC1;
}

.gitment-comments-init-btn:disabled,
.gitment-editor-submit:disabled {
  color: rgba(255,255,255,0.75);
  background-color: #4DD0E1;
  box-shadow: none;
}

.gitment-editor-submit {
  float: right;
}

.gitment-footer-container {
  margin-top: 30px;
  margin-bottom: 20px;
  text-align: right;
  font-size: 12px;
}

/*
 * Markdown CSS
 * Copied from https://github.com/sindresorhus/github-markdown-css
 */
.gitment-markdown {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  line-height: 1.5;
  color: #333;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.gitment-markdown .pl-c {
  color: #969896;
}

.gitment-markdown .pl-c1,
.gitment-markdown .pl-s .pl-v {
  color: #0086b3;
}

.gitment-markdown .pl-e,
.gitment-markdown .pl-en {
  color: #795da3;
}

.gitment-markdown .pl-smi,
.gitment-markdown .pl-s .pl-s1 {
  color: #333;
}

.gitment-markdown .pl-ent {
  color: #63a35c;
}

.gitment-markdown .pl-k {
  color: #a71d5d;
}

.gitment-markdown .pl-s,
.gitment-markdown .pl-pds,
.gitment-markdown .pl-s .pl-pse .pl-s1,
.gitment-markdown .pl-sr,
.gitment-markdown .pl-sr .pl-cce,
.gitment-markdown .pl-sr .pl-sre,
.gitment-markdown .pl-sr .pl-sra {
  color: #183691;
}

.gitment-markdown .pl-v,
.gitment-markdown .pl-smw {
  color: #ed6a43;
}

.gitment-markdown .pl-bu {
  color: #b52a1d;
}

.gitment-markdown .pl-ii {
  color: #f8f8f8;
  background-color: #b52a1d;
}

.gitment-markdown .pl-c2 {
  color: #f8f8f8;
  background-color: #b52a1d;
}

.gitment-markdown .pl-c2::before {
  content: "^M";
}

.gitment-markdown .pl-sr .pl-cce {
  font-weight: bold;
  color: #63a35c;
}

.gitment-markdown .pl-ml {
  color: #693a17;
}

.gitment-markdown .pl-mh,
.gitment-markdown .pl-mh .pl-en,
.gitment-markdown .pl-ms {
  font-weight: bold;
  color: #1d3e81;
}

.gitment-markdown .pl-mq {
  color: #008080;
}

.gitment-markdown .pl-mi {
  font-style: italic;
  color: #333;
}

.gitment-markdown .pl-mb {
  font-weight: bold;
  color: #333;
}

.gitment-markdown .pl-md {
  color: #bd2c00;
  background-color: #ffecec;
}

.gitment-markdown .pl-mi1 {
  color: #55a532;
  background-color: #eaffea;
}

.gitment-markdown .pl-mc {
  color: #ef9700;
  background-color: #ffe3b4;
}

.gitment-markdown .pl-mi2 {
  color: #d8d8d8;
  background-color: #808080;
}

.gitment-markdown .pl-mdr {
  font-weight: bold;
  color: #795da3;
}

.gitment-markdown .pl-mo {
  color: #1d3e81;
}

.gitment-markdown .pl-ba {
  color: #595e62;
}

.gitment-markdown .pl-sg {
  color: #c0c0c0;
}

.gitment-markdown .pl-corl {
  text-decoration: underline;
  color: #183691;
}

.gitment-markdown .octicon {
  display: inline-block;
  vertical-align: text-top;
  fill: currentColor;
}

.gitment-markdown a {
  background-color: transparent;
  -webkit-text-decoration-skip: objects;
}

.gitment-markdown a:active,
.gitment-markdown a:hover {
  outline-width: 0;
}

.gitment-markdown strong {
  font-weight: inherit;
}

.gitment-markdown strong {
  font-weight: bolder;
}

.gitment-markdown h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.gitment-markdown img {
  border-style: none;
}

.gitment-markdown svg:not(:root) {
  overflow: hidden;
}

.gitment-markdown code,
.gitment-markdown kbd,
.gitment-markdown pre {
  font-family: monospace, monospace;
  font-size: 1em;
}

.gitment-markdown hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}

.gitment-markdown input {
  font: inherit;
  margin: 0;
}

.gitment-markdown input {
  overflow: visible;
}

.gitment-markdown [type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.gitment-markdown * {
  box-sizing: border-box;
}

.gitment-markdown input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.content a {
  background-image: none;
}
.content a:hover
{ 
  background-image: none;
}

.gitment-markdown a {
  color: #0366d6;
  text-decoration: none;
}

.gitment-markdown a:hover {
  text-decoration: underline;
}

.gitment-markdown strong {
  font-weight: 600;
}

.gitment-markdown hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
}

.gitment-markdown hr::before {
  display: table;
  content: "";
}

.gitment-markdown hr::after {
  display: table;
  clear: both;
  content: "";
}

.gitment-markdown table {
  border-spacing: 0;
  border-collapse: collapse;
}

.gitment-markdown td,
.gitment-markdown th {
  padding: 0;
}

.gitment-markdown h1,
.gitment-markdown h2,
.gitment-markdown h3,
.gitment-markdown h4,
.gitment-markdown h5,
.gitment-markdown h6 {
  margin-top: 0;
  margin-bottom: 0;
}

.gitment-markdown h1 {
  font-size: 32px;
  font-weight: 600;
}

.gitment-markdown h2 {
  font-size: 24px;
  font-weight: 600;
}

.gitment-markdown h3 {
  font-size: 20px;
  font-weight: 600;
}

.gitment-markdown h4 {
  font-size: 16px;
  font-weight: 600;
}

.gitment-markdown h5 {
  font-size: 14px;
  font-weight: 600;
}

.gitment-markdown h6 {
  font-size: 12px;
  font-weight: 600;
}

.gitment-markdown p {
  margin-top: 0;
  margin-bottom: 10px;
  color: #c9cacc;
}

.gitment-markdown blockquote {
  margin: 0;
}

.gitment-markdown ul,
.gitment-markdown ol {
  padding-left: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.gitment-markdown ol ol,
.gitment-markdown ul ol {
  list-style-type: lower-roman;
}

.gitment-markdown ul ul ol,
.gitment-markdown ul ol ol,
.gitment-markdown ol ul ol,
.gitment-markdown ol ol ol {
  list-style-type: lower-alpha;
}

.gitment-markdown dd {
  margin-left: 0;
}

.gitment-markdown code {
  font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.gitment-markdown pre {
  margin-top: 0;
  margin-bottom: 0;
  font: 12px "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.gitment-markdown .octicon {
  vertical-align: text-bottom;
}

.gitment-markdown .pl-0 {
  padding-left: 0 !important;
}

.gitment-markdown .pl-1 {
  padding-left: 4px !important;
}

.gitment-markdown .pl-2 {
  padding-left: 8px !important;
}

.gitment-markdown .pl-3 {
  padding-left: 16px !important;
}

.gitment-markdown .pl-4 {
  padding-left: 24px !important;
}

.gitment-markdown .pl-5 {
  padding-left: 32px !important;
}

.gitment-markdown .pl-6 {
  padding-left: 40px !important;
}

.gitment-markdown::before {
  display: table;
  content: "";
}

.gitment-markdown::after {
  display: table;
  clear: both;
  content: "";
}

.gitment-markdown>*:first-child {
  margin-top: 0 !important;
}

.gitment-markdown>*:last-child {
  margin-bottom: 0 !important;
}

.gitment-markdown a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.gitment-markdown .anchor {
  float: left;
  padding-right: 4px;
  margin-left: -20px;
  line-height: 1;
}

.gitment-markdown .anchor:focus {
  outline: none;
}

.gitment-markdown p,
.gitment-markdown blockquote,
.gitment-markdown ul,
.gitment-markdown ol,
.gitment-markdown dl,
.gitment-markdown table,
.gitment-markdown pre {
  margin-top: 0;
  margin-bottom: 16px;
}

.gitment-markdown hr {
  height: 0.25em;
  padding: 0;
  margin: 24px 0;
  background-color: #e1e4e8;
  border: 0;
}

.gitment-markdown blockquote {
  padding: 0 1em;
  color: #6a737d;
  border-left: 0.25em solid #dfe2e5;
}

.gitment-markdown blockquote>:first-child {
  margin-top: 0;
}

.gitment-markdown blockquote>:last-child {
  margin-bottom: 0;
}

.gitment-markdown kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: solid 1px #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 0;
  box-shadow: inset 0 -1px 0 #959da5;
}

.gitment-markdown h1,
.gitment-markdown h2,
.gitment-markdown h3,
.gitment-markdown h4,
.gitment-markdown h5,
.gitment-markdown h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25;
}

.gitment-markdown h1 .octicon-link,
.gitment-markdown h2 .octicon-link,
.gitment-markdown h3 .octicon-link,
.gitment-markdown h4 .octicon-link,
.gitment-markdown h5 .octicon-link,
.gitment-markdown h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.gitment-markdown h1:hover .anchor,
.gitment-markdown h2:hover .anchor,
.gitment-markdown h3:hover .anchor,
.gitment-markdown h4:hover .anchor,
.gitment-markdown h5:hover .anchor,
.gitment-markdown h6:hover .anchor {
  text-decoration: none;
}

.gitment-markdown h1:hover .anchor .octicon-link,
.gitment-markdown h2:hover .anchor .octicon-link,
.gitment-markdown h3:hover .anchor .octicon-link,
.gitment-markdown h4:hover .anchor .octicon-link,
.gitment-markdown h5:hover .anchor .octicon-link,
.gitment-markdown h6:hover .anchor .octicon-link {
  visibility: visible;
}

.gitment-markdown h1 {
  padding-bottom: 0.3em;
  font-size: 2em;
  border-bottom: 1px solid #eaecef;
}

.gitment-markdown h2 {
  padding-bottom: 0.3em;
  font-size: 1.5em;
  border-bottom: 1px solid #eaecef;
}

.gitment-markdown h3 {
  font-size: 1.25em;
}

.gitment-markdown h4 {
  font-size: 1em;
}

.gitment-markdown h5 {
  font-size: 0.875em;
}

.gitment-markdown h6 {
  font-size: 0.85em;
  color: #6a737d;
}

.gitment-markdown ul,
.gitment-markdown ol {
  padding-left: 2em;
}

.gitment-markdown ul ul,
.gitment-markdown ul ol,
.gitment-markdown ol ol,
.gitment-markdown ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.gitment-markdown li>p {
  margin-top: 16px;
}

.gitment-markdown li+li {
  margin-top: 0.25em;
}

.gitment-markdown dl {
  padding: 0;
}

.gitment-markdown dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
}

.gitment-markdown dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.gitment-markdown table {
  display: block;
  width: 100%;
  overflow: auto;
}

.gitment-markdown table th {
  font-weight: 600;
}

.gitment-markdown table th,
.gitment-markdown table td {
  padding: 6px 13px;
  border: 1px solid #dfe2e5;
}

.gitment-markdown table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.gitment-markdown table tr:nth-child(2n) {
  background-color: #f5f5f5;
}

.gitment-markdown img {
  max-width: 100%;
  box-sizing: content-box;
  background-color: #fff;
}

.gitment-markdown code {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(27,31,35,0.05);
  border-radius: 0;
}

.gitment-markdown code::before,
.gitment-markdown code::after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.gitment-markdown pre {
  word-wrap: normal;
}

.gitment-markdown pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.gitment-markdown .highlight {
  margin-bottom: 16px;
}

.gitment-markdown .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.gitment-markdown .highlight pre,
.gitment-markdown pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f5f5f5;
  border-radius: 0;
}

.gitment-markdown pre code {
  display: inline;
  max-width: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.gitment-markdown pre code::before,
.gitment-markdown pre code::after {
  content: normal;
}

.gitment-markdown .full-commit .btn-outline:not(:disabled):hover {
  color: #005cc5;
  border-color: #005cc5;
}

.gitment-markdown kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 0;
  box-shadow: inset 0 -1px 0 #959da5;
}

.gitment-markdown :checked+.radio-label {
  position: relative;
  z-index: 1;
  border-color: #0366d6;
}

.gitment-markdown .task-list-item {
  list-style-type: none;
}

.gitment-markdown .task-list-item+.task-list-item {
  margin-top: 3px;
}

.gitment-markdown .task-list-item input {
  margin: 0 0.2em 0.25em -1.6em;
  vertical-align: middle;
}

.gitment-markdown hr {
  border-bottom-color: #eee;
}]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>http://blog.justbilt.com/links/index.html</url>
      <content type="html"><![CDATA[<p>Imbahom: <a href="http://blog.imbahom.com/" target="_blank" rel="noopener">http://blog.imbahom.com/</a><br>æ¾é˜³: <a href="http://www.songyang.net/" target="_blank" rel="noopener">http://www.songyang.net/</a><br>ChildhoodAndy: <a href="http://dabing1022.github.io/" target="_blank" rel="noopener">http://dabing1022.github.io/</a><br>å­é¾™å±±äºº: <a href="http://zilongshanren.com/" target="_blank" rel="noopener">http://zilongshanren.com/</a><br>å¥‡è‘©ä¸–ç•Œ: <a href="http://qipa.world/" target="_blank" rel="noopener">http://qipa.world/</a><br>ä¸–ç²å…„: <a href="http://young40.com/" target="_blank" rel="noopener">http://young40.com/</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[tags]]></title>
      <url>http://blog.justbilt.com/tags/index.html</url>
      <content type="html"></content>
    </entry>
    
  
</search>
