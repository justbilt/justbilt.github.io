title: "cocos2d-x 3.3 + win8.1 + vs2013 + wp8 环境搭建"
date: 2015-04-25 17:24:14
tags:
---


好吧, 干了这么久 cocos , 又回到了搭建环境这样一个话题. 这次是为了搭建 windows phone 8 的开发环境, 期间各种波折不断, 大家且听我娓娓道来!

# 一. 环境搭建

## 1. 安装 Windows 8.1 with Update

这里一定要注意下, 一定是`Windows 8.1 with Update`, 这里一直坑了我好久, 我之前装的是`Windows 8.1`, 安装 vs2013 的时候装不上 `wp8` 的开发工具, 系统更新又更新不了, 下载下来的更新装不上去! 期间各种折腾, 浪费掉好几天时间!

下载地址:

[http://bbs.ithome.com/thread-581871-1-1.html][1]

我安装的是`Windows 8.1 with Update 64位核心版+专业版（简体中文）`, [下载地址][2], 镜像文件`4G`. 密钥如下:

```
Windows 8.1 with Update 安装密钥
核心版：334NH-RXG76-64THK-C7CKG-D3VPT
专业版：XHQ8N-C3MCJ-RQXB6-WCHYG-C9WKB
```

这里建议大家用**手机拍下**, 安装的时候需要输入!

安装什么的我也不多说了, 和装 win7的步骤差不多. 因为没有光驱和 U盘 所以我选择的是[NT6 HDD Installer][5].

> 注: vs2013 需要的磁盘空间挺大的(约20G), 建议系统盘多分一些容量(100G+)!

## 2. 安装 Visual Studio Community 2013 with Update 4

`Visual Studio` 出了社区版真的是一件非常给力的事情, **免费,功能还全**, 下载地址在这里[Visual Studio 下载][3], 

![][4]

选择**Community 2013 with Update 4**后会出先上图的界面, 点击**DVD9 ISO 映像**, 下载镜像文件`vs2013.4_ce_enu.iso`, 略大`6.9G`. 如果网速不好的话, 同时下着 window 和 vs2013 就可以去干点别的了! 

安装没有什么特别注意的东西, 一路点下去就好.


安装完成后, 如果弹出提示说需要**开启的虚拟化**, 就进bios修改下设置, 具体情况大家根据自己的主板类型自己来吧吧!

## 3. 安装 Windows Phone 8.1 development tools

> The Windows Phone 8.1 development tools are installed with Visual Studio Express 2013 for Windows with Update 2 or later. 

vs2013 with Update 4 已经自带了 wp8 的 sdk和模拟器, **所以不用再去单独下载安装 wp8 的任何东西了**.

## 4. 注册 Windows Phone 开发者

因为我很早之前就注册了, 具体细节也记不清了, 大家可以按照下面的这个教程走:

[http://bbs.wper.com/thread-59062-1-1.html][6]

如果之前有 Microsoft 账号的话, 也是可以升级为开发者的, 不用再注册号, 具体细节不在表述.

# 二. 编译运行

## 1. 编译运行 TestCpp

用 vs2013 打开 `cocos2d-win8.1-universal.sln`, 选择 TestCpp 项目.


# 三. 真机调试

### 1. 解锁设备

> 微软对于WP开发者是有一个特权的，可以用SDK工具同时解锁三台WP设备，变成开发机。开发机可以绕过Marketplace（软件市场）来部署自己开发的XAP软件，最多可以同时部署10个XAP应用。这种解锁，适用于任何WP机型，且对系统不构成任何危害和负面影响，系统重置出厂后解锁会消失。


### 2. 更新手机系统

### 3. 选择 device


[1]: http://bbs.ithome.com/thread-581871-1-1.html
[2]: ed2k://|file|cn_windows_8.1_with_update_x64_dvd_4048046.iso|4298139648|541A9F2BAF8CD7AA0DBCEACD378320B5|/
[3]: https://www.visualstudio.com/zh-cn/downloads/download-visual-studio-vs.aspx
[4]: /img/QQ20150425-1@2x.jpg
[5]: http://www.iplaysoft.com/nt6-hdd-installer.html
[6]: http://bbs.wper.com/thread-59062-1-1.html