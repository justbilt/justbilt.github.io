title: 编写高质量的代码
date: 2017-04-23 12:50:00
tags: [code-style, neat-freak]
---

我将高质量代码分为三个层级: **可读**, **健壮**, **优美**.

然而非常可惜的是, 我遇到的绝大多数程序员甚至都没有达到**可读**的层级. 这或许与我长期混迹在小公司有关系的经历有关系, 这些公司多数情况的想法的都是怎么在严酷的市场竞争中存活下来, 怎么可能会将代码质量这种大后期才会遇到的坑放在第一位? 

至于代码风格, 代码审查, 技术交流什么的, are you kidding me ?

而在这些公司的任职的程序, 绝大多数都是刚毕业的新人, 或者刚从培训学校出来的同学. 偶见一些老人, 也被长期加班/频繁变动需求/糙快猛的公司理念折磨的身心疲惫, 写代码也开始不那么讲究了, 开始复制黏贴, 开始到处临时代码, 注释中也充满了各种脏话. 

对于刚入行的新人而言, 这样的环境更加可怕, 一方面, 文档规范的缺失, 使得新人的入门自己努力和 "入门人" 的帮助, 如果遇人不淑, 得不到帮助是小, 受到影响养成一些不良习惯才可怕. 如果不加以纠正, 这些习惯可能会伴随真个程序生涯. 

另一方面, 小公司加班频繁, 需求多变, 在旺盛的精力在无休止的需求下也会熄灭.

对于新人, 我有两点建议:

1. 严格要求自己, 对脏代码零容忍
2. 独立思考学习

我曾经的很多同事, 技术实力很强, 但写出来的代码却很乱, 告诉他们后. 他们坦然道:

>"我知道这段代码写的很冗余, 我也知道怎样写更好, 但是就是没有时间改."
>"代码写的那么整洁有什么用, 最后还是会随着需求变化修改, 有这时间我用来干别的多好.". 

其实他们就是没有养成良好的习惯, 重构的多了, 简洁的代码信手拈来, 完全不会冗余. 




而且这个脏代码, 越堆越多, 越来牵扯越广, 越无法重构. 等到那天需要改的时候, 就傻逼了, 改个变量得改十几处.

有些人工作不可谓不努力, 但是数十年如一日, 代码功底并没有提高多少, 为什么 ? 是否和思考有关系呢?
写之前, 是否可以先分析下需求, 之前有没有做过类似的东西, 如果做过的话, 是否可以扩展一下, 使之能够适应这次的需求. 写之后, 是否可以总结下得失, 是否可以分享下心得, 是否可以写篇博客记录一下 ?


本篇文章中和我之前写过的 [更简洁的 LUA 逻辑代码][1] , [MM 前端 Lua 代码风格指南][2] 配合服用, 效果更佳.

[1]: /2016/06/26/terse-lua-code/
[2]: https://www.zybuluo.com/justbilt/note/732046