<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.">
<meta property="og:type" content="article">
<meta property="og:title" content="QuickxDev插件(二) debug.log文件的处理">
<meta property="og:url" content="http://blog.justbilt.com/2015/03/16/quickxdev-2/index.html">
<meta property="og:site_name" content="I'm bilt.">
<meta property="og:description" content="上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.">
<meta property="og:image" content="http://blog.justbilt.com/img/QQ20150316-2.jpg">
<meta property="og:image" content="http://blog.justbilt.com/img/QQ20150316-3.jpg">
<meta property="og:updated_time" content="2017-03-12T02:22:53.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="QuickxDev插件(二) debug.log文件的处理">
<meta name="twitter:description" content="上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.">
    
    
        
          
              <link rel="shortcut icon" href="/favicon/favicon.png">
          
        
        
          
            <link rel="icon" type="image/png" href="/favicon/favicon.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/favicon/favicon.png">
          
        
    
    <!-- title -->
    <title>QuickxDev插件(二) debug.log文件的处理</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/justbilt">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2015/04/04/phone-game-AND-encrypt-var/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/2015/03/16/quickxdev-1/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://blog.justbilt.com/2015/03/16/quickxdev-2/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&text=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&is_video=false&description=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=QuickxDev插件(二) debug.log文件的处理&body=Check out this article: http://blog.justbilt.com/2015/03/16/quickxdev-2/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&name=QuickxDev插件(二) debug.log文件的处理&description=&lt;p&gt;上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.&lt;/p&gt;"><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#u4E00-__u5BF9_debug-log__u6587_u4EF6_u8FDB_u884C_u914D_u8272"><span class="toc-number">1.</span> <span class="toc-text">一. 对 debug.log 文件进行配色</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#u4E8C-__u542F_u52A8_Player__u65F6_u6253_u5F00_debug-log__u6587_u4EF6"><span class="toc-number">2.</span> <span class="toc-text">二. 启动 Player 时打开 debug.log 文件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#u4E09-__u9519_u8BEF_u5806_u6808/dump__u7684_u8DF3_u8F6C"><span class="toc-number">3.</span> <span class="toc-text">三. 错误堆栈/dump 的跳转</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-__u6DFB_u52A0_u9F20_u6807_u53CC_u51FB_u7684_u54CD_u5E94"><span class="toc-number">3.1.</span> <span class="toc-text">1. 添加鼠标双击的响应</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-__u83B7_u53D6_u9F20_u6807_u53CC_u51FB_u7684_u6240_u5728_u884C"><span class="toc-number">3.2.</span> <span class="toc-text">2. 获取鼠标双击的所在行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-__u8BA1_u7B97_u8DF3_u8F6C_u7684_u6587_u4EF6_u548C_u884C_u53F7"><span class="toc-number">3.3.</span> <span class="toc-text">3. 计算跳转的文件和行号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-__u8DF3_u8F6C"><span class="toc-number">3.4.</span> <span class="toc-text">3. 跳转</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        QuickxDev插件(二) debug.log文件的处理
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">I'm bilt.</span>
      </span>
      
    <div class="postdate">
        <time datetime="2015-03-16T06:45:10.000Z" itemprop="datePublished">2015-03-16</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Quick-Cocos2d-x/">Quick-Cocos2d-x</a>, <a class="tag-link" href="/tags/QuickxDev/">QuickxDev</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.</p>
<a id="more"></a>
<h1 id="u4E00-__u5BF9_debug-log__u6587_u4EF6_u8FDB_u884C_u914D_u8272"><a href="#u4E00-__u5BF9_debug-log__u6587_u4EF6_u8FDB_u884C_u914D_u8272" class="headerlink" title="一. 对 debug.log 文件进行配色"></a>一. 对 debug.log 文件进行配色</h1><p>debug.log文件默认是没有配色的, 灰不拉几不好看. 实现这个其实非常简单, 每一个打开的文件都是一个<code>sublime.View</code>, <code>sublime.View</code>中有现成的函数<code>set_syntax_file</code>来设置文件句法规则, 让我们来看下定义:</p>
<blockquote>
<p>set_syntax_file(syntax_file)<br>Changes the syntax used by the view. syntax_file should be a name along the lines of Packages/Python/Python.tmLanguage. To retrieve the current syntax, use view.settings().get(‘syntax’).</p>
</blockquote>
<p>这个函数其实对应的是 Sublime 菜单栏中的这个:</p>
<p><img src="/img/QQ20150316-2.jpg" alt=""></p>
<p>大家可以多试几次, 挑一个好看点的, 我选中的是 <code>Java</code> 的语法(路径为:<code>Packages/Java/Java.tmLanguage</code>).</p>
<p>下面我们要监听文件 debug.log 的打开, 监听事件需要继承<code>sublime_plugin.EventListener</code>, QuickxDev 已经有了 <code>QuickxListener</code>, 查询 api 可以得知可以监听 <code>on_load</code> 事件来实现.</p>
<blockquote>
<p>on_load(view)<br>Called when the file is finished loading.</p>
</blockquote>
<p>实现的代码也非常的简单:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuickxListener</span><span class="params">(sublime_plugin.EventListener)</span>:</span></span><br><span class="line">	...</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">on_load</span><span class="params">(self, view)</span>:</span></span><br><span class="line">		print(view.file_name())</span><br><span class="line">		<span class="keyword">if</span> view.file_name().find(<span class="string">"debug.log"</span>) != -<span class="number">1</span>:</span><br><span class="line">			view.set_syntax_file(<span class="string">"Packages/Java/Java.tmLanguage"</span>)</span><br></pre></td></tr></table></figure>
<p>让我们来张对比图:</p>
<p><img src="/img/QQ20150316-3.jpg" alt=""></p>
<h1 id="u4E8C-__u542F_u52A8_Player__u65F6_u6253_u5F00_debug-log__u6587_u4EF6"><a href="#u4E8C-__u542F_u52A8_Player__u65F6_u6253_u5F00_debug-log__u6587_u4EF6" class="headerlink" title="二. 启动 Player 时打开 debug.log 文件"></a>二. 启动 Player 时打开 debug.log 文件</h1><p>因为种种原因, 我的 debug.log 文件没有在 Sublime 工程中, 所以每次想看日志都得在磁盘上找到这个文件, 拖进来, 略显繁琐. 因此萌生了运行 player 时顺带打开 debug.log 文件的需求.</p>
<p>实现起来也十分简单, 查询 api 得知:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open_file(file_name, &#60;flags&#62;)&#9;&#10;&#9;Opens the named file, and returns the corresponding view. If the file is already opened, it will be brought to the front. Note that as file loading is asynchronous, operations on the returned view won&#39;t be possible until its is_loading() method returns False.&#10;&#9;The optional flags parameter is a bitwise combination of:&#10;&#10;&#9;sublime.ENCODED_POSITION. Indicates the file_name should be searched for a :row or :row:col suffix&#10;&#9;sublime.TRANSIENT. Open the file as a preview only: it won&#39;t have a tab assigned it until modified</span><br></pre></td></tr></table></figure>
<p><code>file_name</code>文件名不说, 后面的 flags 比较有意思: </p>
<ol>
<li><code>sublime.ENCODED_POSITION</code> 选项可以再在打开文件的同时定位到某一行/某一列,非常有用.</li>
<li><code>sublime.TRANSIENT</code> 选项意思是只是预览它, 直到手动改变内容前不创建标签 .</li>
</ol>
<p>下面我们找到启动 Player 的地方, 因为<code>file_name</code>是全路径, 所以我们需要找到工程的路径. 启动 player 时需要传入 <code>-workdir</code> 参数, 我们用这个就行. 实现同样十分简单:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">workdir = os.path.split(path)[<span class="number">0</span>]</span><br><span class="line">args.append(<span class="string">"-workdir"</span>)</span><br><span class="line">args.append(workdir)</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">view.window().open_file(workdir+<span class="string">"/debug.log"</span>)</span><br></pre></td></tr></table></figure>
<h1 id="u4E09-__u9519_u8BEF_u5806_u6808/dump__u7684_u8DF3_u8F6C"><a href="#u4E09-__u9519_u8BEF_u5806_u6808/dump__u7684_u8DF3_u8F6C" class="headerlink" title="三. 错误堆栈/dump 的跳转"></a>三. 错误堆栈/dump 的跳转</h1><p>当我查看debug.log 文件时, 经常会看到类似的语句:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.lua &#35821;&#27861;&#38169;&#35823;&#10;/Users/XXXX/scripts/app/MyApp.lua:117: &#39;=&#39; expected near &#39;a&#39;&#10;&#10;2. lua &#36816;&#34892;&#26102;&#38169;&#35823;&#10;Cocos2d: [LUA ERROR] [string &#34;/Users/XXX/app/MyApp.lua&#34;]:118: attempt to index local &#39;a&#39; (a nil value)&#10;&#10;3. dump &#20449;&#24687;&#10;Cocos2d: [0.0724] dump from: [string &#34;/Users/XXX/scripts/app/MyApp.lua&#34;]:117: in function &#39;ctor&#39;</span><br></pre></td></tr></table></figure>
<p>他们之中都包含了文件名+行号信息, 联想到上面提到打开文件时可以跳转到某一行, 是不是隐隐感觉可以做些什么?</p>
<p>没错, 基于这个, 我们能够很容易的实现双击错误信息后跳转到错误位置.</p>
<h2 id="1-__u6DFB_u52A0_u9F20_u6807_u53CC_u51FB_u7684_u54CD_u5E94"><a href="#1-__u6DFB_u52A0_u9F20_u6807_u53CC_u51FB_u7684_u54CD_u5E94" class="headerlink" title="1. 添加鼠标双击的响应"></a>1. 添加鼠标双击的响应</h2><p>这个比较简单, 我们需要在 QuickxDev 文件夹中创建 <code>Default.sublime-mousemap</code> 文件, 内容如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#10;&#9;&#123;&#10;&#9;  &#34;button&#34;: &#34;button1&#34;, &#34;count&#34;: 2,&#10;&#9;  &#34;press_command&#34;: &#34;drag_select&#34;,&#10;&#9;  &#34;press_args&#34;: &#123;&#34;by&#34;: &#34;words&#34;&#125;,&#10;&#9;  &#34;command&#34;: &#34;my_special_doubleclick&#34;&#10;&#9;&#125;&#10;]</span><br></pre></td></tr></table></figure>
<p>这样在双击左键的时候会发送 <code>my_special_doubleclick</code> 事件, 我们在 quickx.py 中定义它:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySpecialDoubleclickCommand</span><span class="params">(sublime_plugin.TextCommand)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self, edit)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.view.file_name():</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		file_path, file_name = os.path.split(self.view.file_name())</span><br><span class="line">		<span class="keyword">if</span> file_name == <span class="string">"debug.log"</span>:</span><br><span class="line">			print(file_path, file_name)</span><br></pre></td></tr></table></figure>
<p>我们双击 debug.log 文件的某一行就会收到<code>MySpecialDoubleclickCommand</code>命令, 进而打印出文件名, 路径!</p>
<h2 id="2-__u83B7_u53D6_u9F20_u6807_u53CC_u51FB_u7684_u6240_u5728_u884C"><a href="#2-__u83B7_u53D6_u9F20_u6807_u53CC_u51FB_u7684_u6240_u5728_u884C" class="headerlink" title="2. 获取鼠标双击的所在行"></a>2. 获取鼠标双击的所在行</h2><p>因为双击会选中某个单词, 所以我们可以使用<code>sublime.View.sel()</code>来获取当前选中的行:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> region <span class="keyword">in</span> self.view.sel():</span><br><span class="line">	<span class="keyword">if</span> <span class="keyword">not</span> region.empty():</span><br><span class="line">		line = self.view.substr(self.view.line(region.a))</span><br><span class="line">		<span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"line:"</span>,line)</span><br></pre></td></tr></table></figure>
<h2 id="3-__u8BA1_u7B97_u8DF3_u8F6C_u7684_u6587_u4EF6_u548C_u884C_u53F7"><a href="#3-__u8BA1_u7B97_u8DF3_u8F6C_u7684_u6587_u4EF6_u548C_u884C_u53F7" class="headerlink" title="3. 计算跳转的文件和行号"></a>3. 计算跳转的文件和行号</h2><p>因为不会正则, 只能用一些土办法来计算文件和行号, 代码如下, 比较简单:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def parseLuaError(line):&#10;&#9;key = &#34;.lua:&#34;&#10;&#9;posKeyStart = line.find(key)&#10;&#9;if posKeyStart == -1:&#10;&#9;&#9;return False,&#34;&#34;&#10;&#9;posKeyEnd = posKeyStart + len(key)&#10;&#9;filename = line[:posKeyStart].strip(&#34; \t&#34;)+&#34;.lua&#34;&#10;&#9;fileline = line[posKeyEnd:line.find(&#34;:&#34;,posKeyEnd)]&#10;&#10;&#9;return True, filename+&#34;:&#34;+fileline&#10;&#10;def parseCocosErrorAndDump(line):&#10;&#9;filename = &#34;&#34;&#10;&#9;fileline = 1&#10;&#9;keyHead = &#34;[string \&#34;&#34;&#10;&#9;posHeadStart = line.find(keyHead)&#10;&#9;if posHeadStart == -1:&#10;&#9;&#9;return False,&#34;&#34;&#10;&#10;&#9;posHeadEnd = posHeadStart + len(keyHead)&#10;&#10;&#9;key = &#34;.lua\&#34;]:&#34;&#10;&#9;posKeyStart = line.find(key,posHeadStart)&#10;&#9;&#10;&#9;if posHeadStart == -1:&#10;&#9;&#9;return False,&#34;&#34;&#10;&#10;&#9;posKeyEnd = posKeyStart + len(key)&#10;&#10;&#9;filename = line[posHeadEnd:posKeyStart]+&#34;.lua&#34;&#10;&#9;fileline = line[posKeyEnd:line.find(&#34;:&#34;,posKeyEnd)]&#10;&#10;&#9;return True, filename+&#34;:&#34;+fileline</span><br></pre></td></tr></table></figure>
<p>想想还是正则会比较简单, 以后有机会在改吧!</p>
<h2 id="3-__u8DF3_u8F6C"><a href="#3-__u8DF3_u8F6C" class="headerlink" title="3. 跳转"></a>3. 跳转</h2><p>在上面的步骤中我们拿到了文件名和行号, 现在我们只需要跳转就OK了!</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parseLine</span><span class="params">(self, line)</span>:</span></span><br><span class="line">	re,string = self.parseCocosErrorAndDump(line)</span><br><span class="line">	<span class="keyword">if</span> re:</span><br><span class="line">		<span class="keyword">return</span> re,string</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> self.parseLuaError(line)</span><br><span class="line"></span><br><span class="line">re,filename = self.parseLine(line)</span><br><span class="line"><span class="keyword">if</span> re:</span><br><span class="line">	self.view.window().open_file(filename,sublime.ENCODED_POSITION)</span><br></pre></td></tr></table></figure>
<p>是啦,就是这么简单! 意外的发现这个功能对错误堆栈的跳转十分给力! 录了几个小 GIF, 感受一下吧!</p>
<p><a href="/img/2015-03-19-001.gif">演示一</a>,<a href="/img/2015-03-19-002.gif">演示二</a>,<a href="/img/2015-03-19-003.gif">演示三</a>,<a href="http://ww1.sinaimg.cn/large/7f870d23jw1eqb60t0ritg20yc0bie82.gif" target="_blank" rel="external">演示四</a></p>
<p>其实这些功能实现起来都不难, 但是却能令自己感觉很爽很有成就感, 这恐怕就是做游戏所不能体会到的吧! 哈哈!</p>
<p>(本文完)</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/justbilt">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#u4E00-__u5BF9_debug-log__u6587_u4EF6_u8FDB_u884C_u914D_u8272"><span class="toc-number">1.</span> <span class="toc-text">一. 对 debug.log 文件进行配色</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#u4E8C-__u542F_u52A8_Player__u65F6_u6253_u5F00_debug-log__u6587_u4EF6"><span class="toc-number">2.</span> <span class="toc-text">二. 启动 Player 时打开 debug.log 文件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#u4E09-__u9519_u8BEF_u5806_u6808/dump__u7684_u8DF3_u8F6C"><span class="toc-number">3.</span> <span class="toc-text">三. 错误堆栈/dump 的跳转</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-__u6DFB_u52A0_u9F20_u6807_u53CC_u51FB_u7684_u54CD_u5E94"><span class="toc-number">3.1.</span> <span class="toc-text">1. 添加鼠标双击的响应</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-__u83B7_u53D6_u9F20_u6807_u53CC_u51FB_u7684_u6240_u5728_u884C"><span class="toc-number">3.2.</span> <span class="toc-text">2. 获取鼠标双击的所在行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-__u8BA1_u7B97_u8DF3_u8F6C_u7684_u6587_u4EF6_u548C_u884C_u53F7"><span class="toc-number">3.3.</span> <span class="toc-text">3. 计算跳转的文件和行号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-__u8DF3_u8F6C"><span class="toc-number">3.4.</span> <span class="toc-text">3. 跳转</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://blog.justbilt.com/2015/03/16/quickxdev-2/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&text=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&is_video=false&description=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=QuickxDev插件(二) debug.log文件的处理&body=Check out this article: http://blog.justbilt.com/2015/03/16/quickxdev-2/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&title=QuickxDev插件(二) debug.log文件的处理"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://blog.justbilt.com/2015/03/16/quickxdev-2/&name=QuickxDev插件(二) debug.log文件的处理&description=&lt;p&gt;上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.&lt;/p&gt;"><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2017 justbilt
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/justbilt">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css" type="text/css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css" type="text/css">


<!-- jquery -->
<script src="/lib/jquery/jquery.min.js" type="text/javascript"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-69555091-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'justbilt';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


