<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>QuickxDev插件(二) debug.log文件的处理 | Justbilt</title>
  <meta name="description" content="A game developer" />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" href="/">
  <link rel="alternate" href="/atom.xml" title="Justbilt">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.">
<meta name="keywords" content="Quick-Cocos2d-x,QuickxDev">
<meta property="og:type" content="article">
<meta property="og:title" content="QuickxDev插件(二) debug.log文件的处理">
<meta property="og:url" content="http://blog.justbilt.com/2015/03/16/quickxdev-2/index.html">
<meta property="og:site_name" content="Justbilt">
<meta property="og:description" content="上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://blog.justbilt.com/img/QQ20150316-2.jpg">
<meta property="og:image" content="http://blog.justbilt.com/img/QQ20150316-3.jpg">
<meta property="og:updated_time" content="2017-03-12T02:22:53.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="QuickxDev插件(二) debug.log文件的处理">
<meta name="twitter:description" content="上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.">
<meta name="twitter:image" content="http://blog.justbilt.com/img/QQ20150316-2.jpg">
    
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href='//cdn.bootcss.com/node-waves/0.7.5/waves.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>

<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href='/' >
				Justbilt
			</a>
			<div class='menu'>
				<ul class='h-list'>
					
						<li>
							<a class='flat-box nav-home' href='/'>
								Home
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-archives' href='/archives'>
								Archives
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-links' href='/links'>
								Links
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-about' href='/about'>
								About
							</a>
						</li>
					
				</ul>
				<div class='underline'></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a href='javascript:void(0)'><span class="icon icon-search flat-box"></span></a></li>
				
				<li class='s-menu'><a href='javascript:void(0)'><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>
		
		<div class='nav-sub container container--flex'>
			<a class="logo" class="flat-box" href='javascript:void(0)'>
				Word of Forks
			</a>

			<ul class='switcher h-list'>
				<li class='s-comment'><a href='javascript:void(0)'><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class='s-top'><a href='javascript:void(0)'><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li>
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/" class="nav-home nav">
				Home
			</a>
		
			<a href="/archives" class="nav-archives nav">
				Archives
			</a>
		
			<a href="/links" class="nav-links nav">
				Links
			</a>
		
			<a href="/about" class="nav-about nav">
				About
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        <article id="post-quickxdev-2"
  class="post white-box article-type-post"
  itemscope itemprop="blogPost">
	<section class='meta'>
	<h2 class="title">
  	<a href="/2015/03/16/quickxdev-2/">
    	QuickxDev插件(二) debug.log文件的处理
    </a>
  </h2>
	<time>
	  3月 16, 2015
	</time>
	
	</section>
	
		<section class="toc-wrapper"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一-对-debug-log-文件进行配色"><span class="toc-number">1.</span> <span class="toc-text"><a href="#&#x4E00;-&#x5BF9;-debug-log-&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x914D;&#x8272;" class="headerlink" title="&#x4E00;. &#x5BF9; debug.log &#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x914D;&#x8272;"></a>&#x4E00;. &#x5BF9; debug.log &#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x914D;&#x8272;</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二-启动-Player-时打开-debug-log-文件"><span class="toc-number">2.</span> <span class="toc-text"><a href="#&#x4E8C;-&#x542F;&#x52A8;-Player-&#x65F6;&#x6253;&#x5F00;-debug-log-&#x6587;&#x4EF6;" class="headerlink" title="&#x4E8C;. &#x542F;&#x52A8; Player &#x65F6;&#x6253;&#x5F00; debug.log &#x6587;&#x4EF6;"></a>&#x4E8C;. &#x542F;&#x52A8; Player &#x65F6;&#x6253;&#x5F00; debug.log &#x6587;&#x4EF6;</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三-错误堆栈-dump-的跳转"><span class="toc-number">3.</span> <span class="toc-text"><a href="#&#x4E09;-&#x9519;&#x8BEF;&#x5806;&#x6808;-dump-&#x7684;&#x8DF3;&#x8F6C;" class="headerlink" title="&#x4E09;. &#x9519;&#x8BEF;&#x5806;&#x6808;/dump &#x7684;&#x8DF3;&#x8F6C;"></a>&#x4E09;. &#x9519;&#x8BEF;&#x5806;&#x6808;/dump &#x7684;&#x8DF3;&#x8F6C;</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-添加鼠标双击的响应"><span class="toc-number">3.1.</span> <span class="toc-text"><a href="#1-&#x6DFB;&#x52A0;&#x9F20;&#x6807;&#x53CC;&#x51FB;&#x7684;&#x54CD;&#x5E94;" class="headerlink" title="1. &#x6DFB;&#x52A0;&#x9F20;&#x6807;&#x53CC;&#x51FB;&#x7684;&#x54CD;&#x5E94;"></a>1. &#x6DFB;&#x52A0;&#x9F20;&#x6807;&#x53CC;&#x51FB;&#x7684;&#x54CD;&#x5E94;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-获取鼠标双击的所在行"><span class="toc-number">3.2.</span> <span class="toc-text"><a href="#2-&#x83B7;&#x53D6;&#x9F20;&#x6807;&#x53CC;&#x51FB;&#x7684;&#x6240;&#x5728;&#x884C;" class="headerlink" title="2. &#x83B7;&#x53D6;&#x9F20;&#x6807;&#x53CC;&#x51FB;&#x7684;&#x6240;&#x5728;&#x884C;"></a>2. &#x83B7;&#x53D6;&#x9F20;&#x6807;&#x53CC;&#x51FB;&#x7684;&#x6240;&#x5728;&#x884C;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-计算跳转的文件和行号"><span class="toc-number">3.3.</span> <span class="toc-text"><a href="#3-&#x8BA1;&#x7B97;&#x8DF3;&#x8F6C;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x884C;&#x53F7;" class="headerlink" title="3. &#x8BA1;&#x7B97;&#x8DF3;&#x8F6C;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x884C;&#x53F7;"></a>3. &#x8BA1;&#x7B97;&#x8DF3;&#x8F6C;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x884C;&#x53F7;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-跳转"><span class="toc-number">3.4.</span> <span class="toc-text"><a href="#3-&#x8DF3;&#x8F6C;" class="headerlink" title="3. &#x8DF3;&#x8F6C;"></a>3. &#x8DF3;&#x8F6C;</span></a></li></ol></li></ol></section>
	
	<section class="article typo">
  	<div class="article-entry" itemprop="articleBody">
    	<p>上篇文章中我们说过要对debug.log文件做一些特殊处理, 这里我们来看看具体的实现.</p>
<a id="more"></a>
<h1 id="一-对-debug-log-文件进行配色"><a href="#一-对-debug-log-文件进行配色" class="headerlink" title="一. 对 debug.log 文件进行配色"></a>一. 对 debug.log 文件进行配色</h1><p>debug.log文件默认是没有配色的, 灰不拉几不好看. 实现这个其实非常简单, 每一个打开的文件都是一个<code>sublime.View</code>, <code>sublime.View</code>中有现成的函数<code>set_syntax_file</code>来设置文件句法规则, 让我们来看下定义:</p>
<blockquote>
<p>set_syntax_file(syntax_file)<br>Changes the syntax used by the view. syntax_file should be a name along the lines of Packages/Python/Python.tmLanguage. To retrieve the current syntax, use view.settings().get(‘syntax’).</p>
</blockquote>
<p>这个函数其实对应的是 Sublime 菜单栏中的这个:</p>
<p><img src="/img/QQ20150316-2.jpg" alt=""></p>
<p>大家可以多试几次, 挑一个好看点的, 我选中的是 <code>Java</code> 的语法(路径为:<code>Packages/Java/Java.tmLanguage</code>).</p>
<p>下面我们要监听文件 debug.log 的打开, 监听事件需要继承<code>sublime_plugin.EventListener</code>, QuickxDev 已经有了 <code>QuickxListener</code>, 查询 api 可以得知可以监听 <code>on_load</code> 事件来实现.</p>
<blockquote>
<p>on_load(view)<br>Called when the file is finished loading.</p>
</blockquote>
<p>实现的代码也非常的简单:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuickxListener</span><span class="params">(sublime_plugin.EventListener)</span>:</span></span><br><span class="line">	...</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">on_load</span><span class="params">(self, view)</span>:</span></span><br><span class="line">		print(view.file_name())</span><br><span class="line">		<span class="keyword">if</span> view.file_name().find(<span class="string">"debug.log"</span>) != <span class="number">-1</span>:</span><br><span class="line">			view.set_syntax_file(<span class="string">"Packages/Java/Java.tmLanguage"</span>)</span><br></pre></td></tr></table></figure>
<p>让我们来张对比图:</p>
<p><img src="/img/QQ20150316-3.jpg" alt=""></p>
<h1 id="二-启动-Player-时打开-debug-log-文件"><a href="#二-启动-Player-时打开-debug-log-文件" class="headerlink" title="二. 启动 Player 时打开 debug.log 文件"></a>二. 启动 Player 时打开 debug.log 文件</h1><p>因为种种原因, 我的 debug.log 文件没有在 Sublime 工程中, 所以每次想看日志都得在磁盘上找到这个文件, 拖进来, 略显繁琐. 因此萌生了运行 player 时顺带打开 debug.log 文件的需求.</p>
<p>实现起来也十分简单, 查询 api 得知:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">open_file(file_name, &lt;flags&gt;)	</span><br><span class="line">	Opens the named file, and returns the corresponding view. If the file is already opened, it will be brought to the front. Note that as file loading is asynchronous, operations on the returned view won&apos;t be possible until its is_loading() method returns False.</span><br><span class="line">	The optional flags parameter is a bitwise combination of:</span><br><span class="line"></span><br><span class="line">	sublime.ENCODED_POSITION. Indicates the file_name should be searched for a :row or :row:col suffix</span><br><span class="line">	sublime.TRANSIENT. Open the file as a preview only: it won&apos;t have a tab assigned it until modified</span><br></pre></td></tr></table></figure>
<p><code>file_name</code>文件名不说, 后面的 flags 比较有意思: </p>
<ol>
<li><code>sublime.ENCODED_POSITION</code> 选项可以再在打开文件的同时定位到某一行/某一列,非常有用.</li>
<li><code>sublime.TRANSIENT</code> 选项意思是只是预览它, 直到手动改变内容前不创建标签 .</li>
</ol>
<p>下面我们找到启动 Player 的地方, 因为<code>file_name</code>是全路径, 所以我们需要找到工程的路径. 启动 player 时需要传入 <code>-workdir</code> 参数, 我们用这个就行. 实现同样十分简单:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">workdir = os.path.split(path)[<span class="number">0</span>]</span><br><span class="line">args.append(<span class="string">"-workdir"</span>)</span><br><span class="line">args.append(workdir)</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">view.window().open_file(workdir+<span class="string">"/debug.log"</span>)</span><br></pre></td></tr></table></figure>
<h1 id="三-错误堆栈-dump-的跳转"><a href="#三-错误堆栈-dump-的跳转" class="headerlink" title="三. 错误堆栈/dump 的跳转"></a>三. 错误堆栈/dump 的跳转</h1><p>当我查看debug.log 文件时, 经常会看到类似的语句:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.lua 语法错误</span><br><span class="line">/Users/XXXX/scripts/app/MyApp.lua:117: &apos;=&apos; expected near &apos;a&apos;</span><br><span class="line"></span><br><span class="line">2. lua 运行时错误</span><br><span class="line">Cocos2d: [LUA ERROR] [string &quot;/Users/XXX/app/MyApp.lua&quot;]:118: attempt to index local &apos;a&apos; (a nil value)</span><br><span class="line"></span><br><span class="line">3. dump 信息</span><br><span class="line">Cocos2d: [0.0724] dump from: [string &quot;/Users/XXX/scripts/app/MyApp.lua&quot;]:117: in function &apos;ctor&apos;</span><br></pre></td></tr></table></figure>
<p>他们之中都包含了文件名+行号信息, 联想到上面提到打开文件时可以跳转到某一行, 是不是隐隐感觉可以做些什么?</p>
<p>没错, 基于这个, 我们能够很容易的实现双击错误信息后跳转到错误位置.</p>
<h2 id="1-添加鼠标双击的响应"><a href="#1-添加鼠标双击的响应" class="headerlink" title="1. 添加鼠标双击的响应"></a>1. 添加鼠标双击的响应</h2><p>这个比较简单, 我们需要在 QuickxDev 文件夹中创建 <code>Default.sublime-mousemap</code> 文件, 内容如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">	&#123;</span><br><span class="line">	  &quot;button&quot;: &quot;button1&quot;, &quot;count&quot;: 2,</span><br><span class="line">	  &quot;press_command&quot;: &quot;drag_select&quot;,</span><br><span class="line">	  &quot;press_args&quot;: &#123;&quot;by&quot;: &quot;words&quot;&#125;,</span><br><span class="line">	  &quot;command&quot;: &quot;my_special_doubleclick&quot;</span><br><span class="line">	&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>这样在双击左键的时候会发送 <code>my_special_doubleclick</code> 事件, 我们在 quickx.py 中定义它:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySpecialDoubleclickCommand</span><span class="params">(sublime_plugin.TextCommand)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self, edit)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">not</span> self.view.file_name():</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		file_path, file_name = os.path.split(self.view.file_name())</span><br><span class="line">		<span class="keyword">if</span> file_name == <span class="string">"debug.log"</span>:</span><br><span class="line">			print(file_path, file_name)</span><br></pre></td></tr></table></figure>
<p>我们双击 debug.log 文件的某一行就会收到<code>MySpecialDoubleclickCommand</code>命令, 进而打印出文件名, 路径!</p>
<h2 id="2-获取鼠标双击的所在行"><a href="#2-获取鼠标双击的所在行" class="headerlink" title="2. 获取鼠标双击的所在行"></a>2. 获取鼠标双击的所在行</h2><p>因为双击会选中某个单词, 所以我们可以使用<code>sublime.View.sel()</code>来获取当前选中的行:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> region <span class="keyword">in</span> self.view.sel():</span><br><span class="line">	<span class="keyword">if</span> <span class="keyword">not</span> region.empty():</span><br><span class="line">		line = self.view.substr(self.view.line(region.a))</span><br><span class="line">		<span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"line:"</span>,line)</span><br></pre></td></tr></table></figure>
<h2 id="3-计算跳转的文件和行号"><a href="#3-计算跳转的文件和行号" class="headerlink" title="3. 计算跳转的文件和行号"></a>3. 计算跳转的文件和行号</h2><p>因为不会正则, 只能用一些土办法来计算文件和行号, 代码如下, 比较简单:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">def parseLuaError(line):</span><br><span class="line">	key = &quot;.lua:&quot;</span><br><span class="line">	posKeyStart = line.find(key)</span><br><span class="line">	if posKeyStart == -1:</span><br><span class="line">		return False,&quot;&quot;</span><br><span class="line">	posKeyEnd = posKeyStart + len(key)</span><br><span class="line">	filename = line[:posKeyStart].strip(&quot; \t&quot;)+&quot;.lua&quot;</span><br><span class="line">	fileline = line[posKeyEnd:line.find(&quot;:&quot;,posKeyEnd)]</span><br><span class="line"></span><br><span class="line">	return True, filename+&quot;:&quot;+fileline</span><br><span class="line"></span><br><span class="line">def parseCocosErrorAndDump(line):</span><br><span class="line">	filename = &quot;&quot;</span><br><span class="line">	fileline = 1</span><br><span class="line">	keyHead = &quot;[string \&quot;&quot;</span><br><span class="line">	posHeadStart = line.find(keyHead)</span><br><span class="line">	if posHeadStart == -1:</span><br><span class="line">		return False,&quot;&quot;</span><br><span class="line"></span><br><span class="line">	posHeadEnd = posHeadStart + len(keyHead)</span><br><span class="line"></span><br><span class="line">	key = &quot;.lua\&quot;]:&quot;</span><br><span class="line">	posKeyStart = line.find(key,posHeadStart)</span><br><span class="line">	</span><br><span class="line">	if posHeadStart == -1:</span><br><span class="line">		return False,&quot;&quot;</span><br><span class="line"></span><br><span class="line">	posKeyEnd = posKeyStart + len(key)</span><br><span class="line"></span><br><span class="line">	filename = line[posHeadEnd:posKeyStart]+&quot;.lua&quot;</span><br><span class="line">	fileline = line[posKeyEnd:line.find(&quot;:&quot;,posKeyEnd)]</span><br><span class="line"></span><br><span class="line">	return True, filename+&quot;:&quot;+fileline</span><br></pre></td></tr></table></figure>
<p>想想还是正则会比较简单, 以后有机会在改吧!</p>
<h2 id="3-跳转"><a href="#3-跳转" class="headerlink" title="3. 跳转"></a>3. 跳转</h2><p>在上面的步骤中我们拿到了文件名和行号, 现在我们只需要跳转就OK了!</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parseLine</span><span class="params">(self, line)</span>:</span></span><br><span class="line">	re,string = self.parseCocosErrorAndDump(line)</span><br><span class="line">	<span class="keyword">if</span> re:</span><br><span class="line">		<span class="keyword">return</span> re,string</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> self.parseLuaError(line)</span><br><span class="line"></span><br><span class="line">re,filename = self.parseLine(line)</span><br><span class="line"><span class="keyword">if</span> re:</span><br><span class="line">	self.view.window().open_file(filename,sublime.ENCODED_POSITION)</span><br></pre></td></tr></table></figure>
<p>是啦,就是这么简单! 意外的发现这个功能对错误堆栈的跳转十分给力! 录了几个小 GIF, 感受一下吧!</p>
<p><a href="/img/2015-03-19-001.gif">演示一</a>,<a href="/img/2015-03-19-002.gif">演示二</a>,<a href="/img/2015-03-19-003.gif">演示三</a>,<a href="http://ww1.sinaimg.cn/large/7f870d23jw1eqb60t0ritg20yc0bie82.gif" target="_blank" rel="noopener">演示四</a></p>
<p>其实这些功能实现起来都不难, 但是却能令自己感觉很爽很有成就感, 这恐怕就是做游戏所不能体会到的吧! 哈哈!</p>
<p>(本文完)</p>

  	</div>
	  
	  <div class="article-tags tags">
      
        <a href="/tags/Quick-Cocos2d-x/">Quick-Cocos2d-x</a>
      
        <a href="/tags/QuickxDev/">QuickxDev</a>
      
	  </div>
    
	</section>
	
		<section id="comments">
			<div id="disqus_thread"></div>
		</section>
	
</article>
<script>
	window.subData = {
		title: 'QuickxDev插件(二) debug.log文件的处理',
		tools: true
	}
</script>

      </div>
      <aside class='l_side'>
        
  <section class='m_widget about'>

<img class='avatar waves-image' src='/favicon/slogon.gif' />

<div class='header'>justbilt</div>
<div class='content'>
<div class='desc'>"Only learning can make me happy"</div>
</div>
</section>

  
<div class="m_widget tagcloud">
    <div class="header">Tags</div>
    <div class='content'>
        <a href="/tags/Android/" style="font-size: 14.86px; color: #6e6e6e">Android</a> <a href="/tags/CCRenderTexture/" style="font-size: 14px; color: #808080">CCRenderTexture</a> <a href="/tags/CocosBuilder/" style="font-size: 14px; color: #808080">CocosBuilder</a> <a href="/tags/CocosCreaor/" style="font-size: 14px; color: #808080">CocosCreaor</a> <a href="/tags/EditBox/" style="font-size: 14px; color: #808080">EditBox</a> <a href="/tags/Electron/" style="font-size: 14.86px; color: #6e6e6e">Electron</a> <a href="/tags/FAlign/" style="font-size: 14px; color: #808080">FAlign</a> <a href="/tags/IAB/" style="font-size: 14px; color: #808080">IAB</a> <a href="/tags/IAP/" style="font-size: 14px; color: #808080">IAP</a> <a href="/tags/Lua/" style="font-size: 16.57px; color: #494949">Lua</a> <a href="/tags/MemoryLeak/" style="font-size: 14px; color: #808080">MemoryLeak</a> <a href="/tags/MyGUI/" style="font-size: 14.86px; color: #6e6e6e">MyGUI</a> <a href="/tags/PyQt/" style="font-size: 14.86px; color: #6e6e6e">PyQt</a> <a href="/tags/Python/" style="font-size: 14.86px; color: #6e6e6e">Python</a> <a href="/tags/Quick-Cocos2d-x/" style="font-size: 20px; color: #000">Quick-Cocos2d-x</a> <a href="/tags/QuickxDev/" style="font-size: 14.86px; color: #6e6e6e">QuickxDev</a> <a href="/tags/TableView/" style="font-size: 14px; color: #808080">TableView</a> <a href="/tags/TexturePacker/" style="font-size: 14px; color: #808080">TexturePacker</a> <a href="/tags/TiledMap/" style="font-size: 14px; color: #808080">TiledMap</a> <a href="/tags/Tool/" style="font-size: 18.29px; color: #252525">Tool</a> <a href="/tags/WebView/" style="font-size: 14px; color: #808080">WebView</a> <a href="/tags/blog/" style="font-size: 15.71px; color: #5b5b5b">blog</a> <a href="/tags/cocos2d-x/" style="font-size: 18.29px; color: #252525">cocos2d-x</a> <a href="/tags/code-style/" style="font-size: 14.86px; color: #6e6e6e">code-style</a> <a href="/tags/comment/" style="font-size: 14px; color: #808080">comment</a> <a href="/tags/convert2fnt/" style="font-size: 15.71px; color: #5b5b5b">convert2fnt</a> <a href="/tags/crash/" style="font-size: 14.86px; color: #6e6e6e">crash</a> <a href="/tags/duoshuo/" style="font-size: 14px; color: #808080">duoshuo</a> <a href="/tags/git/" style="font-size: 14px; color: #808080">git</a> <a href="/tags/hexo/" style="font-size: 14px; color: #808080">hexo</a> <a href="/tags/hotupdate/" style="font-size: 14.86px; color: #6e6e6e">hotupdate</a> <a href="/tags/i18n/" style="font-size: 14px; color: #808080">i18n</a> <a href="/tags/iOS/" style="font-size: 19.14px; color: #121212">iOS</a> <a href="/tags/iOS-Dev-Tips/" style="font-size: 17.43px; color: #373737">iOS-Dev-Tips</a> <a href="/tags/ldoc/" style="font-size: 14px; color: #808080">ldoc</a> <a href="/tags/neat-freak/" style="font-size: 15.71px; color: #5b5b5b">neat-freak</a> <a href="/tags/pyqtdeploy/" style="font-size: 14px; color: #808080">pyqtdeploy</a> <a href="/tags/python/" style="font-size: 14px; color: #808080">python</a> <a href="/tags/spine/" style="font-size: 14.86px; color: #6e6e6e">spine</a> <a href="/tags/untp/" style="font-size: 15.71px; color: #5b5b5b">untp</a> <a href="/tags/utf8/" style="font-size: 14px; color: #808080">utf8</a> <a href="/tags/videoplayer/" style="font-size: 14px; color: #808080">videoplayer</a> <a href="/tags/优化/" style="font-size: 14.86px; color: #6e6e6e">优化</a> <a href="/tags/年结/" style="font-size: 16.57px; color: #494949">年结</a> <a href="/tags/手机游戏攻防/" style="font-size: 15.71px; color: #5b5b5b">手机游戏攻防</a> <a href="/tags/批量打包/" style="font-size: 14px; color: #808080">批量打包</a> <a href="/tags/游戏心得/" style="font-size: 18.29px; color: #252525">游戏心得</a> <a href="/tags/生活/" style="font-size: 14.86px; color: #6e6e6e">生活</a> <a href="/tags/音效/" style="font-size: 14.86px; color: #6e6e6e">音效</a>
    </div>
</div>



      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/justbilt" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://weibo.com/justbilt" class="social weibo"
          target="_blank" rel="external">
          <span class="icon icon-weibo"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>
  
  <div>Theme <a href='https://github.com/stkevintan/hexo-theme-material-flow' class="codename">MaterialFlow</a> designed by <a href="http://keyin.me/" target="_blank">Kevin Tan</a>.</div>
  
</footer>


  <script>setLoadingBarProgress(80);</script>
  
<script>
  var disqus_shortname = 'justbilt';
  
  var disqus_url = 'http://blog.justbilt.com/2015/03/16/quickxdev-2/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='//cdn.bootcss.com/node-waves/0.7.5/waves.min.js'></script>
<script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>
<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
</body>
</html>
