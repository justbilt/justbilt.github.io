<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,minimal-ui">

<meta name="apple-mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<meta name="apple-mobile-web-app-title" content="Justbilt">

<meta name="format-detection" content="telephone=no,email=no,address=no">

<meta name="screen-orientation" content="portrait">

<meta name="full-screen" content="yes">

<meta name="browsermode" content="application">

<meta name="x5-orientation" content="portrait">

<meta name="x5-fullscreen" content="true">

<meta name="x5-page-mode" content="app">

<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="author" content="justbilt">


  <meta name="keywords" content="">



  <meta name="description" content="中文使用说明">



  <link rel="shortcut icon" href="/favicon.ico">

<link rel="stylesheet" href="/css/style.css">

  <title> 一个命令行的 TexturePacker 拆解工具  (二) || Justbilt </title>
</head>
<body>
  <div class="mobile-navbar" id="mobileNavbar">
  <div class="mobile-navbar-logo">
    <a href="/." class="logo">Justbilt</a>
  </div>
  
  <div class="mobile-navbar-menu" id="menuBar">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<div class="mobile-menu" id="mobileMenu">
  <ul class="mobile-menu-list">
  
    <li class="mobile-menu-item">
      
      <a href="/">
        
          Home
        
      </a>
    </li>
  
    <li class="mobile-menu-item">
      
      <a href="/archives">
        
          Archive
        
      </a>
    </li>
  
    <li class="mobile-menu-item">
      
      <a href="/tags">
        
          Tags
        
      </a>
    </li>
  
    <li class="mobile-menu-item">
      
      <a href="/about">
        
          About
        
      </a>
    </li>
  
  </ul>
</div>

  <div class="container" id="main">
    <div class="layout">
      <ul class="menu">
  
  
    <li class="menu-item">
      <a href="/" class="iconfont icon-home"></a>
      
      
        <span>Home</span>
      
    </li>
  
    <li class="menu-item">
      <a href="/archives" class="iconfont icon-archive"></a>
      
      
        <span>Archive</span>
      
    </li>
  
    <li class="menu-item">
      <a href="/tags" class="iconfont icon-tags"></a>
      
      
        <span>Tags</span>
      
    </li>
  
    <li class="menu-item">
      <a href="/about" class="iconfont icon-about"></a>
      
      
        <span>About</span>
      
    </li>
  
</ul>

      
  
  <article class="post">
    <h1 class="post-title">
      
        一个命令行的 TexturePacker 拆解工具  (二)
      
    </h1>
    <div class="post-pub">
      <div class="post-date">
        <i class="iconfont">&#xe64d;</i>
        <span>2016-10-29</span>
      </div>
      <div class="post-cat">
        
      </div>
    </div>

    <div class="post-content">
      

      
        <p>距离第一版的 <code>untp</code> 发布已经有一年半的时间了, 在这个项目上我收获了很多的第一次:</p>
<blockquote>
<p>第一次有一个项目的 star 数超过 50<br>第一次往 pypi 上上传项目<br>第一次如此认真的维护一个项目<br>…</p>
</blockquote>
<p>这篇文章已经是关于 untp 的第三篇文章了, 所有的文章列表可以<a href="/tags/untp">查看这里</a>. 下面我来讲讲 untp 最近的几次更新以及后续的一个维护计划.</p>
<a id="more"></a>
<h1 id="一-更新"><a href="#一-更新" class="headerlink" title="一. 更新"></a>一. 更新</h1><h2 id="1-1-5"><a href="#1-1-5" class="headerlink" title="1.1.5"></a>1.1.5</h2><ol>
<li>修复: plist 中图片没有后缀会拆解失败的 bug</li>
</ol>
<h2 id="1-1-4"><a href="#1-1-4" class="headerlink" title="1.1.4"></a>1.1.4</h2><ol>
<li>修复: 图片 mode 是 <code>P</code> 的情况下会拆解失败的 bug</li>
</ol>
<h2 id="1-1-3"><a href="#1-1-3" class="headerlink" title="1.1.3"></a>1.1.3</h2><ol>
<li>新增: 支持 CocoStudio v0 导出的动画格式</li>
</ol>
<h2 id="1-1-2"><a href="#1-1-2" class="headerlink" title="1.1.2"></a>1.1.2</h2><ol>
<li>新增: 拆解文件夹也支持指定输出目录了</li>
<li>新增: 单元测试, 以后发版本会稳很多</li>
</ol>
<h2 id="1-1-1"><a href="#1-1-1" class="headerlink" title="1.1.1"></a>1.1.1</h2><ol>
<li>修复: <code>plist + jpg</code> 会拆解失败的 bug</li>
</ol>
<h2 id="1-1-0"><a href="#1-1-0" class="headerlink" title="1.1.0"></a>1.1.0</h2><ol>
<li>添加了简易 GUI 界面的支持, 已经不能说是 <em>A command line tool</em> 了</li>
<li>同时兼容了 Python2 和 Python3</li>
</ol>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fktqhfw5m8j30eo07c0t6.jpg" alt=""></p>
<p>安装最新版本后, 输入 <code>untp</code> 不加任何参数就会打开 GUI 界面, 一个按钮拆解单个文件, 一个按钮拆解文件夹, 下方是日志窗口.</p>
<h2 id="1-0-9"><a href="#1-0-9" class="headerlink" title="1.0.9"></a>1.0.9</h2><ol>
<li>修复: 解析 plist 时因为数据中含有空白符号导致解析失败的 bug</li>
</ol>
<h2 id="1-0-8"><a href="#1-0-8" class="headerlink" title="1.0.8"></a>1.0.8</h2><ol>
<li>新增: 支持 cocos2d-0.99.4 v1 格式支持</li>
</ol>
<h2 id="1-0-7"><a href="#1-0-7" class="headerlink" title="1.0.7"></a>1.0.7</h2><ol>
<li>修复: 解析文件返回值错误导致解析失败</li>
</ol>
<h2 id="1-0-6"><a href="#1-0-6" class="headerlink" title="1.0.6"></a>1.0.6</h2><ol>
<li>新增: 可以将 fnt 转化为图片</li>
<li>修复: 将 pvr 转化为 png 时会污染原始目录</li>
<li>修复: 当 plist 中的图片含有路径时无法正确生成图片</li>
<li>修复: 当 offset 为 float 值时解析 plist 出错</li>
</ol>
<h2 id="1-0-5"><a href="#1-0-5" class="headerlink" title="1.0.5"></a>1.0.5</h2><ol>
<li>拆解单个文件时支持 <code>-o</code> 参数指定输出目录</li>
<li>可以在 <code>python</code> 中 <code>import</code></li>
<li>支持 cocos2d/cocos2d-x v3 格式</li>
</ol>
<h2 id="1-0-4"><a href="#1-0-4" class="headerlink" title="1.0.4"></a>1.0.4</h2><ol>
<li>使用 argparse 解析调用参数, 支持更多选项</li>
<li>捕获图片打开异常, 程序更加健壮</li>
<li>支持文件夹递归查找所有 plist 拆解</li>
</ol>
<h2 id="1-0-3"><a href="#1-0-3" class="headerlink" title="1.0.3"></a>1.0.3</h2><ol>
<li>修复依赖 Pillow 模块版本大于 3.0 时图片输出错误</li>
</ol>
<h2 id="1-0-2"><a href="#1-0-2" class="headerlink" title="1.0.2"></a>1.0.2</h2><ol>
<li>兼容 python3</li>
<li>放弃之前的打包发布, 改为 pypi 发布</li>
<li>修复一处路径错误</li>
<li>根据 python code style 优化代码</li>
<li>pvr,pvr.czz 格式支持 (需要安装 <code>TexturePacker</code> 命令行工具)</li>
</ol>
<h1 id="二-后续计划"><a href="#二-后续计划" class="headerlink" title="二. 后续计划"></a>二. 后续计划</h1><p>untp 这个项目最初来源于项目中的一个需求, 所以开始只是为了自用, 开源之后发现有能帮助一些人, 顺便实现一下他们的一些小需求, 自我更新动力并不是很足, 因此更新的频率不是很高.</p>
<p>之前的发展策略我一直都是按着更便捷安装, 更方便使用方向上走的, 从一开始的 PyInstaller 打包到后面的上传到 pypi , 从开始只支持单一文件到支持目录, 都是按照这个思路搞的.至于后面如何发展我也没有很好的想法, 或许让它停留在这一版也很好. 今天看到张小龙的一篇内部分享, 一个好的工具就应该只是一个工具, 想到就用, 用完就走, 不要想着把用户黏住.</p>
<p>所以, untp 就只是一个拆解大图的工具, 绝对不做其他的功能. 在这个原则的基础上, 有这么几个方向去搞:</p>
<ol>
<li><del>GUI 界面的支持</del> supported since version 1.1.0</li>
<li>支持更多的格式</li>
</ol>
<p>我想使用这个工具的人可能不一定是程序员, 他们不一定懂 pip , 不一定会打开终端. 所以一个 GUI 的界面就很重要了. 第二个是可以让更多引擎的开发者来使用, 现在只支持 cocos 是有些狭隘了, 对自己也是一个很好地的锻炼.</p>
<p>如果你还有更好的建议, 欢迎在评论里或者 <a href="https://github.com/justbilt/untp/issues" target="_blank" rel="noopener">issue</a> 中提出.</p>
<h1 id="三-中文使用说明-持续更新"><a href="#三-中文使用说明-持续更新" class="headerlink" title="三. 中文使用说明(持续更新)"></a>三. 中文使用说明(持续更新)</h1><h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h2><p>现在可以采用两种方式安装, 在终端中键入 <code>pip install untp</code> 或者 clone 代码到本地, 在根目录 <code>python setup install</code> .</p>
<h2 id="2-使用"><a href="#2-使用" class="headerlink" title="2. 使用"></a>2. 使用</h2><p>当我们在终端中键入 <code>untp -h</code> 后, 会得到下面这段输出:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">usage:</span><br><span class="line">untp ../btn.plist</span><br><span class="line">untp ../btn.plist -i ../btn.png</span><br><span class="line">untp ../data</span><br><span class="line">untp ../data -r</span><br><span class="line">positional arguments:</span><br><span class="line">  path                  plist/fnt file name or directory</span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help            show this help message and exit</span><br><span class="line">  -o output, --output output</span><br><span class="line">                        specified output directory</span><br><span class="line">For file:</span><br><span class="line">  -i image_file, --image_file image_file</span><br><span class="line">                        specified image file for plist</span><br><span class="line">For directory:</span><br><span class="line">  -r, --recursive</span><br></pre></td></tr></table></figure>
<p>对于单个 plist 文件, 可以 <code>untp xxx.plist</code> 来拆解它, 会读取 plist 中配置的图片输出到同名的目录中, 可以使用 <code>-i</code> 指定图片.</p>
<p>对于目录, 使用 <code>untp path</code> path 是包含 <code>plist</code> 文件的目录, 可以使用 <code>-r</code> 参数指定遍历子目录.</p>
<p>以上两种都可以使用 <code>-o/--output</code> 指定输出目录.</p>
<p>(以上)</p>

      
    </div>

    
      <div class="post-tags">
        
          <a href="/tags/Tool/" class="tag"><i class="iconfont">&#xe69f;</i>Tool</a>
        
          <a href="/tags/untp/" class="tag"><i class="iconfont">&#xe69f;</i>untp</a>
        
      </div>
    

  </article>

  
  <nav class="post-nav">
    
      <a href="/2016/12/10/quickx-playvideo/" class="prev">
        <i class="iconfont">&#xe619;</i>
        <span class="prev-text nav-default">Quick-cocos2d-x 视频播放</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a href="/2016/09/23/quickx-utf8-support/" class="next">
        <span class="next-text nav-default">Quick-cocos2d-x utf8 支持</span>
        <span class="next-text nav-mobile">Next</span>
        <i class="iconfont">&#xe60e;</i>
      </a>
    
  </nav>



      <div class="footer">
  
    <div class="footer-links">
      
        
          
            <a href="https://github.com/justbilt" class="iconfont icon-github" title="github" target="_blank"></a>
          
        
      
        
          
            <a href="/atom.xml" class="iconfont icon-rili" title="rili" target="_blank"></a>
          
        
      
    </div>
  

  <div class="footer-copy">
    <p>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
      Theme - <a href="https://github.com/yudaren007007/hexo-theme-cold" target="_blank">Cold</a>
    </p>
    <p>
      
      &copy;
      
        2013 -
      
      2018
      <i class="iconfont">&#xe692;</i>
      <span>justbilt</span>
    </p>
  </div>
</div> 
    </div>
  </div>

  <script src="/js/untils.js"></script>
<script src="/js/cold.js"></script>
<script src="/js/boot.js"></script>
</body>
</html>
